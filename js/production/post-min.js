/*

 Crossroads.js <http://millermedeiros.github.com/crossroads.js>
 Released under the MIT license
 Author: Miller Medeiros
 Version: 0.7.1 - Build: 88 (2012/01/06 05:17 PM)
*/
(function(l,f){function i(a){return c.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}function n(a){if(!fa[a]){var b=t.body,g=c("<"+a+">").appendTo(b),h=g.css("display");g.remove();if("none"===h||""===h){G||(G=t.createElement("iframe"),G.frameBorder=G.width=G.height=0);b.appendChild(G);if(!T||!G.createElement)T=(G.contentWindow||G.contentDocument).document,T.write(("CSS1Compat"===t.compatMode?"<!doctype html>":"")+"<html><body>"),T.close();g=T.createElement(a);T.body.appendChild(g);
h=c.css(g,"display");b.removeChild(G)}fa[a]=h}return fa[a]}function q(a,b){var g={};c.each(ra.concat.apply([],ra.slice(0,b)),function(){g[this]=a});return g}function d(){Z=f}function k(){setTimeout(d,0);return Z=c.now()}function p(){try{return new l.XMLHttpRequest}catch(a){}}function m(a,b,g,h){if(c.isArray(b))c.each(b,function(b,j){g||Ra.test(a)?h(a,j):m(a+"["+("object"==typeof j||c.isArray(j)?b:"")+"]",j,g,h)});else if(!g&&null!=b&&"object"==typeof b)for(var j in b)m(a+"["+j+"]",b[j],g,h);else h(a,
b)}function v(a,b){var g,h,j=c.ajaxSettings.flatOptions||{};for(g in b)b[g]!==f&&((j[g]?a:h||(h={}))[g]=b[g]);h&&c.extend(!0,a,h)}function s(a,b,c,h,j,o){j=j||b.dataTypes[0];o=o||{};o[j]=!0;for(var j=a[j],r=0,d=j?j.length:0,k=a===ga,i;r<d&&(k||!i);r++)i=j[r](b,c,h),"string"==typeof i&&(!k||o[i]?i=f:(b.dataTypes.unshift(i),i=s(a,b,c,h,i,o)));(k||!i)&&!o["*"]&&(i=s(a,b,c,h,"*",o));return i}function w(a){return function(b,g){"string"!=typeof b&&(g=b,b="*");if(c.isFunction(g))for(var h=b.toLowerCase().split(sa),
j=0,o=h.length,r,f,d;j<o;j++)r=h[j],d=/^\+/.test(r),d&&(r=r.substr(1)||"*"),f=a[r]=a[r]||[],f[d?"unshift":"push"](g)}}function u(a,b,g){var h="width"===b?a.offsetWidth:a.offsetHeight,j="width"===b?Sa:Ta;if(0<h)return"border"!==g&&c.each(j,function(){g||(h-=parseFloat(c.css(a,"padding"+this))||0);"margin"===g?h+=parseFloat(c.css(a,g+this))||0:h-=parseFloat(c.css(a,"border"+this+"Width"))||0}),h+"px";h=U(a,b,b);if(0>h||null==h)h=a.style[b]||0;h=parseFloat(h)||0;g&&c.each(j,function(){h+=parseFloat(c.css(a,
"padding"+this))||0;"padding"!==g&&(h+=parseFloat(c.css(a,"border"+this+"Width"))||0);"margin"===g&&(h+=parseFloat(c.css(a,g+this))||0)});return h+"px"}function x(a,b){b.src?c.ajax({url:b.src,async:!1,dataType:"script"}):c.globalEval((b.text||b.textContent||b.innerHTML||"").replace(Ua,"/*$0*/"));b.parentNode&&b.parentNode.removeChild(b)}function A(a){c.nodeName(a,"input")?y(a):"getElementsByTagName"in a&&c.grep(a.getElementsByTagName("input"),y)}function y(a){if("checkbox"===a.type||"radio"===a.type)a.defaultChecked=
a.checked}function F(a){return"getElementsByTagName"in a?a.getElementsByTagName("*"):"querySelectorAll"in a?a.querySelectorAll("*"):[]}function M(a,b){var g;if(1===b.nodeType){b.clearAttributes&&b.clearAttributes();b.mergeAttributes&&b.mergeAttributes(a);g=b.nodeName.toLowerCase();if("object"===g)b.outerHTML=a.outerHTML;else if("input"!==g||"checkbox"!==a.type&&"radio"!==a.type)if("option"===g)b.selected=a.defaultSelected;else{if("input"===g||"textarea"===g)b.defaultValue=a.defaultValue}else a.checked&&
(b.defaultChecked=b.checked=a.checked),b.value!==a.value&&(b.value=a.value);b.removeAttribute(c.expando)}}function D(a,b){if(1===b.nodeType&&c.hasData(a)){var g=c.expando,h=c.data(a),j=c.data(b,h);if(h=h[g]){var o=h.events,j=j[g]=c.extend({},h);if(o){delete j.handle;j.events={};for(var r in o){g=0;for(h=o[r].length;g<h;g++)c.event.add(b,r+(o[r][g].namespace?".":"")+o[r][g].namespace,o[r][g],o[r][g].data)}}}}}function E(a,b,g){b=b||0;if(c.isFunction(b))return c.grep(a,function(a,c){return!!b.call(a,
c,a)===g});if(b.nodeType)return c.grep(a,function(a){return a===b===g});if("string"==typeof b){var h=c.grep(a,function(a){return 1===a.nodeType});if(Va.test(b))return c.filter(b,h,!g);b=c.filter(b,h)}return c.grep(a,function(a){return 0<=c.inArray(a,b)===g})}function N(a,b){return(a&&"*"!==a?a+".":"")+b.replace(Wa,"`").replace(Xa,"&")}function B(a){var b,g,h,j,o,r,f,d,k,i,n,m=[];j=[];f=c._data(this,"events");if(!(a.liveFired===this||!f||!f.live||a.target.disabled||a.button&&"click"===a.type)){a.namespace&&
(n=RegExp("(^|\\.)"+a.namespace.split(".").join("\\.(?:.*\\.)?")+"(\\.|$)"));a.liveFired=this;var p=f.live.slice(0);for(f=0;f<p.length;f++)o=p[f],o.origType.replace(ha,"")===a.type?j.push(o.selector):p.splice(f--,1);j=c(a.target).closest(j,a.currentTarget);for(d=0,k=j.length;d<k;d++){i=j[d];for(f=0;f<p.length;f++)if(o=p[f],i.selector===o.selector&&(!n||n.test(o.namespace))&&!i.elem.disabled){r=i.elem;h=null;if("mouseenter"===o.preType||"mouseleave"===o.preType)a.type=o.preType,h=c(a.relatedTarget).closest(o.selector)[0],
h&&c.contains(r,h)&&(h=r);(!h||h!==r)&&m.push({elem:r,handleObj:o,level:i.level})}}for(d=0,k=m.length;d<k;d++){j=m[d];if(g&&j.level>g)break;a.currentTarget=j.elem;a.data=j.handleObj.data;a.handleObj=j.handleObj;o=j.handleObj.origHandler.apply(j.elem,arguments);if(!1===o||a.isPropagationStopped())if(g=j.level,!1===o&&(b=!1),a.isImmediatePropagationStopped())break}return b}}function O(a,b,g){var h=c.extend({},g[0]);h.type=a;h.originalEvent={};h.liveFired=f;c.event.handle.call(b,h);h.isDefaultPrevented()&&
g[0].preventDefault()}function R(){return!0}function L(){return!1}function ta(a,b,g){var h=b+"defer",j=b+"queue",o=b+"mark",r=c.data(a,h,f,!0);r&&("queue"===g||!c.data(a,j,f,!0))&&("mark"===g||!c.data(a,o,f,!0))&&setTimeout(function(){!c.data(a,j,f,!0)&&!c.data(a,o,f,!0)&&(c.removeData(a,h,!0),r.resolve())},0)}function ia(a){for(var b in a)if("toJSON"!==b)return!1;return!0}function ua(a,b,g){if(g===f&&1===a.nodeType)if(g="data-"+b.replace(Ya,"-$1").toLowerCase(),g=a.getAttribute(g),"string"==typeof g){try{g=
"true"===g?!0:"false"===g?!1:"null"===g?null:c.isNaN(g)?Za.test(g)?c.parseJSON(g):g:parseFloat(g)}catch(h){}c.data(a,b,g)}else g=f;return g}var t=l.document,$a=l.navigator,ab=l.location,c=function(){function a(){if(!b.isReady){try{t.documentElement.doScroll("left")}catch(c){setTimeout(a,1);return}b.ready()}}var b=function(a,c){return new b.fn.init(a,c,j)},c=l.jQuery,h=l.$,j,o=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,r=/\S/,d=/^\s+/,k=/\s+$/,i=/\d/,n=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,m=/^[\],:{}\s]*$/,
p=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,s=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,q=/(?:^|:|,)(?:\s*\[)+/g,w=/(webkit)[ \/]([\w.]+)/,v=/(opera)(?:.*version)?[ \/]([\w.]+)/,u=/(msie) ([\w.]+)/,A=/(mozilla)(?:.*? rv:([\w.]+))?/,z=/-([a-z]|[0-9])/ig,X=/^-ms-/,bb=function(a,b){return(b+"").toUpperCase()},cb=$a.userAgent,aa,ba,V,db=Object.prototype.toString,x=Object.prototype.hasOwnProperty,O=Array.prototype.push,B=Array.prototype.slice,y=String.prototype.trim,F=Array.prototype.indexOf,
D={};b.fn=b.prototype={constructor:b,init:function(a,c,g){var h,j,z;if(!a)return this;if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if("body"===a&&!c&&t.body)return this.context=t,this[0]=t.body,this.selector=a,this.length=1,this;if("string"==typeof a){"<"!==a.charAt(0)||">"!==a.charAt(a.length-1)||3>a.length?h=o.exec(a):h=[null,a,null];if(h&&(h[1]||!c)){if(h[1])return c=c instanceof b?c[0]:c,z=c?c.ownerDocument||c:t,j=n.exec(a),j?b.isPlainObject(c)?(a=[t.createElement(j[1])],b.fn.attr.call(a,
c,!0)):a=[z.createElement(j[1])]:(j=b.buildFragment([h[1]],[z]),a=(j.cacheable?b.clone(j.fragment):j.fragment).childNodes),b.merge(this,a);if((c=t.getElementById(h[2]))&&c.parentNode){if(c.id!==h[2])return g.find(a);this.length=1;this[0]=c}this.context=t;this.selector=a;return this}return!c||c.jquery?(c||g).find(a):this.constructor(c).find(a)}if(b.isFunction(a))return g.ready(a);a.selector!==f&&(this.selector=a.selector,this.context=a.context);return b.makeArray(a,this)},selector:"",jquery:"1.6.4",
length:0,size:function(){return this.length},toArray:function(){return B.call(this,0)},get:function(a){return null==a?this.toArray():0>a?this[this.length+a]:this[a]},pushStack:function(a,c,g){var h=this.constructor();b.isArray(a)?O.apply(h,a):b.merge(h,a);h.prevObject=this;h.context=this.context;"find"===c?h.selector=this.selector+(this.selector?" ":"")+g:c&&(h.selector=this.selector+"."+c+"("+g+")");return h},each:function(a,c){return b.each(this,a,c)},ready:function(a){b.bindReady();ba.done(a);
return this},eq:function(a){return-1===a?this.slice(a):this.slice(a,+a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(B.apply(this,arguments),"slice",B.call(arguments).join(","))},map:function(a){return this.pushStack(b.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:O,sort:[].sort,splice:[].splice};b.fn.init.prototype=b.fn;b.extend=b.fn.extend=function(){var a,c,
g,h,j,o,z=arguments[0]||{},r=1,d=arguments.length,X=!1;for("boolean"==typeof z&&(X=z,z=arguments[1]||{},r=2),"object"!=typeof z&&!b.isFunction(z)&&(z={}),d===r&&(z=this,--r);r<d;r++)if(null!=(a=arguments[r]))for(c in a)g=z[c],h=a[c],z!==h&&(X&&h&&(b.isPlainObject(h)||(j=b.isArray(h)))?(j?(j=!1,o=g&&b.isArray(g)?g:[]):o=g&&b.isPlainObject(g)?g:{},z[c]=b.extend(X,o,h)):h!==f&&(z[c]=h));return z};b.extend({noConflict:function(a){l.$===b&&(l.$=h);a&&l.jQuery===b&&(l.jQuery=c);return b},isReady:!1,readyWait:1,
holdReady:function(a){a?b.readyWait++:b.ready(!0)},ready:function(a){if(!0===a&&!--b.readyWait||!0!==a&&!b.isReady){if(!t.body)return setTimeout(b.ready,1);b.isReady=!0;!0!==a&&0<--b.readyWait||(ba.resolveWith(t,[b]),b.fn.trigger&&b(t).trigger("ready").unbind("ready"))}},bindReady:function(){if(!ba){ba=b._Deferred();if("complete"===t.readyState)return setTimeout(b.ready,1);if(t.addEventListener)t.addEventListener("DOMContentLoaded",V,!1),l.addEventListener("load",b.ready,!1);else if(t.attachEvent){t.attachEvent("onreadystatechange",
V);l.attachEvent("onload",b.ready);var c=!1;try{c=null==l.frameElement}catch(g){}t.documentElement.doScroll&&c&&a()}}},isFunction:function(a){return"function"===b.type(a)},isArray:Array.isArray||function(a){return"array"===b.type(a)},isWindow:function(a){return a&&"object"==typeof a&&"setInterval"in a},isNaN:function(a){return null==a||!i.test(a)||isNaN(a)},type:function(a){return null==a?""+a:D[db.call(a)]||"object"},isPlainObject:function(a){if(!a||"object"!==b.type(a)||a.nodeType||b.isWindow(a))return!1;
try{if(a.constructor&&!x.call(a,"constructor")&&!x.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}for(var g in a);return g===f||x.call(a,g)},isEmptyObject:function(a){for(var b in a)return!1;return!0},error:function(a){throw a;},parseJSON:function(a){if("string"!=typeof a||!a)return null;a=b.trim(a);if(l.JSON&&l.JSON.parse)return l.JSON.parse(a);if(m.test(a.replace(p,"@").replace(s,"]").replace(q,"")))return(new Function("return "+a))();b.error("Invalid JSON: "+a)},parseXML:function(a){var c,
g;try{l.DOMParser?(g=new DOMParser,c=g.parseFromString(a,"text/xml")):(c=new ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(a))}catch(h){c=f}(!c||!c.documentElement||c.getElementsByTagName("parsererror").length)&&b.error("Invalid XML: "+a);return c},noop:function(){},globalEval:function(a){a&&r.test(a)&&(l.execScript||function(a){l.eval.call(l,a)})(a)},camelCase:function(a){return a.replace(X,"ms-").replace(z,bb)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toUpperCase()===b.toUpperCase()},
each:function(a,c,g){var h,j=0,o=a.length,z=o===f||b.isFunction(a);if(g)if(z)for(h in a){if(!1===c.apply(a[h],g))break}else for(;j<o&&!(!1===c.apply(a[j++],g)););else if(z)for(h in a){if(!1===c.call(a[h],h,a[h]))break}else for(;j<o&&!(!1===c.call(a[j],j,a[j++])););return a},trim:y?function(a){return null==a?"":y.call(a)}:function(a){return null==a?"":(a+"").replace(d,"").replace(k,"")},makeArray:function(a,c){var g=c||[];if(null!=a){var h=b.type(a);null==a.length||"string"===h||"function"===h||"regexp"===
h||b.isWindow(a)?O.call(g,a):b.merge(g,a)}return g},inArray:function(a,b){if(!b)return-1;if(F)return F.call(b,a);for(var c=0,g=b.length;c<g;c++)if(b[c]===a)return c;return-1},merge:function(a,b){var c=a.length,g=0;if("number"==typeof b.length)for(var h=b.length;g<h;g++)a[c++]=b[g];else for(;b[g]!==f;)a[c++]=b[g++];a.length=c;return a},grep:function(a,b,c){for(var g=[],h,c=!!c,j=0,o=a.length;j<o;j++)h=!!b(a[j],j),c!==h&&g.push(a[j]);return g},map:function(a,c,g){var h,j,o=[],z=0,r=a.length;if(a instanceof
b||r!==f&&"number"==typeof r&&(0<r&&a[0]&&a[r-1]||0===r||b.isArray(a)))for(;z<r;z++)h=c(a[z],z,g),null!=h&&(o[o.length]=h);else for(j in a)h=c(a[j],j,g),null!=h&&(o[o.length]=h);return o.concat.apply([],o)},guid:1,proxy:function(a,c){if("string"==typeof c){var g=a[c];c=a;a=g}if(!b.isFunction(a))return f;var h=B.call(arguments,2),g=function(){return a.apply(c,h.concat(B.call(arguments)))};g.guid=a.guid=a.guid||g.guid||b.guid++;return g},access:function(a,c,g,h,j,o){var z=a.length;if("object"==typeof c){for(var r in c)b.access(a,
r,c[r],h,j,g);return a}if(g!==f){h=!o&&h&&b.isFunction(g);for(r=0;r<z;r++)j(a[r],c,h?g.call(a[r],r,j(a[r],c)):g,o);return a}return z?j(a[0],c):f},now:function(){return(new Date).getTime()},uaMatch:function(a){a=a.toLowerCase();a=w.exec(a)||v.exec(a)||u.exec(a)||0>a.indexOf("compatible")&&A.exec(a)||[];return{browser:a[1]||"",version:a[2]||"0"}},sub:function(){function a(b,c){return new a.fn.init(b,c)}b.extend(!0,a,this);a.superclass=this;a.fn=a.prototype=this();a.fn.constructor=a;a.sub=this.sub;a.fn.init=
function(g,h){h&&h instanceof b&&!(h instanceof a)&&(h=a(h));return b.fn.init.call(this,g,h,c)};a.fn.init.prototype=a.fn;var c=a(t);return a},browser:{}});b.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,b){D["[object "+b+"]"]=b.toLowerCase()});aa=b.uaMatch(cb);aa.browser&&(b.browser[aa.browser]=!0,b.browser.version=aa.version);b.browser.webkit&&(b.browser.safari=!0);r.test("\u00a0")&&(d=/^[\s\xA0]+/,k=/[\s\xA0]+$/);j=b(t);t.addEventListener?V=function(){t.removeEventListener("DOMContentLoaded",
V,!1);b.ready()}:t.attachEvent&&(V=function(){"complete"===t.readyState&&(t.detachEvent("onreadystatechange",V),b.ready())});return b}(),ka="done fail isResolved isRejected promise then always pipe".split(" "),va=[].slice;c.extend({_Deferred:function(){var a=[],b,g,h,j={done:function(){if(!h){var g=arguments,r,f,d,k,i;b&&(i=b,b=0);for(r=0,f=g.length;r<f;r++)d=g[r],k=c.type(d),"array"===k?j.done.apply(j,d):"function"===k&&a.push(d);i&&j.resolveWith(i[0],i[1])}return this},resolveWith:function(c,j){if(!h&&
!b&&!g){j=j||[];g=1;try{for(;a[0];)a.shift().apply(c,j)}finally{b=[c,j],g=0}}return this},resolve:function(){j.resolveWith(this,arguments);return this},isResolved:function(){return!!g||!!b},cancel:function(){h=1;a=[];return this}};return j},Deferred:function(a){var b=c._Deferred(),g=c._Deferred(),h;c.extend(b,{then:function(a,c){b.done(a).fail(c);return this},always:function(){return b.done.apply(b,arguments).fail.apply(this,arguments)},fail:g.done,rejectWith:g.resolveWith,reject:g.resolve,isRejected:g.isResolved,
pipe:function(a,g){return c.Deferred(function(h){c.each({done:[a,"resolve"],fail:[g,"reject"]},function(a,g){var j=g[0],o=g[1],f;c.isFunction(j)?b[a](function(){f=j.apply(this,arguments);f&&c.isFunction(f.promise)?f.promise().then(h.resolve,h.reject):h[o+"With"](this===b?h:this,[f])}):b[a](h[o])})}).promise()},promise:function(a){if(null==a){if(h)return h;h=a={}}for(var c=ka.length;c--;)a[ka[c]]=b[ka[c]];return a}});b.done(g.cancel).fail(b.cancel);delete b.cancel;a&&a.call(b,b);return b},when:function(a){function b(a){return function(b){g[a]=
1<arguments.length?va.call(arguments,0):b;--o||r.resolveWith(r,va.call(g,0))}}var g=arguments,h=0,j=g.length,o=j,r=1>=j&&a&&c.isFunction(a.promise)?a:c.Deferred();if(1<j){for(;h<j;h++)g[h]&&c.isFunction(g[h].promise)?g[h].promise().then(b(h),r.reject):--o;o||r.resolveWith(r,g)}else r!==a&&r.resolveWith(r,j?[a]:[]);return r.promise()}});c.support=function(){var a=t.createElement("div"),b=t.documentElement,g,h,j,o,r,f,d,k,i,n,m,p,s,l,q;a.setAttribute("className","t");a.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>";
g=a.getElementsByTagName("*");h=a.getElementsByTagName("a")[0];if(!g||!g.length||!h)return{};j=t.createElement("select");o=j.appendChild(t.createElement("option"));r=a.getElementsByTagName("input")[0];d={leadingWhitespace:3===a.firstChild.nodeType,tbody:!a.getElementsByTagName("tbody").length,htmlSerialize:!!a.getElementsByTagName("link").length,style:/top/.test(h.getAttribute("style")),hrefNormalized:"/a"===h.getAttribute("href"),opacity:/^0.55$/.test(h.style.opacity),cssFloat:!!h.style.cssFloat,
checkOn:"on"===r.value,optSelected:o.selected,getSetAttribute:"t"!==a.className,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0};r.checked=!0;d.noCloneChecked=r.cloneNode(!0).checked;j.disabled=!0;d.optDisabled=!o.disabled;try{delete a.test}catch(w){d.deleteExpando=!1}!a.addEventListener&&a.attachEvent&&a.fireEvent&&(a.attachEvent("onclick",function(){d.noCloneEvent=!1}),a.cloneNode(!0).fireEvent("onclick"));
r=t.createElement("input");r.value="t";r.setAttribute("type","radio");d.radioValue="t"===r.value;r.setAttribute("checked","checked");a.appendChild(r);k=t.createDocumentFragment();k.appendChild(a.firstChild);d.checkClone=k.cloneNode(!0).cloneNode(!0).lastChild.checked;a.innerHTML="";a.style.width=a.style.paddingLeft="1px";i=t.getElementsByTagName("body")[0];g=t.createElement(i?"div":"body");m={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};i&&c.extend(m,{position:"absolute",
left:"-1000px",top:"-1000px"});for(l in m)g.style[l]=m[l];g.appendChild(a);n=i||b;n.insertBefore(g,n.firstChild);d.appendChecked=r.checked;d.boxModel=2===a.offsetWidth;"zoom"in a.style&&(a.style.display="inline",a.style.zoom=1,d.inlineBlockNeedsLayout=2===a.offsetWidth,a.style.display="",a.innerHTML="<div style='width:4px;'></div>",d.shrinkWrapBlocks=2!==a.offsetWidth);a.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>";p=a.getElementsByTagName("td");
q=0===p[0].offsetHeight;p[0].style.display="";p[1].style.display="none";d.reliableHiddenOffsets=q&&0===p[0].offsetHeight;a.innerHTML="";t.defaultView&&t.defaultView.getComputedStyle&&(f=t.createElement("div"),f.style.width="0",f.style.marginRight="0",a.appendChild(f),d.reliableMarginRight=0===(parseInt((t.defaultView.getComputedStyle(f,null)||{marginRight:0}).marginRight,10)||0));g.innerHTML="";n.removeChild(g);if(a.attachEvent)for(l in{submit:1,change:1,focusin:1})s="on"+l,q=s in a,q||(a.setAttribute(s,
"return;"),q="function"==typeof a[s]),d[l+"Bubbles"]=q;g=k=j=o=i=f=a=r=null;return d}();c.boxModel=c.support.boxModel;var Za=/^(?:\{.*\}|\[.*\])$/,Ya=/([A-Z])/g;c.extend({cache:{},uuid:0,expando:"jQuery"+(c.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){a=a.nodeType?c.cache[a[c.expando]]:a[c.expando];return!!a&&!ia(a)},data:function(a,b,g,h){if(c.acceptData(a)){var j,o,r=c.expando,d="string"==typeof b,
k=a.nodeType,i=k?c.cache:a,n=k?a[c.expando]:a[c.expando]&&c.expando;if(n&&(!h||!n||!i[n]||i[n][r])||!(d&&g===f)){n||(k?a[c.expando]=n=++c.uuid:n=c.expando);i[n]||(i[n]={},k||(i[n].toJSON=c.noop));if("object"==typeof b||"function"==typeof b)h?i[n][r]=c.extend(i[n][r],b):i[n]=c.extend(i[n],b);j=i[n];h&&(j[r]||(j[r]={}),j=j[r]);g!==f&&(j[c.camelCase(b)]=g);if("events"===b&&!j[b])return j[r]&&j[r].events;d?(o=j[b],null==o&&(o=j[c.camelCase(b)])):o=j;return o}}},removeData:function(a,b,g){if(c.acceptData(a)){var h,
j=c.expando,o=a.nodeType,r=o?c.cache:a,f=o?a[c.expando]:c.expando;if(r[f]){if(b&&(h=g?r[f][j]:r[f]))if(h[b]||(b=c.camelCase(b)),delete h[b],!ia(h))return;if(g&&(delete r[f][j],!ia(r[f])))return;b=r[f][j];c.support.deleteExpando||!r.setInterval?delete r[f]:r[f]=null;b?(r[f]={},o||(r[f].toJSON=c.noop),r[f][j]=b):o&&(c.support.deleteExpando?delete a[c.expando]:a.removeAttribute?a.removeAttribute(c.expando):a[c.expando]=null)}}},_data:function(a,b,g){return c.data(a,b,g,!0)},acceptData:function(a){if(a.nodeName){var b=
c.noData[a.nodeName.toLowerCase()];if(b)return!0!==b&&a.getAttribute("classid")===b}return!0}});c.fn.extend({data:function(a,b){var g=null;if("undefined"==typeof a){if(this.length&&(g=c.data(this[0]),1===this[0].nodeType))for(var h=this[0].attributes,j,o=0,r=h.length;o<r;o++)j=h[o].name,0===j.indexOf("data-")&&(j=c.camelCase(j.substring(5)),ua(this[0],j,g[j]));return g}if("object"==typeof a)return this.each(function(){c.data(this,a)});var d=a.split(".");d[1]=d[1]?"."+d[1]:"";return b===f?(g=this.triggerHandler("getData"+
d[1]+"!",[d[0]]),g===f&&this.length&&(g=c.data(this[0],a),g=ua(this[0],a,g)),g===f&&d[1]?this.data(d[0]):g):this.each(function(){var g=c(this),h=[d[0],b];g.triggerHandler("setData"+d[1]+"!",h);c.data(this,a,b);g.triggerHandler("changeData"+d[1]+"!",h)})},removeData:function(a){return this.each(function(){c.removeData(this,a)})}});c.extend({_mark:function(a,b){a&&(b=(b||"fx")+"mark",c.data(a,b,(c.data(a,b,f,!0)||0)+1,!0))},_unmark:function(a,b,g){!0!==a&&(g=b,b=a,a=!1);if(b){var g=g||"fx",h=g+"mark";
(a=a?0:(c.data(b,h,f,!0)||1)-1)?c.data(b,h,a,!0):(c.removeData(b,h,!0),ta(b,g,"mark"))}},queue:function(a,b,g){if(a){var b=(b||"fx")+"queue",h=c.data(a,b,f,!0);g&&(!h||c.isArray(g)?h=c.data(a,b,c.makeArray(g),!0):h.push(g));return h||[]}},dequeue:function(a,b){var b=b||"fx",g=c.queue(a,b),h=g.shift();"inprogress"===h&&(h=g.shift());h&&("fx"===b&&g.unshift("inprogress"),h.call(a,function(){c.dequeue(a,b)}));g.length||(c.removeData(a,b+"queue",!0),ta(a,b,"queue"))}});c.fn.extend({queue:function(a,b){"string"!=
typeof a&&(b=a,a="fx");return b===f?c.queue(this[0],a):this.each(function(){var g=c.queue(this,a,b);"fx"===a&&"inprogress"!==g[0]&&c.dequeue(this,a)})},dequeue:function(a){return this.each(function(){c.dequeue(this,a)})},delay:function(a,b){a=c.fx?c.fx.speeds[a]||a:a;b=b||"fx";return this.queue(b,function(){var g=this;setTimeout(function(){c.dequeue(g,b)},a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a){function b(){--o||g.resolveWith(h,[h])}"string"!=typeof a&&(a=f);
a=a||"fx";for(var g=c.Deferred(),h=this,j=h.length,o=1,d=a+"defer",k=a+"queue",a=a+"mark",i;j--;)if(i=c.data(h[j],d,f,!0)||(c.data(h[j],k,f,!0)||c.data(h[j],a,f,!0))&&c.data(h[j],d,c._Deferred(),!0))o++,i.done(b);b();return g.promise()}});var wa=/[\n\t\r]/g,la=/\s+/,eb=/\r/g,fb=/^(?:button|input)$/i,gb=/^(?:button|input|object|select|textarea)$/i,hb=/^a(?:rea)?$/i,xa=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,I,ya;
c.fn.extend({attr:function(a,b){return c.access(this,a,b,!0,c.attr)},removeAttr:function(a){return this.each(function(){c.removeAttr(this,a)})},prop:function(a,b){return c.access(this,a,b,!0,c.prop)},removeProp:function(a){a=c.propFix[a]||a;return this.each(function(){try{this[a]=f,delete this[a]}catch(b){}})},addClass:function(a){var b,g,h,j,o,d,f;if(c.isFunction(a))return this.each(function(b){c(this).addClass(a.call(this,b,this.className))});if(a&&"string"==typeof a){b=a.split(la);for(g=0,h=this.length;g<
h;g++)if(j=this[g],1===j.nodeType)if(!j.className&&1===b.length)j.className=a;else{o=" "+j.className+" ";for(d=0,f=b.length;d<f;d++)~o.indexOf(" "+b[d]+" ")||(o+=b[d]+" ");j.className=c.trim(o)}}return this},removeClass:function(a){var b,g,h,j,o,d,k;if(c.isFunction(a))return this.each(function(b){c(this).removeClass(a.call(this,b,this.className))});if(a&&"string"==typeof a||a===f){b=(a||"").split(la);for(g=0,h=this.length;g<h;g++)if(j=this[g],1===j.nodeType&&j.className)if(a){o=(" "+j.className+" ").replace(wa,
" ");for(d=0,k=b.length;d<k;d++)o=o.replace(" "+b[d]+" "," ");j.className=c.trim(o)}else j.className=""}return this},toggleClass:function(a,b){var g=typeof a,h="boolean"==typeof b;return c.isFunction(a)?this.each(function(g){c(this).toggleClass(a.call(this,g,this.className,b),b)}):this.each(function(){if("string"===g)for(var j,o=0,d=c(this),f=b,k=a.split(la);j=k[o++];)f=h?f:!d.hasClass(j),d[f?"addClass":"removeClass"](j);else if("undefined"===g||"boolean"===g)this.className&&c._data(this,"__className__",
this.className),this.className=this.className||!1===a?"":c._data(this,"__className__")||""})},hasClass:function(a){for(var a=" "+a+" ",b=0,c=this.length;b<c;b++)if(1===this[b].nodeType&&-1<(" "+this[b].className+" ").replace(wa," ").indexOf(a))return!0;return!1},val:function(a){var b,g,h=this[0];if(!arguments.length){if(h){if((b=c.valHooks[h.nodeName.toLowerCase()]||c.valHooks[h.type])&&"get"in b&&(g=b.get(h,"value"))!==f)return g;g=h.value;return"string"==typeof g?g.replace(eb,""):null==g?"":g}return f}var j=
c.isFunction(a);return this.each(function(g){var h=c(this),d;if(1===this.nodeType&&(j?d=a.call(this,g,h.val()):d=a,null==d?d="":"number"==typeof d?d+="":c.isArray(d)&&(d=c.map(d,function(a){return null==a?"":a+""})),b=c.valHooks[this.nodeName.toLowerCase()]||c.valHooks[this.type],!b||!("set"in b)||b.set(this,d,"value")===f))this.value=d})}});c.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){var b,g=a.selectedIndex,h=
[],j=a.options,a="select-one"===a.type;if(0>g)return null;for(var o=a?g:0,d=a?g+1:j.length;o<d;o++)if(b=j[o],b.selected&&(c.support.optDisabled?!b.disabled:null===b.getAttribute("disabled"))&&(!b.parentNode.disabled||!c.nodeName(b.parentNode,"optgroup"))){b=c(b).val();if(a)return b;h.push(b)}return a&&!h.length&&j.length?c(j[g]).val():h},set:function(a,b){var g=c.makeArray(b);c(a).find("option").each(function(){this.selected=0<=c.inArray(c(this).val(),g)});g.length||(a.selectedIndex=-1);return g}}},
attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attrFix:{tabindex:"tabIndex"},attr:function(a,b,g,h){var j=a.nodeType;if(!a||3===j||8===j||2===j)return f;if(h&&b in c.attrFn)return c(a)[b](g);if(!("getAttribute"in a))return c.prop(a,b,g);var o,d;(h=1!==j||!c.isXMLDoc(a))&&(b=c.attrFix[b]||b,d=c.attrHooks[b],d||(xa.test(b)?d=ya:I&&(d=I)));if(g!==f){if(null===g)return c.removeAttr(a,b),f;if(d&&"set"in d&&h&&(o=d.set(a,g,b))!==f)return o;a.setAttribute(b,""+g);return g}if(d&&
"get"in d&&h&&null!==(o=d.get(a,b)))return o;o=a.getAttribute(b);return null===o?f:o},removeAttr:function(a,b){var g;1===a.nodeType&&(b=c.attrFix[b]||b,c.attr(a,b,""),a.removeAttribute(b),xa.test(b)&&(g=c.propFix[b]||b)in a&&(a[g]=!1))},attrHooks:{type:{set:function(a,b){if(fb.test(a.nodeName)&&a.parentNode)c.error("type property can't be changed");else if(!c.support.radioValue&&"radio"===b&&c.nodeName(a,"input")){var g=a.value;a.setAttribute("type",b);g&&(a.value=g);return b}}},value:{get:function(a,
b){return I&&c.nodeName(a,"button")?I.get(a,b):b in a?a.value:null},set:function(a,b,g){if(I&&c.nodeName(a,"button"))return I.set(a,b,g);a.value=b}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,b,g){var h=a.nodeType;if(!a||3===h||8===h||2===h)return f;var j,
o;(1!==h||!c.isXMLDoc(a))&&(b=c.propFix[b]||b,o=c.propHooks[b]);return g!==f?o&&"set"in o&&(j=o.set(a,g,b))!==f?j:a[b]=g:o&&"get"in o&&null!==(j=o.get(a,b))?j:a[b]},propHooks:{tabIndex:{get:function(a){var b=a.getAttributeNode("tabindex");return b&&b.specified?parseInt(b.value,10):gb.test(a.nodeName)||hb.test(a.nodeName)&&a.href?0:f}}}});c.attrHooks.tabIndex=c.propHooks.tabIndex;ya={get:function(a,b){var g;return!0===c.prop(a,b)||(g=a.getAttributeNode(b))&&!1!==g.nodeValue?b.toLowerCase():f},set:function(a,
b,g){var h;!1===b?c.removeAttr(a,g):(h=c.propFix[g]||g,h in a&&(a[h]=!0),a.setAttribute(g,g.toLowerCase()));return g}};c.support.getSetAttribute||(I=c.valHooks.button={get:function(a,b){var c;return(c=a.getAttributeNode(b))&&""!==c.nodeValue?c.nodeValue:f},set:function(a,b,c){var h=a.getAttributeNode(c);h||(h=t.createAttribute(c),a.setAttributeNode(h));return h.nodeValue=b+""}},c.each(["width","height"],function(a,b){c.attrHooks[b]=c.extend(c.attrHooks[b],{set:function(a,c){if(""===c)return a.setAttribute(b,
"auto"),c}})}));c.support.hrefNormalized||c.each(["href","src","width","height"],function(a,b){c.attrHooks[b]=c.extend(c.attrHooks[b],{get:function(a){a=a.getAttribute(b,2);return null===a?f:a}})});c.support.style||(c.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||f},set:function(a,b){return a.style.cssText=""+b}});c.support.optSelected||(c.propHooks.selected=c.extend(c.propHooks.selected,{get:function(){return null}}));c.support.checkOn||c.each(["radio","checkbox"],function(){c.valHooks[this]=
{get:function(a){return null===a.getAttribute("value")?"on":a.value}}});c.each(["radio","checkbox"],function(){c.valHooks[this]=c.extend(c.valHooks[this],{set:function(a,b){if(c.isArray(b))return a.checked=0<=c.inArray(c(a).val(),b)}})});var ha=/\.(.*)$/,ma=/^(?:textarea|input|select)$/i,Wa=/\./g,Xa=/ /g,ib=/[^\w\s.|`]/g,jb=function(a){return a.replace(ib,"\\$&")};c.event={add:function(a,b,g,h){if(3!==a.nodeType&&8!==a.nodeType){if(!1===g)g=L;else if(!g)return;var j,o;g.handler&&(j=g,g=j.handler);
g.guid||(g.guid=c.guid++);var d=c._data(a);if(d){var k=d.events,i=d.handle;k||(d.events=k={});i||(d.handle=i=function(a){return"undefined"!=typeof c&&(!a||c.event.triggered!==a.type)?c.event.handle.apply(i.elem,arguments):f});i.elem=a;b=b.split(" ");for(var n=0,m;d=b[n++];){o=j?c.extend({},j):{handler:g,data:h};-1<d.indexOf(".")?(m=d.split("."),d=m.shift(),o.namespace=m.slice(0).sort().join(".")):(m=[],o.namespace="");o.type=d;o.guid||(o.guid=g.guid);var p=k[d],s=c.event.special[d]||{};if(!p&&(p=
k[d]=[],!s.setup||!1===s.setup.call(a,h,m,i)))a.addEventListener?a.addEventListener(d,i,!1):a.attachEvent&&a.attachEvent("on"+d,i);s.add&&(s.add.call(a,o),o.handler.guid||(o.handler.guid=g.guid));p.push(o);c.event.global[d]=!0}a=null}}},global:{},remove:function(a,b,g,h){if(3!==a.nodeType&&8!==a.nodeType){!1===g&&(g=L);var j,d,k=0,i,n,m,p,s,l,q=c.hasData(a)&&c._data(a),w=q&&q.events;if(q&&w)if(b&&b.type&&(g=b.handler,b=b.type),!b||"string"==typeof b&&"."===b.charAt(0))for(j in b=b||"",w)c.event.remove(a,
j+b);else{for(b=b.split(" ");j=b[k++];)if(p=j,i=0>j.indexOf("."),n=[],i||(n=j.split("."),j=n.shift(),m=RegExp("(^|\\.)"+c.map(n.slice(0).sort(),jb).join("\\.(?:.*\\.)?")+"(\\.|$)")),s=w[j],s)if(g){p=c.event.special[j]||{};for(d=h||0;d<s.length;d++)if(l=s[d],g.guid===l.guid){if(i||m.test(l.namespace))null==h&&s.splice(d--,1),p.remove&&p.remove.call(a,l);if(null!=h)break}if(0===s.length||null!=h&&1===s.length)(!p.teardown||!1===p.teardown.call(a,n))&&c.removeEvent(a,j,q.handle),delete w[j]}else for(d=
0;d<s.length;d++)if(l=s[d],i||m.test(l.namespace))c.event.remove(a,p,l.handler,d),s.splice(d--,1);if(c.isEmptyObject(w))b=q.handle,b&&(b.elem=null),delete q.events,delete q.handle,c.isEmptyObject(q)&&c.removeData(a,f,!0)}}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(a,b,g,h){var j=a.type||a,d=[],k;0<=j.indexOf("!")&&(j=j.slice(0,-1),k=!0);0<=j.indexOf(".")&&(d=j.split("."),j=d.shift(),d.sort());if(g&&!c.event.customEvent[j]||c.event.global[j]){a="object"==typeof a?a[c.expando]?
a:new c.Event(j,a):new c.Event(j);a.type=j;a.exclusive=k;a.namespace=d.join(".");a.namespace_re=RegExp("(^|\\.)"+d.join("\\.(?:.*\\.)?")+"(\\.|$)");if(h||!g)a.preventDefault(),a.stopPropagation();if(g){if(!(3===g.nodeType||8===g.nodeType)){a.result=f;a.target=g;b=null!=b?c.makeArray(b):[];b.unshift(a);d=g;h=0>j.indexOf(":")?"on"+j:"";do k=c._data(d,"handle"),a.currentTarget=d,k&&k.apply(d,b),h&&c.acceptData(d)&&d[h]&&!1===d[h].apply(d,b)&&(a.result=!1,a.preventDefault()),d=d.parentNode||d.ownerDocument||
d===a.target.ownerDocument&&l;while(d&&!a.isPropagationStopped());if(!a.isDefaultPrevented()){var i,d=c.event.special[j]||{};if((!d._default||!1===d._default.call(g.ownerDocument,a))&&("click"!==j||!c.nodeName(g,"a"))&&c.acceptData(g)){try{h&&g[j]&&(i=g[h],i&&(g[h]=null),c.event.triggered=j,g[j]())}catch(n){}i&&(g[h]=i);c.event.triggered=f}}return a.result}}else c.each(c.cache,function(){var g=this[c.expando];g&&g.events&&g.events[j]&&c.event.trigger(a,b,g.handle.elem)})}},handle:function(a){var a=
c.event.fix(a||l.event),b=((c._data(this,"events")||{})[a.type]||[]).slice(0),g=!a.exclusive&&!a.namespace,h=Array.prototype.slice.call(arguments,0);h[0]=a;a.currentTarget=this;for(var j=0,d=b.length;j<d;j++){var k=b[j];if(g||a.namespace_re.test(k.namespace))if(a.handler=k.handler,a.data=k.data,a.handleObj=k,k=k.handler.apply(this,h),k!==f&&(a.result=k,!1===k&&(a.preventDefault(),a.stopPropagation())),a.isImmediatePropagationStopped())break}return a.result},props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),
fix:function(a){if(a[c.expando])return a;for(var b=a,a=c.Event(b),g=this.props.length,h;g;)h=this.props[--g],a[h]=b[h];a.target||(a.target=a.srcElement||t);3===a.target.nodeType&&(a.target=a.target.parentNode);!a.relatedTarget&&a.fromElement&&(a.relatedTarget=a.fromElement===a.target?a.toElement:a.fromElement);if(null==a.pageX&&null!=a.clientX)g=a.target.ownerDocument||t,b=g.documentElement,g=g.body,a.pageX=a.clientX+(b&&b.scrollLeft||g&&g.scrollLeft||0)-(b&&b.clientLeft||g&&g.clientLeft||0),a.pageY=
a.clientY+(b&&b.scrollTop||g&&g.scrollTop||0)-(b&&b.clientTop||g&&g.clientTop||0);null==a.which&&(null!=a.charCode||null!=a.keyCode)&&(a.which=null!=a.charCode?a.charCode:a.keyCode);!a.metaKey&&a.ctrlKey&&(a.metaKey=a.ctrlKey);!a.which&&a.button!==f&&(a.which=a.button&1?1:a.button&2?3:a.button&4?2:0);return a},guid:1E8,proxy:c.proxy,special:{ready:{setup:c.bindReady,teardown:c.noop},live:{add:function(a){c.event.add(this,N(a.origType,a.selector),c.extend({},a,{handler:B,guid:a.handler.guid}))},remove:function(a){c.event.remove(this,
N(a.origType,a.selector),a)}},beforeunload:{setup:function(a,b,g){c.isWindow(this)&&(this.onbeforeunload=g)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}}};c.removeEvent=t.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent&&a.detachEvent("on"+b,c)};c.Event=function(a,b){if(!this.preventDefault)return new c.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||
!1===a.returnValue||a.getPreventDefault&&a.getPreventDefault()?R:L):this.type=a;b&&c.extend(this,b);this.timeStamp=c.now();this[c.expando]=!0};c.Event.prototype={preventDefault:function(){this.isDefaultPrevented=R;var a=this.originalEvent;!a||(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=R;var a=this.originalEvent;!a||(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=
R;this.stopPropagation()},isDefaultPrevented:L,isPropagationStopped:L,isImmediatePropagationStopped:L};var za=function(a){var b=a.relatedTarget,g=!1,h=a.type;a.type=a.data;b!==this&&(b&&(g=c.contains(this,b)),g||(c.event.handle.apply(this,arguments),a.type=h))},Aa=function(a){a.type=a.data;c.event.handle.apply(this,arguments)};c.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){c.event.special[a]={setup:function(g){c.event.add(this,b,g&&g.selector?Aa:za,a)},teardown:function(a){c.event.remove(this,
b,a&&a.selector?Aa:za)}}});c.support.submitBubbles||(c.event.special.submit={setup:function(){if(c.nodeName(this,"form"))return!1;c.event.add(this,"click.specialSubmit",function(a){var b=a.target,g=c.nodeName(b,"input")||c.nodeName(b,"button")?b.type:"";("submit"===g||"image"===g)&&c(b).closest("form").length&&O("submit",this,arguments)});c.event.add(this,"keypress.specialSubmit",function(a){var b=a.target,g=c.nodeName(b,"input")||c.nodeName(b,"button")?b.type:"";("text"===g||"password"===g)&&c(b).closest("form").length&&
13===a.keyCode&&O("submit",this,arguments)})},teardown:function(){c.event.remove(this,".specialSubmit")}});if(!c.support.changeBubbles){var Y,Ba=function(a){var b=c.nodeName(a,"input")?a.type:"",g=a.value;"radio"===b||"checkbox"===b?g=a.checked:"select-multiple"===b?g=-1<a.selectedIndex?c.map(a.options,function(a){return a.selected}).join("-"):"":c.nodeName(a,"select")&&(g=a.selectedIndex);return g},ca=function(a,b){var g=a.target,h,j;if(ma.test(g.nodeName)&&!g.readOnly&&(h=c._data(g,"_change_data"),
j=Ba(g),("focusout"!==a.type||"radio"!==g.type)&&c._data(g,"_change_data",j),!(h===f||j===h)))if(null!=h||j)a.type="change",a.liveFired=f,c.event.trigger(a,b,g)};c.event.special.change={filters:{focusout:ca,beforedeactivate:ca,click:function(a){var b=a.target,g=c.nodeName(b,"input")?b.type:"";("radio"===g||"checkbox"===g||c.nodeName(b,"select"))&&ca.call(this,a)},keydown:function(a){var b=a.target,g=c.nodeName(b,"input")?b.type:"";(13===a.keyCode&&!c.nodeName(b,"textarea")||32===a.keyCode&&("checkbox"===
g||"radio"===g)||"select-multiple"===g)&&ca.call(this,a)},beforeactivate:function(a){a=a.target;c._data(a,"_change_data",Ba(a))}},setup:function(){if("file"===this.type)return!1;for(var a in Y)c.event.add(this,a+".specialChange",Y[a]);return ma.test(this.nodeName)},teardown:function(){c.event.remove(this,".specialChange");return ma.test(this.nodeName)}};Y=c.event.special.change.filters;Y.focus=Y.beforeactivate}c.support.focusinBubbles||c.each({focus:"focusin",blur:"focusout"},function(a,b){function g(a){var g=
c.event.fix(a);g.type=b;g.originalEvent={};c.event.trigger(g,null,g.target);g.isDefaultPrevented()&&a.preventDefault()}var h=0;c.event.special[b]={setup:function(){0===h++&&t.addEventListener(a,g,!0)},teardown:function(){0===--h&&t.removeEventListener(a,g,!0)}}});c.each(["bind","one"],function(a,b){c.fn[b]=function(a,h,j){var d;if("object"==typeof a){for(var k in a)this[b](k,h,a[k],j);return this}if(2===arguments.length||!1===h)j=h,h=f;"one"===b?(d=function(a){c(this).unbind(a,d);return j.apply(this,
arguments)},d.guid=j.guid||c.guid++):d=j;if("unload"===a&&"one"!==b)this.one(a,h,j);else{k=0;for(var i=this.length;k<i;k++)c.event.add(this[k],a,d,h)}return this}});c.fn.extend({unbind:function(a,b){if("object"==typeof a&&!a.preventDefault)for(var g in a)this.unbind(g,a[g]);else{g=0;for(var h=this.length;g<h;g++)c.event.remove(this[g],a,b)}return this},delegate:function(a,b,c,h){return this.live(b,c,h,a)},undelegate:function(a,b,c){return 0===arguments.length?this.unbind("live"):this.die(b,null,c,
a)},trigger:function(a,b){return this.each(function(){c.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0])return c.event.trigger(a,b,this[0],!0)},toggle:function(a){var b=arguments,g=a.guid||c.guid++,h=0,j=function(g){var j=(c.data(this,"lastToggle"+a.guid)||0)%h;c.data(this,"lastToggle"+a.guid,j+1);g.preventDefault();return b[j].apply(this,arguments)||!1};for(j.guid=g;h<b.length;)b[h++].guid=g;return this.click(j)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}});
var na={focus:"focusin",blur:"focusout",mouseenter:"mouseover",mouseleave:"mouseout"};c.each(["live","die"],function(a,b){c.fn[b]=function(a,h,j,d){var k=0,i,n,m,p=d||this.selector,s=d?this:c(this.context);if("object"==typeof a&&!a.preventDefault){for(m in a)s[b](m,h,a[m],p);return this}if("die"===b&&!a&&d&&"."===d.charAt(0))return s.unbind(d),this;if(!1===h||c.isFunction(h))j=h||L,h=f;for(a=(a||"").split(" ");null!=(d=a[k++]);)if(i=ha.exec(d),n="",i&&(n=i[0],d=d.replace(ha,"")),"hover"===d)a.push("mouseenter"+
n,"mouseleave"+n);else if(m=d,na[d]?(a.push(na[d]+n),d+=n):d=(na[d]||d)+n,"live"===b){n=0;for(var l=s.length;n<l;n++)c.event.add(s[n],"live."+N(d,p),{data:h,selector:p,handler:j,origType:d,origHandler:j,preType:m})}else s.unbind("live."+N(d,p),j);return this}});c.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error".split(" "),function(a,b){c.fn[b]=function(a,
c){null==c&&(c=a,a=null);return 0<arguments.length?this.bind(b,a,c):this.trigger(b)};c.attrFn&&(c.attrFn[b]=!0)});(function(){function a(a,b,c,g,h,j){for(var h=0,d=g.length;h<d;h++){var f=g[h];if(f){for(var k=!1,f=f[a];f;){if(f.sizcache===c){k=g[f.sizset];break}if(1===f.nodeType)if(j||(f.sizcache=c,f.sizset=h),"string"!=typeof b){if(f===b){k=!0;break}}else if(0<m.filter(b,[f]).length){k=f;break}f=f[a]}g[h]=k}}}function b(a,b,c,g,h,j){for(var h=0,d=g.length;h<d;h++){var f=g[h];if(f){for(var k=!1,f=
f[a];f;){if(f.sizcache===c){k=g[f.sizset];break}1===f.nodeType&&!j&&(f.sizcache=c,f.sizset=h);if(f.nodeName.toLowerCase()===b){k=f;break}f=f[a]}g[h]=k}}}var g=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,h=0,j=Object.prototype.toString,d=!1,k=!0,i=/\\/g,n=/\W/;[0,0].sort(function(){k=!1;return 0});var m=function(a,b,c,h){c=c||[];b=b||t;var d=b;if(1!==b.nodeType&&9!==b.nodeType)return[];if(!a||"string"!=typeof a)return c;
var f,k,o,i,n,r,l,q=!0,v=m.isXML(b),u=[],A=a;do if(g.exec(""),f=g.exec(A),f&&(A=f[3],u.push(f[1]),f[2])){i=f[3];break}while(f);if(1<u.length&&s.exec(a))if(2===u.length&&p.relative[u[0]])k=x(u[0]+u[1],b);else for(k=p.relative[u[0]]?[b]:m(u.shift(),b);u.length;)a=u.shift(),p.relative[a]&&(a+=u.shift()),k=x(a,k);else if(!h&&1<u.length&&9===b.nodeType&&!v&&p.match.ID.test(u[0])&&!p.match.ID.test(u[u.length-1])&&(n=m.find(u.shift(),b,v),b=n.expr?m.filter(n.expr,n.set)[0]:n.set[0]),b)for(n=h?{expr:u.pop(),
set:w(h)}:m.find(u.pop(),1===u.length&&("~"===u[0]||"+"===u[0])&&b.parentNode?b.parentNode:b,v),k=n.expr?m.filter(n.expr,n.set):n.set,0<u.length?o=w(k):q=!1;u.length;)r=u.pop(),l=r,p.relative[r]?l=u.pop():r="",null==l&&(l=b),p.relative[r](o,l,v);else o=[];o||(o=k);o||m.error(r||a);if("[object Array]"===j.call(o))if(q)if(b&&1===b.nodeType)for(a=0;null!=o[a];a++)o[a]&&(!0===o[a]||1===o[a].nodeType&&m.contains(b,o[a]))&&c.push(k[a]);else for(a=0;null!=o[a];a++)o[a]&&1===o[a].nodeType&&c.push(k[a]);else c.push.apply(c,
o);else w(o,c);i&&(m(i,d,c,h),m.uniqueSort(c));return c};m.uniqueSort=function(a){if(u&&(d=k,a.sort(u),d))for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1);return a};m.matches=function(a,b){return m(a,null,null,b)};m.matchesSelector=function(a,b){return 0<m(b,null,null,[a]).length};m.find=function(a,b,c){var g;if(!a)return[];for(var h=0,j=p.order.length;h<j;h++){var d,f=p.order[h];if(d=p.leftMatch[f].exec(a)){var k=d[1];d.splice(1,1);if("\\"!==k.substr(k.length-1)&&(d[1]=(d[1]||"").replace(i,
""),g=p.find[f](d,b,c),null!=g)){a=a.replace(p.match[f],"");break}}}g||(g="undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName("*"):[]);return{set:g,expr:a}};m.filter=function(a,b,c,g){for(var h,j,d=a,k=[],o=b,i=b&&b[0]&&m.isXML(b[0]);a&&b.length;){for(var n in p.filter)if(null!=(h=p.leftMatch[n].exec(a))&&h[2]){var r,s,l=p.filter[n];s=h[1];j=!1;h.splice(1,1);if("\\"!==s.substr(s.length-1)){o===k&&(k=[]);if(p.preFilter[n])if(h=p.preFilter[n](h,o,c,k,g,i)){if(!0===h)continue}else j=r=
!0;if(h)for(var q=0;null!=(s=o[q]);q++)if(s){r=l(s,h,q,o);var w=g^!!r;c&&null!=r?w?j=!0:o[q]=!1:w&&(k.push(s),j=!0)}if(r!==f){c||(o=k);a=a.replace(p.match[n],"");if(!j)return[];break}}}if(a===d)if(null==j)m.error(a);else break;d=a}return o};m.error=function(a){throw"Syntax error, unrecognized expression: "+a;};var p=m.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,
TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")},type:function(a){return a.getAttribute("type")}},relative:{"+":function(a,b){var c=
"string"==typeof b,g=c&&!n.test(b),c=c&&!g;g&&(b=b.toLowerCase());for(var g=0,h=a.length,j;g<h;g++)if(j=a[g]){for(;(j=j.previousSibling)&&1!==j.nodeType;);a[g]=c||j&&j.nodeName.toLowerCase()===b?j||!1:j===b}c&&m.filter(b,a,!0)},">":function(a,b){var c,g="string"==typeof b,h=0,j=a.length;if(g&&!n.test(b))for(b=b.toLowerCase();h<j;h++){if(c=a[h])c=c.parentNode,a[h]=c.nodeName.toLowerCase()===b?c:!1}else{for(;h<j;h++)c=a[h],c&&(a[h]=g?c.parentNode:c.parentNode===b);g&&m.filter(b,a,!0)}},"":function(c,
g,j){var d,f=h++,k=a;"string"==typeof g&&!n.test(g)&&(g=g.toLowerCase(),d=g,k=b);k("parentNode",g,f,c,d,j)},"~":function(c,g,j){var d,f=h++,k=a;"string"==typeof g&&!n.test(g)&&(g=g.toLowerCase(),d=g,k=b);k("previousSibling",g,f,c,d,j)}},find:{ID:function(a,b,c){if("undefined"!=typeof b.getElementById&&!c)return(a=b.getElementById(a[1]))&&a.parentNode?[a]:[]},NAME:function(a,b){if("undefined"!=typeof b.getElementsByName){for(var c=[],g=b.getElementsByName(a[1]),h=0,j=g.length;h<j;h++)g[h].getAttribute("name")===
a[1]&&c.push(g[h]);return 0===c.length?null:c}},TAG:function(a,b){if("undefined"!=typeof b.getElementsByTagName)return b.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,b,c,g,h,j){a=" "+a[1].replace(i,"")+" ";if(j)return a;for(var j=0,d;null!=(d=b[j]);j++)d&&(h^(d.className&&0<=(" "+d.className+" ").replace(/[\t\n\r]/g," ").indexOf(a))?c||g.push(d):c&&(b[j]=!1));return!1},ID:function(a){return a[1].replace(i,"")},TAG:function(a){return a[1].replace(i,"").toLowerCase()},CHILD:function(a){if("nth"===
a[1]){a[2]||m.error(a[0]);a[2]=a[2].replace(/^\+|\s*/g,"");var b=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec("even"===a[2]&&"2n"||"odd"===a[2]&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0;a[3]=b[3]-0}else a[2]&&m.error(a[0]);a[0]=h++;return a},ATTR:function(a,b,c,g,h,j){b=a[1]=a[1].replace(i,"");!j&&p.attrMap[b]&&(a[1]=p.attrMap[b]);a[4]=(a[4]||a[5]||"").replace(i,"");"~="===a[2]&&(a[4]=" "+a[4]+" ");return a},PSEUDO:function(a,b,c,h,j){if("not"===a[1])if(1<(g.exec(a[3])||"").length||
/^\w/.test(a[3]))a[3]=m(a[3],null,null,b);else return a=m.filter(a[3],b,c,1^j),c||h.push.apply(h,a),!1;else if(p.match.POS.test(a[0])||p.match.CHILD.test(a[0]))return!0;return a},POS:function(a){a.unshift(!0);return a}},filters:{enabled:function(a){return!1===a.disabled&&"hidden"!==a.type},disabled:function(a){return!0===a.disabled},checked:function(a){return!0===a.checked},selected:function(a){return!0===a.selected},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},
has:function(a,b,c){return!!m(c[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){var b=a.getAttribute("type"),c=a.type;return"input"===a.nodeName.toLowerCase()&&"text"===c&&(b===c||null===b)},radio:function(a){return"input"===a.nodeName.toLowerCase()&&"radio"===a.type},checkbox:function(a){return"input"===a.nodeName.toLowerCase()&&"checkbox"===a.type},file:function(a){return"input"===a.nodeName.toLowerCase()&&"file"===a.type},password:function(a){return"input"===a.nodeName.toLowerCase()&&
"password"===a.type},submit:function(a){var b=a.nodeName.toLowerCase();return("input"===b||"button"===b)&&"submit"===a.type},image:function(a){return"input"===a.nodeName.toLowerCase()&&"image"===a.type},reset:function(a){var b=a.nodeName.toLowerCase();return("input"===b||"button"===b)&&"reset"===a.type},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)},focus:function(a){return a===
a.ownerDocument.activeElement}},setFilters:{first:function(a,b){return 0===b},last:function(a,b,c,g){return b===g.length-1},even:function(a,b){return 0===b%2},odd:function(a,b){return 1===b%2},lt:function(a,b,c){return b<c[3]-0},gt:function(a,b,c){return b>c[3]-0},nth:function(a,b,c){return c[3]-0===b},eq:function(a,b,c){return c[3]-0===b}},filter:{PSEUDO:function(a,b,c,g){var h=b[1],j=p.filters[h];if(j)return j(a,c,b,g);if("contains"===h)return 0<=(a.textContent||a.innerText||m.getText([a])||"").indexOf(b[3]);
if("not"===h){b=b[3];c=0;for(g=b.length;c<g;c++)if(b[c]===a)return!1;return!0}m.error(h)},CHILD:function(a,b){var c=b[1],g=a;switch(c){case "only":case "first":for(;g=g.previousSibling;)if(1===g.nodeType)return!1;if("first"===c)return!0;g=a;case "last":for(;g=g.nextSibling;)if(1===g.nodeType)return!1;return!0;case "nth":var c=b[2],h=b[3];if(1===c&&0===h)return!0;var j=b[0],d=a.parentNode;if(d&&(d.sizcache!==j||!a.nodeIndex)){for(var f=0,g=d.firstChild;g;g=g.nextSibling)1===g.nodeType&&(g.nodeIndex=
++f);d.sizcache=j}g=a.nodeIndex-h;return 0===c?0===g:0===g%c&&0<=g/c}},ID:function(a,b){return 1===a.nodeType&&a.getAttribute("id")===b},TAG:function(a,b){return"*"===b&&1===a.nodeType||a.nodeName.toLowerCase()===b},CLASS:function(a,b){return-1<(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)},ATTR:function(a,b){var c=b[1],c=p.attrHandle[c]?p.attrHandle[c](a):null!=a[c]?a[c]:a.getAttribute(c),g=c+"",h=b[2],j=b[4];return null==c?"!="===h:"="===h?g===j:"*="===h?0<=g.indexOf(j):"~="===h?0<=
(" "+g+" ").indexOf(j):j?"!="===h?g!==j:"^="===h?0===g.indexOf(j):"$="===h?g.substr(g.length-j.length)===j:"|="===h?g===j||g.substr(0,j.length+1)===j+"-":!1:g&&!1!==c},POS:function(a,b,c,g){var h=p.setFilters[b[2]];if(h)return h(a,c,b,g)}}},s=p.match.POS,l=function(a,b){return"\\"+(b-0+1)},q;for(q in p.match)p.match[q]=RegExp(p.match[q].source+/(?![^\[]*\])(?![^\(]*\))/.source),p.leftMatch[q]=RegExp(/(^(?:.|\r|\n)*?)/.source+p.match[q].source.replace(/\\(\d+)/g,l));var w=function(a,b){a=Array.prototype.slice.call(a,
0);return b?(b.push.apply(b,a),b):a};try{Array.prototype.slice.call(t.documentElement.childNodes,0)}catch(v){w=function(a,b){var c=0,g=b||[];if("[object Array]"===j.call(a))Array.prototype.push.apply(g,a);else if("number"==typeof a.length)for(var h=a.length;c<h;c++)g.push(a[c]);else for(;a[c];c++)g.push(a[c]);return g}}var u,A;t.documentElement.compareDocumentPosition?u=function(a,b){return a===b?(d=!0,0):!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition?-1:1:a.compareDocumentPosition(b)&
4?-1:1}:(u=function(a,b){if(a===b)return d=!0,0;if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var c,g,h=[],j=[];c=a.parentNode;g=b.parentNode;var f=c;if(c===g)return A(a,b);if(!c)return-1;if(!g)return 1;for(;f;)h.unshift(f),f=f.parentNode;for(f=g;f;)j.unshift(f),f=f.parentNode;c=h.length;g=j.length;for(f=0;f<c&&f<g;f++)if(h[f]!==j[f])return A(h[f],j[f]);return f===c?A(a,j[f],-1):A(h[f],b,1)},A=function(a,b,c){if(a===b)return c;for(a=a.nextSibling;a;){if(a===b)return-1;a=a.nextSibling}return 1});
m.getText=function(a){for(var b="",c,g=0;a[g];g++)c=a[g],3===c.nodeType||4===c.nodeType?b+=c.nodeValue:8!==c.nodeType&&(b+=m.getText(c.childNodes));return b};(function(){var a=t.createElement("div"),b="script"+(new Date).getTime(),c=t.documentElement;a.innerHTML="<a name='"+b+"'/>";c.insertBefore(a,c.firstChild);t.getElementById(b)&&(p.find.ID=function(a,b,c){if("undefined"!=typeof b.getElementById&&!c)return(b=b.getElementById(a[1]))?b.id===a[1]||"undefined"!=typeof b.getAttributeNode&&b.getAttributeNode("id").nodeValue===
a[1]?[b]:f:[]},p.filter.ID=function(a,b){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return 1===a.nodeType&&c&&c.nodeValue===b});c.removeChild(a);c=a=null})();(function(){var a=t.createElement("div");a.appendChild(t.createComment(""));0<a.getElementsByTagName("*").length&&(p.find.TAG=function(a,b){var c=b.getElementsByTagName(a[1]);if("*"===a[1]){for(var g=[],h=0;c[h];h++)1===c[h].nodeType&&g.push(c[h]);c=g}return c});a.innerHTML="<a href='#'></a>";a.firstChild&&"undefined"!=
typeof a.firstChild.getAttribute&&"#"!==a.firstChild.getAttribute("href")&&(p.attrHandle.href=function(a){return a.getAttribute("href",2)});a=null})();t.querySelectorAll&&function(){var a=m,b=t.createElement("div");b.innerHTML="<p class='TEST'></p>";if(!b.querySelectorAll||0!==b.querySelectorAll(".TEST").length){m=function(b,c,g,h){c=c||t;if(!h&&!m.isXML(c)){var j=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(b);if(j&&(1===c.nodeType||9===c.nodeType)){if(j[1])return w(c.getElementsByTagName(b),g);if(j[2]&&
p.find.CLASS&&c.getElementsByClassName)return w(c.getElementsByClassName(j[2]),g)}if(9===c.nodeType){if("body"===b&&c.body)return w([c.body],g);if(j&&j[3]){var d=c.getElementById(j[3]);if(!d||!d.parentNode)return w([],g);if(d.id===j[3])return w([d],g)}try{return w(c.querySelectorAll(b),g)}catch(f){}}else if(1===c.nodeType&&"object"!==c.nodeName.toLowerCase()){var j=c,k=(d=c.getAttribute("id"))||"__sizzle__",o=c.parentNode,i=/^\s*[+~]/.test(b);d?k=k.replace(/'/g,"\\$&"):c.setAttribute("id",k);i&&o&&
(c=c.parentNode);try{if(!i||o)return w(c.querySelectorAll("[id='"+k+"'] "+b),g)}catch(n){}finally{d||j.removeAttribute("id")}}}return a(b,c,g,h)};for(var c in a)m[c]=a[c];b=null}}();(function(){var a=t.documentElement,b=a.matchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.msMatchesSelector;if(b){var c=!b.call(t.createElement("div"),"div"),g=!1;try{b.call(t.documentElement,"[test!='']:sizzle")}catch(h){g=!0}m.matchesSelector=function(a,h){h=h.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");
if(!m.isXML(a))try{if(g||!p.match.PSEUDO.test(h)&&!/!=/.test(h)){var j=b.call(a,h);if(j||!c||a.document&&11!==a.document.nodeType)return j}}catch(d){}return 0<m(h,null,null,[a]).length}}})();(function(){var a=t.createElement("div");a.innerHTML="<div class='test e'></div><div class='test'></div>";if(a.getElementsByClassName&&0!==a.getElementsByClassName("e").length&&(a.lastChild.className="e",1!==a.getElementsByClassName("e").length))p.order.splice(1,0,"CLASS"),p.find.CLASS=function(a,b,c){if("undefined"!=
typeof b.getElementsByClassName&&!c)return b.getElementsByClassName(a[1])},a=null})();t.documentElement.contains?m.contains=function(a,b){return a!==b&&(a.contains?a.contains(b):!0)}:t.documentElement.compareDocumentPosition?m.contains=function(a,b){return!!(a.compareDocumentPosition(b)&16)}:m.contains=function(){return!1};m.isXML=function(a){return(a=(a?a.ownerDocument||a:0).documentElement)?"HTML"!==a.nodeName:!1};var x=function(a,b){for(var c,g=[],h="",j=b.nodeType?[b]:b;c=p.match.PSEUDO.exec(a);)h+=
c[0],a=a.replace(p.match.PSEUDO,"");a=p.relative[a]?a+"*":a;c=0;for(var d=j.length;c<d;c++)m(a,j[c],g);return m.filter(h,g)};c.find=m;c.expr=m.selectors;c.expr[":"]=c.expr.filters;c.unique=m.uniqueSort;c.text=m.getText;c.isXMLDoc=m.isXML;c.contains=m.contains})();var kb=/Until$/,lb=/^(?:parents|prevUntil|prevAll)/,mb=/,/,Va=/^.[^:#\[\.,]*$/,nb=Array.prototype.slice,Ca=c.expr.match.POS,ob={children:!0,contents:!0,next:!0,prev:!0};c.fn.extend({find:function(a){var b=this,g,h;if("string"!=typeof a)return c(a).filter(function(){for(g=
0,h=b.length;g<h;g++)if(c.contains(b[g],this))return!0});var j=this.pushStack("","find",a),d,f,k;for(g=0,h=this.length;g<h;g++)if(d=j.length,c.find(a,this[g],j),0<g)for(f=d;f<j.length;f++)for(k=0;k<d;k++)if(j[k]===j[f]){j.splice(f--,1);break}return j},has:function(a){var b=c(a);return this.filter(function(){for(var a=0,h=b.length;a<h;a++)if(c.contains(this,b[a]))return!0})},not:function(a){return this.pushStack(E(this,a,!1),"not",a)},filter:function(a){return this.pushStack(E(this,a,!0),"filter",
a)},is:function(a){return!!a&&("string"==typeof a?0<c.filter(a,this).length:0<this.filter(a).length)},closest:function(a,b){var g=[],h,j,d=this[0];if(c.isArray(a)){var f,k,i={},m=1;if(d&&a.length){for(h=0,j=a.length;h<j;h++)k=a[h],i[k]||(i[k]=Ca.test(k)?c(k,b||this.context):k);for(;d&&d.ownerDocument&&d!==b;){for(k in i)f=i[k],(f.jquery?-1<f.index(d):c(d).is(f))&&g.push({selector:k,elem:d,level:m});d=d.parentNode;m++}}return g}f=Ca.test(a)||"string"!=typeof a?c(a,b||this.context):0;for(h=0,j=this.length;h<
j;h++)for(d=this[h];d;){if(f?-1<f.index(d):c.find.matchesSelector(d,a)){g.push(d);break}d=d.parentNode;if(!d||!d.ownerDocument||d===b||11===d.nodeType)break}g=1<g.length?c.unique(g):g;return this.pushStack(g,"closest",a)},index:function(a){return!a?this[0]&&this[0].parentNode?this.prevAll().length:-1:"string"==typeof a?c.inArray(this[0],c(a)):c.inArray(a.jquery?a[0]:a,this)},add:function(a,b){var g="string"==typeof a?c(a,b):c.makeArray(a&&a.nodeType?[a]:a),h=c.merge(this.get(),g);return this.pushStack(!g[0]||
!g[0].parentNode||11===g[0].parentNode.nodeType||!h[0]||!h[0].parentNode||11===h[0].parentNode.nodeType?h:c.unique(h))},andSelf:function(){return this.add(this.prevObject)}});c.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return c.dir(a,"parentNode")},parentsUntil:function(a,b,g){return c.dir(a,"parentNode",g)},next:function(a){return c.nth(a,2,"nextSibling")},prev:function(a){return c.nth(a,2,"previousSibling")},nextAll:function(a){return c.dir(a,"nextSibling")},
prevAll:function(a){return c.dir(a,"previousSibling")},nextUntil:function(a,b,g){return c.dir(a,"nextSibling",g)},prevUntil:function(a,b,g){return c.dir(a,"previousSibling",g)},siblings:function(a){return c.sibling(a.parentNode.firstChild,a)},children:function(a){return c.sibling(a.firstChild)},contents:function(a){return c.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:c.makeArray(a.childNodes)}},function(a,b){c.fn[a]=function(g,h){var j=c.map(this,b,g),d=nb.call(arguments);kb.test(a)||
(h=g);h&&"string"==typeof h&&(j=c.filter(h,j));j=1<this.length&&!ob[a]?c.unique(j):j;(1<this.length||mb.test(h))&&lb.test(a)&&(j=j.reverse());return this.pushStack(j,a,d.join(","))}});c.extend({filter:function(a,b,g){g&&(a=":not("+a+")");return 1===b.length?c.find.matchesSelector(b[0],a)?[b[0]]:[]:c.find.matches(a,b)},dir:function(a,b,g){for(var h=[],a=a[b];a&&9!==a.nodeType&&(g===f||1!==a.nodeType||!c(a).is(g));)1===a.nodeType&&h.push(a),a=a[b];return h},nth:function(a,b,c){for(var b=b||1,h=0;a&&
!(1===a.nodeType&&++h===b);a=a[c]);return a},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}});var pb=/ jQuery\d+="(?:\d+|null)"/g,oa=/^\s+/,Da=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,Ea=/<([\w:]+)/,qb=/<tbody/i,rb=/<|&#?\w+;/,Fa=/<(?:script|object|embed|option|style)/i,Ga=/checked\s*(?:[^=]|=\s*.checked.)/i,sb=/\/(java|ecma)script/i,Ua=/^\s*<!(?:\[CDATA\[|\-\-)/,J={option:[1,"<select multiple='multiple'>","</select>"],
legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};J.optgroup=J.option;J.tbody=J.tfoot=J.colgroup=J.caption=J.thead;J.th=J.td;c.support.htmlSerialize||(J._default=[1,"div<div>","</div>"]);c.fn.extend({text:function(a){return c.isFunction(a)?this.each(function(b){var g=c(this);
g.text(a.call(this,b,g.text()))}):"object"!=typeof a&&a!==f?this.empty().append((this[0]&&this[0].ownerDocument||t).createTextNode(a)):c.text(this)},wrapAll:function(a){if(c.isFunction(a))return this.each(function(b){c(this).wrapAll(a.call(this,b))});if(this[0]){var b=c(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]);b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return c.isFunction(a)?
this.each(function(b){c(this).wrapInner(a.call(this,b))}):this.each(function(){var b=c(this),g=b.contents();g.length?g.wrapAll(a):b.append(a)})},wrap:function(a){return this.each(function(){c(this).wrapAll(a)})},unwrap:function(){return this.parent().each(function(){c.nodeName(this,"body")||c(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){1===this.nodeType&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){1===
this.nodeType&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=c(arguments[0]);a.push.apply(a,this.toArray());return this.pushStack(a,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=this.pushStack(this,
"after",arguments);a.push.apply(a,c(arguments[0]).toArray());return a}},remove:function(a,b){for(var g=0,h;null!=(h=this[g]);g++)if(!a||c.filter(a,[h]).length)!b&&1===h.nodeType&&(c.cleanData(h.getElementsByTagName("*")),c.cleanData([h])),h.parentNode&&h.parentNode.removeChild(h);return this},empty:function(){for(var a=0,b;null!=(b=this[a]);a++)for(1===b.nodeType&&c.cleanData(b.getElementsByTagName("*"));b.firstChild;)b.removeChild(b.firstChild);return this},clone:function(a,b){a=null==a?!1:a;b=null==
b?a:b;return this.map(function(){return c.clone(this,a,b)})},html:function(a){if(a===f)return this[0]&&1===this[0].nodeType?this[0].innerHTML.replace(pb,""):null;if("string"==typeof a&&!Fa.test(a)&&(c.support.leadingWhitespace||!oa.test(a))&&!J[(Ea.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Da,"<$1></$2>");try{for(var b=0,g=this.length;b<g;b++)1===this[b].nodeType&&(c.cleanData(this[b].getElementsByTagName("*")),this[b].innerHTML=a)}catch(h){this.empty().append(a)}}else c.isFunction(a)?this.each(function(b){var g=
c(this);g.html(a.call(this,b,g.html()))}):this.empty().append(a);return this},replaceWith:function(a){if(this[0]&&this[0].parentNode){if(c.isFunction(a))return this.each(function(b){var g=c(this),h=g.html();g.replaceWith(a.call(this,b,h))});"string"!=typeof a&&(a=c(a).detach());return this.each(function(){var b=this.nextSibling,g=this.parentNode;c(this).remove();b?c(b).before(a):c(g).append(a)})}return this.length?this.pushStack(c(c.isFunction(a)?a():a),"replaceWith",a):this},detach:function(a){return this.remove(a,
!0)},domManip:function(a,b,g){var h,j,d,k,i=a[0],m=[];if(!c.support.checkClone&&3===arguments.length&&"string"==typeof i&&Ga.test(i))return this.each(function(){c(this).domManip(a,b,g,!0)});if(c.isFunction(i))return this.each(function(h){var j=c(this);a[0]=i.call(this,h,b?j.html():f);j.domManip(a,b,g)});if(this[0]){k=i&&i.parentNode;c.support.parentNode&&k&&11===k.nodeType&&k.childNodes.length===this.length?h={fragment:k}:h=c.buildFragment(a,this,m);d=h.fragment;1===d.childNodes.length?j=d=d.firstChild:
j=d.firstChild;if(j){b=b&&c.nodeName(j,"tr");j=0;k=this.length;for(var n=k-1;j<k;j++)g.call(b?c.nodeName(this[j],"table")?this[j].getElementsByTagName("tbody")[0]||this[j].appendChild(this[j].ownerDocument.createElement("tbody")):this[j]:this[j],h.cacheable||1<k&&j<n?c.clone(d,!0,!0):d)}m.length&&c.each(m,x)}return this}});c.buildFragment=function(a,b,g){var h,j,d,f;b&&b[0]&&(f=b[0].ownerDocument||b[0]);f.createDocumentFragment||(f=t);1===a.length&&"string"==typeof a[0]&&512>a[0].length&&f===t&&"<"===
a[0].charAt(0)&&!Fa.test(a[0])&&(c.support.checkClone||!Ga.test(a[0]))&&(j=!0,d=c.fragments[a[0]],d&&1!==d&&(h=d));h||(h=f.createDocumentFragment(),c.clean(a,f,h,g));j&&(c.fragments[a[0]]=d?h:1);return{fragment:h,cacheable:j}};c.fragments={};c.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){c.fn[a]=function(g){var h=[],g=c(g),j=1===this.length&&this[0].parentNode;if(j&&11===j.nodeType&&1===j.childNodes.length&&1===g.length)return g[b](this[0]),
this;for(var j=0,d=g.length;j<d;j++){var f=(0<j?this.clone(!0):this).get();c(g[j])[b](f);h=h.concat(f)}return this.pushStack(h,a,g.selector)}});c.extend({clone:function(a,b,g){var h=a.cloneNode(!0),j,d,f;if((!c.support.noCloneEvent||!c.support.noCloneChecked)&&(1===a.nodeType||11===a.nodeType)&&!c.isXMLDoc(a)){M(a,h);j=F(a);d=F(h);for(f=0;j[f];++f)d[f]&&M(j[f],d[f])}if(b&&(D(a,h),g)){j=F(a);d=F(h);for(f=0;j[f];++f)D(j[f],d[f])}return h},clean:function(a,b,g,h){b=b||t;"undefined"==typeof b.createElement&&
(b=b.ownerDocument||b[0]&&b[0].ownerDocument||t);for(var j=[],d,f=0,k;null!=(k=a[f]);f++)if("number"==typeof k&&(k+=""),k){if("string"==typeof k)if(rb.test(k)){k=k.replace(Da,"<$1></$2>");d=(Ea.exec(k)||["",""])[1].toLowerCase();var i=J[d]||J._default,m=i[0],n=b.createElement("div");for(n.innerHTML=i[1]+k+i[2];m--;)n=n.lastChild;if(!c.support.tbody){m=qb.test(k);i="table"===d&&!m?n.firstChild&&n.firstChild.childNodes:"<table>"===i[1]&&!m?n.childNodes:[];for(d=i.length-1;0<=d;--d)c.nodeName(i[d],"tbody")&&
!i[d].childNodes.length&&i[d].parentNode.removeChild(i[d])}!c.support.leadingWhitespace&&oa.test(k)&&n.insertBefore(b.createTextNode(oa.exec(k)[0]),n.firstChild);k=n.childNodes}else k=b.createTextNode(k);var p;if(!c.support.appendChecked)if(k[0]&&"number"==typeof(p=k.length))for(d=0;d<p;d++)A(k[d]);else A(k);k.nodeType?j.push(k):j=c.merge(j,k)}if(g){a=function(a){return!a.type||sb.test(a.type)};for(f=0;j[f];f++)h&&c.nodeName(j[f],"script")&&(!j[f].type||"text/javascript"===j[f].type.toLowerCase())?
h.push(j[f].parentNode?j[f].parentNode.removeChild(j[f]):j[f]):(1===j[f].nodeType&&(b=c.grep(j[f].getElementsByTagName("script"),a),j.splice.apply(j,[f+1,0].concat(b))),g.appendChild(j[f]))}return j},cleanData:function(a){for(var b,g,h=c.cache,j=c.expando,d=c.event.special,f=c.support.deleteExpando,k=0,i;null!=(i=a[k]);k++)if(!i.nodeName||!c.noData[i.nodeName.toLowerCase()])if(g=i[c.expando]){if((b=h[g]&&h[g][j])&&b.events){for(var m in b.events)d[m]?c.event.remove(i,m):c.removeEvent(i,m,b.handle);
b.handle&&(b.handle.elem=null)}f?delete i[c.expando]:i.removeAttribute&&i.removeAttribute(c.expando);delete h[g]}}});var pa=/alpha\([^)]*\)/i,tb=/opacity=([^)]*)/,ub=/([A-Z]|^ms)/g,Ha=/^-?\d+(?:px)?$/i,vb=/^-?\d/,wb=/^([\-+])=([\-+.\de]+)/,xb={position:"absolute",visibility:"hidden",display:"block"},Sa=["Left","Right"],Ta=["Top","Bottom"],U,Ia,Ja;c.fn.css=function(a,b){return 2===arguments.length&&b===f?this:c.access(this,a,b,!0,function(a,b,j){return j!==f?c.style(a,b,j):c.css(a,b)})};c.extend({cssHooks:{opacity:{get:function(a,
b){if(b){var c=U(a,"opacity","opacity");return""===c?"1":c}return a.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":c.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,g,h){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var j,d,k=c.camelCase(b),i=a.style,m=c.cssHooks[k],b=c.cssProps[k]||k;if(g===f)return m&&"get"in m&&(j=m.get(a,!1,h))!==f?j:i[b];d=typeof g;"string"===d&&(j=wb.exec(g))&&(g=+(j[1]+
1)*+j[2]+parseFloat(c.css(a,b)),d="number");if(!(null==g||"number"===d&&isNaN(g)))if("number"===d&&!c.cssNumber[k]&&(g+="px"),!m||!("set"in m)||(g=m.set(a,g))!==f)try{i[b]=g}catch(n){}}},css:function(a,b,g){var h,j;b=c.camelCase(b);j=c.cssHooks[b];b=c.cssProps[b]||b;"cssFloat"===b&&(b="float");if(j&&"get"in j&&(h=j.get(a,!0,g))!==f)return h;if(U)return U(a,b)},swap:function(a,b,c){var h={},j;for(j in b)h[j]=a.style[j],a.style[j]=b[j];c.call(a);for(j in b)a.style[j]=h[j]}});c.curCSS=c.css;c.each(["height",
"width"],function(a,b){c.cssHooks[b]={get:function(a,h,j){var d;if(h){if(0!==a.offsetWidth)return u(a,b,j);c.swap(a,xb,function(){d=u(a,b,j)});return d}},set:function(a,b){if(!Ha.test(b))return b;b=parseFloat(b);if(0<=b)return b+"px"}}});c.support.opacity||(c.cssHooks.opacity={get:function(a,b){return tb.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100+"":b?"1":""},set:function(a,b){var g=a.style,h=a.currentStyle,j=c.isNaN(b)?"":"alpha(opacity="+100*b+")",
d=h&&h.filter||g.filter||"";g.zoom=1;if(1<=b&&""===c.trim(d.replace(pa,""))&&(g.removeAttribute("filter"),h&&!h.filter))return;g.filter=pa.test(d)?d.replace(pa,j):d+" "+j}});c(function(){c.support.reliableMarginRight||(c.cssHooks.marginRight={get:function(a,b){var g;c.swap(a,{display:"inline-block"},function(){b?g=U(a,"margin-right","marginRight"):g=a.style.marginRight});return g}})});t.defaultView&&t.defaultView.getComputedStyle&&(Ia=function(a,b){var g,h,b=b.replace(ub,"-$1").toLowerCase();if(!(h=
a.ownerDocument.defaultView))return f;if(h=h.getComputedStyle(a,null))g=h.getPropertyValue(b),""===g&&!c.contains(a.ownerDocument.documentElement,a)&&(g=c.style(a,b));return g});t.documentElement.currentStyle&&(Ja=function(a,b){var c,h=a.currentStyle&&a.currentStyle[b],j=a.runtimeStyle&&a.runtimeStyle[b],d=a.style;!Ha.test(h)&&vb.test(h)&&(c=d.left,j&&(a.runtimeStyle.left=a.currentStyle.left),d.left="fontSize"===b?"1em":h||0,h=d.pixelLeft+"px",d.left=c,j&&(a.runtimeStyle.left=j));return""===h?"auto":
h});U=Ia||Ja;c.expr&&c.expr.filters&&(c.expr.filters.hidden=function(a){var b=a.offsetHeight;return 0===a.offsetWidth&&0===b||!c.support.reliableHiddenOffsets&&"none"===(a.style.display||c.css(a,"display"))},c.expr.filters.visible=function(a){return!c.expr.filters.hidden(a)});var yb=/%20/g,Ra=/\[\]$/,Ka=/\r?\n/g,zb=/#.*$/,Ab=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,Bb=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Cb=/^(?:GET|HEAD)$/,Db=/^\/\//,
La=/\?/,Eb=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,Fb=/^(?:select|textarea)/i,sa=/\s+/,Gb=/([?&])_=[^&]*/,Ma=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,Na=c.fn.load,ga={},Oa={},K,P,Pa=["*/"]+["*"];try{K=ab.href}catch(Mb){K=t.createElement("a"),K.href="",K=K.href}P=Ma.exec(K.toLowerCase())||[];c.fn.extend({load:function(a,b,g){if("string"!=typeof a&&Na)return Na.apply(this,arguments);if(!this.length)return this;var h=a.indexOf(" ");if(0<=h)var d=a.slice(h,a.length),a=a.slice(0,
h);h="GET";b&&(c.isFunction(b)?(g=b,b=f):"object"==typeof b&&(b=c.param(b,c.ajaxSettings.traditional),h="POST"));var k=this;c.ajax({url:a,type:h,dataType:"html",data:b,complete:function(a,b,h){h=a.responseText;a.isResolved()&&(a.done(function(a){h=a}),k.html(d?c("<div>").append(h.replace(Eb,"")).find(d):h));g&&k.each(g,[h,b,a])}});return this},serialize:function(){return c.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?c.makeArray(this.elements):
this}).filter(function(){return this.name&&!this.disabled&&(this.checked||Fb.test(this.nodeName)||Bb.test(this.type))}).map(function(a,b){var g=c(this).val();return null==g?null:c.isArray(g)?c.map(g,function(a){return{name:b.name,value:a.replace(Ka,"\r\n")}}):{name:b.name,value:g.replace(Ka,"\r\n")}}).get()}});c.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){c.fn[b]=function(a){return this.bind(b,a)}});c.each(["get","post"],function(a,b){c[b]=function(a,
h,d,k){c.isFunction(h)&&(k=k||d,d=h,h=f);return c.ajax({type:b,url:a,data:h,success:d,dataType:k})}});c.extend({getScript:function(a,b){return c.get(a,f,b,"script")},getJSON:function(a,b,g){return c.get(a,b,g,"json")},ajaxSetup:function(a,b){b?v(a,c.ajaxSettings):(b=a,a=c.ajaxSettings);v(a,b);return a},ajaxSettings:{url:K,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(P[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",
html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":Pa},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":l.String,"text html":!0,"text json":c.parseJSON,"text xml":c.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:w(ga),ajaxTransport:w(Oa),ajax:function(a,b){function g(a,b,g,s){if(2!==t){t=2;A&&clearTimeout(A);v=f;w=s||"";y.readyState=0<a?4:0;var l,q,u,s=b;if(g){var x=h,B=y,F=x.contents,z=
x.dataTypes,D=x.responseFields,H,C,E,N;for(C in D)C in g&&(B[D[C]]=g[C]);for(;"*"===z[0];)z.shift(),H===f&&(H=x.mimeType||B.getResponseHeader("content-type"));if(H)for(C in F)if(F[C]&&F[C].test(H)){z.unshift(C);break}if(z[0]in g)E=z[0];else{for(C in g){if(!z[0]||x.converters[C+" "+z[0]]){E=C;break}N||(N=C)}E=E||N}E?(E!==z[0]&&z.unshift(E),g=g[E]):g=void 0}else g=f;if(200<=a&&300>a||304===a){if(h.ifModified){if(H=y.getResponseHeader("Last-Modified"))c.lastModified[p]=H;if(H=y.getResponseHeader("Etag"))c.etag[p]=
H}if(304===a)s="notmodified",l=!0;else try{H=h;H.dataFilter&&(g=H.dataFilter(g,H.dataType));var R=H.dataTypes;C={};var L,$,J=R.length,G,Q=R[0],M,ja,S,I,K;for(L=1;L<J;L++){if(1===L)for($ in H.converters)"string"==typeof $&&(C[$.toLowerCase()]=H.converters[$]);M=Q;Q=R[L];if("*"===Q)Q=M;else if("*"!==M&&M!==Q){ja=M+" "+Q;S=C[ja]||C["* "+Q];if(!S)for(I in K=f,C)if(G=I.split(" "),G[0]===M||"*"===G[0])if(K=C[G[1]+" "+Q]){I=C[I];!0===I?S=K:!0===K&&(S=I);break}!S&&!K&&c.error("No conversion from "+ja.replace(" ",
" to "));!0!==S&&(g=S?S(g):K(I(g)))}}q=g;s="success";l=!0}catch(P){s="parsererror",u=P}}else if(u=s,!s||a)s="error",0>a&&(a=0);y.status=a;y.statusText=""+(b||s);l?i.resolveWith(d,[q,s,y]):i.rejectWith(d,[y,s,u]);y.statusCode(n);n=f;O&&k.trigger("ajax"+(l?"Success":"Error"),[y,h,l?q:u]);m.resolveWith(d,[y,s]);O&&(k.trigger("ajaxComplete",[y,h]),--c.active||c.event.trigger("ajaxStop"))}}"object"==typeof a&&(b=a,a=f);b=b||{};var h=c.ajaxSetup({},b),d=h.context||h,k=d!==h&&(d.nodeType||d instanceof c)?
c(d):c.event,i=c.Deferred(),m=c._Deferred(),n=h.statusCode||{},p,l={},q={},w,u,v,A,x,t=0,O,B,y={readyState:0,setRequestHeader:function(a,b){if(!t){var c=a.toLowerCase();a=q[c]=q[c]||a;l[a]=b}return this},getAllResponseHeaders:function(){return 2===t?w:null},getResponseHeader:function(a){var b;if(2===t){if(!u)for(u={};b=Ab.exec(w);)u[b[1].toLowerCase()]=b[2];b=u[a.toLowerCase()]}return b===f?null:b},overrideMimeType:function(a){t||(h.mimeType=a);return this},abort:function(a){a=a||"abort";v&&v.abort(a);
g(0,a);return this}};i.promise(y);y.success=y.done;y.error=y.fail;y.complete=m.done;y.statusCode=function(a){if(a){var b;if(2>t)for(b in a)n[b]=[n[b],a[b]];else b=a[y.status],y.then(b,b)}return this};h.url=((a||h.url)+"").replace(zb,"").replace(Db,P[1]+"//");h.dataTypes=c.trim(h.dataType||"*").toLowerCase().split(sa);null==h.crossDomain&&(x=Ma.exec(h.url.toLowerCase()),h.crossDomain=!(!x||x[1]==P[1]&&x[2]==P[2]&&(x[3]||("http:"===x[1]?80:443))==(P[3]||("http:"===P[1]?80:443))));h.data&&h.processData&&
"string"!=typeof h.data&&(h.data=c.param(h.data,h.traditional));s(ga,h,b,y);if(2===t)return!1;O=h.global;h.type=h.type.toUpperCase();h.hasContent=!Cb.test(h.type);O&&0===c.active++&&c.event.trigger("ajaxStart");if(!h.hasContent&&(h.data&&(h.url+=(La.test(h.url)?"&":"?")+h.data,delete h.data),p=h.url,!1===h.cache)){x=c.now();var F=h.url.replace(Gb,"$1_="+x);h.url=F+(F===h.url?(La.test(h.url)?"&":"?")+"_="+x:"")}(h.data&&h.hasContent&&!1!==h.contentType||b.contentType)&&y.setRequestHeader("Content-Type",
h.contentType);h.ifModified&&(p=p||h.url,c.lastModified[p]&&y.setRequestHeader("If-Modified-Since",c.lastModified[p]),c.etag[p]&&y.setRequestHeader("If-None-Match",c.etag[p]));y.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Pa+"; q=0.01":""):h.accepts["*"]);for(B in h.headers)y.setRequestHeader(B,h.headers[B]);if(h.beforeSend&&(!1===h.beforeSend.call(d,y,h)||2===t))return y.abort(),!1;for(B in{success:1,error:1,complete:1})y[B](h[B]);
if(v=s(Oa,h,b,y)){y.readyState=1;O&&k.trigger("ajaxSend",[y,h]);h.async&&0<h.timeout&&(A=setTimeout(function(){y.abort("timeout")},h.timeout));try{t=1,v.send(l,g)}catch(D){2>t?g(-1,D):c.error(D)}}else g(-1,"No Transport");return y},param:function(a,b){var g=[],h=function(a,b){b=c.isFunction(b)?b():b;g[g.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};b===f&&(b=c.ajaxSettings.traditional);if(c.isArray(a)||a.jquery&&!c.isPlainObject(a))c.each(a,function(){h(this.name,this.value)});else for(var d in a)m(d,
a[d],b,h);return g.join("&").replace(yb,"+")}});c.extend({active:0,lastModified:{},etag:{}});var Hb=c.now(),da=/(\=)\?(&|$)|\?\?/i;c.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return c.expando+"_"+Hb++}});c.ajaxPrefilter("json jsonp",function(a,b,g){b="application/x-www-form-urlencoded"===a.contentType&&"string"==typeof a.data;if("jsonp"===a.dataTypes[0]||!1!==a.jsonp&&(da.test(a.url)||b&&da.test(a.data))){var h,d=a.jsonpCallback=c.isFunction(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback,
f=l[d],k=a.url,i=a.data,m="$1"+d+"$2";!1!==a.jsonp&&(k=k.replace(da,m),a.url===k&&(b&&(i=i.replace(da,m)),a.data===i&&(k+=(/\?/.test(k)?"&":"?")+a.jsonp+"="+d)));a.url=k;a.data=i;l[d]=function(a){h=[a]};g.always(function(){l[d]=f;h&&c.isFunction(f)&&l[d](h[0])});a.converters["script json"]=function(){h||c.error(d+" was not called");return h[0]};a.dataTypes[0]="json";return"script"}});c.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},
contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){c.globalEval(a);return a}}});c.ajaxPrefilter("script",function(a){a.cache===f&&(a.cache=!1);a.crossDomain&&(a.type="GET",a.global=!1)});c.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=t.head||t.getElementsByTagName("head")[0]||t.documentElement;return{send:function(h,d){b=t.createElement("script");b.async="async";a.scriptCharset&&(b.charset=a.scriptCharset);b.src=a.url;b.onload=b.onreadystatechange=function(a,
h){if(h||!b.readyState||/loaded|complete/.test(b.readyState))b.onload=b.onreadystatechange=null,c&&b.parentNode&&c.removeChild(b),b=f,h||d(200,"success")};c.insertBefore(b,c.firstChild)},abort:function(){b&&b.onload(0,1)}}}});var qa=l.ActiveXObject?function(){for(var a in W)W[a](0,1)}:!1,Ib=0,W;c.ajaxSettings.xhr=l.ActiveXObject?function(){var a;if(!(a=!this.isLocal&&p()))a:{try{a=new l.ActiveXObject("Microsoft.XMLHTTP");break a}catch(b){}a=void 0}return a}:p;(function(a){c.extend(c.support,{ajax:!!a,
cors:!!a&&"withCredentials"in a})})(c.ajaxSettings.xhr());c.support.ajax&&c.ajaxTransport(function(a){if(!a.crossDomain||c.support.cors){var b;return{send:function(g,h){var d=a.xhr(),k,i;a.username?d.open(a.type,a.url,a.async,a.username,a.password):d.open(a.type,a.url,a.async);if(a.xhrFields)for(i in a.xhrFields)d[i]=a.xhrFields[i];a.mimeType&&d.overrideMimeType&&d.overrideMimeType(a.mimeType);!a.crossDomain&&!g["X-Requested-With"]&&(g["X-Requested-With"]="XMLHttpRequest");try{for(i in g)d.setRequestHeader(i,
g[i])}catch(m){}d.send(a.hasContent&&a.data||null);b=function(g,i){var m,n,p,s,l;try{if(b&&(i||4===d.readyState))if(b=f,k&&(d.onreadystatechange=c.noop,qa&&delete W[k]),i)4!==d.readyState&&d.abort();else{m=d.status;p=d.getAllResponseHeaders();s={};l=d.responseXML;l&&l.documentElement&&(s.xml=l);s.text=d.responseText;try{n=d.statusText}catch(q){n=""}!m&&a.isLocal&&!a.crossDomain?m=s.text?200:404:1223===m&&(m=204)}}catch(r){i||h(-1,r)}s&&h(m,n,s,p)};!a.async||4===d.readyState?b():(k=++Ib,qa&&(W||(W=
{},c(l).unload(qa)),W[k]=b),d.onreadystatechange=b)},abort:function(){b&&b(0,1)}}}});var fa={},G,T,Jb=/^(?:toggle|show|hide)$/,Kb=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,ea,ra=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],Z;c.fn.extend({show:function(a,b,g){var h,d;if(a||0===a)return this.animate(q("show",3),a,b,g);a=0;for(b=this.length;a<b;a++)h=this[a],h.style&&(d=h.style.display,!c._data(h,"olddisplay")&&
"none"===d&&(d=h.style.display=""),""===d&&"none"===c.css(h,"display")&&c._data(h,"olddisplay",n(h.nodeName)));for(a=0;a<b;a++)if(h=this[a],h.style&&(d=h.style.display,""===d||"none"===d))h.style.display=c._data(h,"olddisplay")||"";return this},hide:function(a,b,g){if(a||0===a)return this.animate(q("hide",3),a,b,g);a=0;for(b=this.length;a<b;a++)this[a].style&&(g=c.css(this[a],"display"),"none"!==g&&!c._data(this[a],"olddisplay")&&c._data(this[a],"olddisplay",g));for(a=0;a<b;a++)this[a].style&&(this[a].style.display=
"none");return this},_toggle:c.fn.toggle,toggle:function(a,b,g){var h="boolean"==typeof a;c.isFunction(a)&&c.isFunction(b)?this._toggle.apply(this,arguments):null==a||h?this.each(function(){var b=h?a:c(this).is(":hidden");c(this)[b?"show":"hide"]()}):this.animate(q("toggle",3),a,b,g);return this},fadeTo:function(a,b,c,h){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:b},a,c,h)},animate:function(a,b,g,h){var d=c.speed(b,g,h);if(c.isEmptyObject(a))return this.each(d.complete,
[!1]);a=c.extend({},a);return this[!1===d.queue?"each":"queue"](function(){var j;!1===d.queue&&c._mark(this);var b=c.extend({},d),g=1===this.nodeType,h=g&&c(this).is(":hidden"),f,k,i,m,p,s,l,q,w;b.animatedProperties={};for(i in a){f=c.camelCase(i);i!==f&&(a[f]=a[i],delete a[i]);k=a[f];c.isArray(k)?(b.animatedProperties[f]=k[1],j=a[f]=k[0],k=j):b.animatedProperties[f]=b.specialEasing&&b.specialEasing[f]||b.easing||"swing";if("hide"===k&&h||"show"===k&&!h)return b.complete.call(this);g&&("height"===
f||"width"===f)&&(b.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],"inline"===c.css(this,"display")&&"none"===c.css(this,"float")&&(c.support.inlineBlockNeedsLayout?(m=n(this.nodeName),"inline"===m?this.style.display="inline-block":(this.style.display="inline",this.style.zoom=1)):this.style.display="inline-block"))}null!=b.overflow&&(this.style.overflow="hidden");for(i in a)p=new c.fx(this,b,i),k=a[i],Jb.test(k)?p["toggle"===k?h?"show":"hide":k]():(s=Kb.exec(k),l=p.cur(),
s?(q=parseFloat(s[2]),w=s[3]||(c.cssNumber[i]?"":"px"),"px"!==w&&(c.style(this,i,(q||1)+w),l*=(q||1)/p.cur(),c.style(this,i,l+w)),s[1]&&(q=("-="===s[1]?-1:1)*q+l),p.custom(l,q,w)):p.custom(l,k,""));return!0})},stop:function(a,b){a&&this.queue([]);this.each(function(){var a=c.timers,h=a.length;for(b||c._unmark(!0,this);h--;)a[h].elem===this&&(b&&a[h](!0),a.splice(h,1))});b||this.dequeue();return this}});c.each({slideDown:q("show",1),slideUp:q("hide",1),slideToggle:q("toggle",1),fadeIn:{opacity:"show"},
fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){c.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}});c.extend({speed:function(a,b,g){var h=a&&"object"==typeof a?c.extend({},a):{complete:g||!g&&b||c.isFunction(a)&&a,duration:a,easing:g&&b||b&&!c.isFunction(b)&&b};h.duration=c.fx.off?0:"number"==typeof h.duration?h.duration:h.duration in c.fx.speeds?c.fx.speeds[h.duration]:c.fx.speeds._default;h.old=h.complete;h.complete=function(a){c.isFunction(h.old)&&h.old.call(this);!1!==
h.queue?c.dequeue(this):!1!==a&&c._unmark(this)};return h},easing:{linear:function(a,b,c,h){return c+h*a},swing:function(a,b,c,h){return(-Math.cos(a*Math.PI)/2+0.5)*h+c}},timers:[],fx:function(a,b,c){this.options=b;this.elem=a;this.prop=c;b.orig=b.orig||{}}});c.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this);(c.fx.step[this.prop]||c.fx.step._default)(this)},cur:function(){if(null!=this.elem[this.prop]&&(!this.elem.style||null==this.elem.style[this.prop]))return this.elem[this.prop];
var a,b=c.css(this.elem,this.prop);return isNaN(a=parseFloat(b))?!b||"auto"===b?0:b:a},custom:function(a,b,g){function h(a){return d.step(a)}var d=this,f=c.fx;this.startTime=Z||k();this.start=a;this.end=b;this.unit=g||this.unit||(c.cssNumber[this.prop]?"":"px");this.now=this.start;this.pos=this.state=0;h.elem=this.elem;h()&&c.timers.push(h)&&!ea&&(ea=setInterval(f.tick,f.interval))},show:function(){this.options.orig[this.prop]=c.style(this.elem,this.prop);this.options.show=!0;this.custom("width"===
this.prop||"height"===this.prop?1:0,this.cur());c(this.elem).show()},hide:function(){this.options.orig[this.prop]=c.style(this.elem,this.prop);this.options.hide=!0;this.custom(this.cur(),0)},step:function(a){var b=Z||k(),g=!0,h=this.elem,d=this.options,f,i;if(a||b>=d.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();d.animatedProperties[this.prop]=!0;for(f in d.animatedProperties)!0!==d.animatedProperties[f]&&(g=!1);if(g){null!=d.overflow&&!c.support.shrinkWrapBlocks&&
c.each(["","X","Y"],function(a,b){h.style["overflow"+b]=d.overflow[a]});d.hide&&c(h).hide();if(d.hide||d.show)for(var m in d.animatedProperties)c.style(h,m,d.orig[m]);d.complete.call(h)}return!1}Infinity==d.duration?this.now=b:(i=b-this.startTime,this.state=i/d.duration,this.pos=c.easing[d.animatedProperties[this.prop]](this.state,i,0,1,d.duration),this.now=this.start+(this.end-this.start)*this.pos);this.update();return!0}};c.extend(c.fx,{tick:function(){for(var a=c.timers,b=0;b<a.length;++b)a[b]()||
a.splice(b--,1);a.length||c.fx.stop()},interval:13,stop:function(){clearInterval(ea);ea=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){c.style(a.elem,"opacity",a.now)},_default:function(a){a.elem.style&&null!=a.elem.style[a.prop]?a.elem.style[a.prop]=("width"===a.prop||"height"===a.prop?Math.max(0,a.now):a.now)+a.unit:a.elem[a.prop]=a.now}}});c.expr&&c.expr.filters&&(c.expr.filters.animated=function(a){return c.grep(c.timers,function(b){return a===b.elem}).length});var Lb=
/^t(?:able|d|h)$/i,Qa=/^(?:body|html)$/i;"getBoundingClientRect"in t.documentElement?c.fn.offset=function(a){var b=this[0],g;if(a)return this.each(function(b){c.offset.setOffset(this,a,b)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return c.offset.bodyOffset(b);try{g=b.getBoundingClientRect()}catch(h){}var d=b.ownerDocument,f=d.documentElement;if(!g||!c.contains(f,b))return g?{top:g.top,left:g.left}:{top:0,left:0};b=d.body;d=i(d);return{top:g.top+(d.pageYOffset||c.support.boxModel&&
f.scrollTop||b.scrollTop)-(f.clientTop||b.clientTop||0),left:g.left+(d.pageXOffset||c.support.boxModel&&f.scrollLeft||b.scrollLeft)-(f.clientLeft||b.clientLeft||0)}}:c.fn.offset=function(a){var b=this[0];if(a)return this.each(function(b){c.offset.setOffset(this,a,b)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return c.offset.bodyOffset(b);c.offset.initialize();for(var g,h=b.offsetParent,d=b.ownerDocument,f=d.documentElement,k=d.body,i=(d=d.defaultView)?d.getComputedStyle(b,null):
b.currentStyle,m=b.offsetTop,n=b.offsetLeft;(b=b.parentNode)&&b!==k&&b!==f&&!(c.offset.supportsFixedPosition&&"fixed"===i.position);){g=d?d.getComputedStyle(b,null):b.currentStyle;m-=b.scrollTop;n-=b.scrollLeft;b===h&&(m+=b.offsetTop,n+=b.offsetLeft,c.offset.doesNotAddBorder&&(!c.offset.doesAddBorderForTableAndCells||!Lb.test(b.nodeName))&&(m+=parseFloat(g.borderTopWidth)||0,n+=parseFloat(g.borderLeftWidth)||0),h=b.offsetParent);c.offset.subtractsBorderForOverflowNotVisible&&"visible"!==g.overflow&&
(m+=parseFloat(g.borderTopWidth)||0,n+=parseFloat(g.borderLeftWidth)||0);i=g}if("relative"===i.position||"static"===i.position)m+=k.offsetTop,n+=k.offsetLeft;c.offset.supportsFixedPosition&&"fixed"===i.position&&(m+=Math.max(f.scrollTop,k.scrollTop),n+=Math.max(f.scrollLeft,k.scrollLeft));return{top:m,left:n}};c.offset={initialize:function(){var a=t.body,b=t.createElement("div"),g,h,d,f=parseFloat(c.css(a,"marginTop"))||0;c.extend(b.style,{position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",
height:"1px",visibility:"hidden"});b.innerHTML="<div style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'><div></div></div><table style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";a.insertBefore(b,a.firstChild);g=b.firstChild;h=g.firstChild;d=g.nextSibling.firstChild.firstChild;this.doesNotAddBorder=5!==h.offsetTop;this.doesAddBorderForTableAndCells=
5===d.offsetTop;h.style.position="fixed";h.style.top="20px";this.supportsFixedPosition=20===h.offsetTop||15===h.offsetTop;h.style.position=h.style.top="";g.style.overflow="hidden";g.style.position="relative";this.subtractsBorderForOverflowNotVisible=-5===h.offsetTop;this.doesNotIncludeMarginInBodyOffset=a.offsetTop!==f;a.removeChild(b);c.offset.initialize=c.noop},bodyOffset:function(a){var b=a.offsetTop,g=a.offsetLeft;c.offset.initialize();c.offset.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(c.css(a,
"marginTop"))||0,g+=parseFloat(c.css(a,"marginLeft"))||0);return{top:b,left:g}},setOffset:function(a,b,g){var h=c.css(a,"position");"static"===h&&(a.style.position="relative");var d=c(a),f=d.offset(),k=c.css(a,"top"),i=c.css(a,"left"),m={},n={},p,s;("absolute"===h||"fixed"===h)&&-1<c.inArray("auto",[k,i])?(n=d.position(),p=n.top,s=n.left):(p=parseFloat(k)||0,s=parseFloat(i)||0);c.isFunction(b)&&(b=b.call(a,g,f));null!=b.top&&(m.top=b.top-f.top+p);null!=b.left&&(m.left=b.left-f.left+s);"using"in b?
b.using.call(a,m):d.css(m)}};c.fn.extend({position:function(){if(!this[0])return null;var a=this[0],b=this.offsetParent(),g=this.offset(),h=Qa.test(b[0].nodeName)?{top:0,left:0}:b.offset();g.top-=parseFloat(c.css(a,"marginTop"))||0;g.left-=parseFloat(c.css(a,"marginLeft"))||0;h.top+=parseFloat(c.css(b[0],"borderTopWidth"))||0;h.left+=parseFloat(c.css(b[0],"borderLeftWidth"))||0;return{top:g.top-h.top,left:g.left-h.left}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||
t.body;a&&!Qa.test(a.nodeName)&&"static"===c.css(a,"position");)a=a.offsetParent;return a})}});c.each(["Left","Top"],function(a,b){var g="scroll"+b;c.fn[g]=function(b){var d,k;if(b===f){d=this[0];return!d?null:(k=i(d))?"pageXOffset"in k?k[a?"pageYOffset":"pageXOffset"]:c.support.boxModel&&k.document.documentElement[g]||k.document.body[g]:d[g]}return this.each(function(){k=i(this);k?k.scrollTo(a?c(k).scrollLeft():b,a?b:c(k).scrollTop()):this[g]=b})}});c.each(["Height","Width"],function(a,b){var g=
b.toLowerCase();c.fn["inner"+b]=function(){var a=this[0];return a&&a.style?parseFloat(c.css(a,g,"padding")):null};c.fn["outer"+b]=function(a){var b=this[0];return b&&b.style?parseFloat(c.css(b,g,a?"margin":"border")):null};c.fn[g]=function(a){var d=this[0];if(!d)return null==a?null:this;if(c.isFunction(a))return this.each(function(b){var d=c(this);d[g](a.call(this,b,d[g]()))});if(c.isWindow(d)){var k=d.document.documentElement["client"+b],i=d.document.body;return"CSS1Compat"===d.document.compatMode&&
k||i&&i["client"+b]||k}if(9===d.nodeType)return Math.max(d.documentElement["client"+b],d.body["scroll"+b],d.documentElement["scroll"+b],d.body["offset"+b],d.documentElement["offset"+b]);return a===f?(d=c.css(d,g),k=parseFloat(d),c.isNaN(k)?d:k):this.css(g,"string"==typeof a?a:a+"px")}});l.jQuery=l.$=c})(window);
(function(l,f){var i=new signals.Signal;f.bindingHandlers.highlightable={init:function(f){l(f);l(f).hover(function(){l(f).addClass("highlighted")},function(){l(f).removeClass("highlighted")})}};f.bindingHandlers.menu={init:function(n,q){function d(){v.hide();m.removeClass("highlighted")}var k=f.utils.unwrapObservable(q()),p=l(n),m=p;k.timeout=k.timeout||200;k.offset=k.offset||0;k.attachment=k.attachment||"left";var v=l("#"+k.id);v.children(".content");var s=0;i.add(function(){0<s&&window.clearTimeout(s);
d()});p.mouseover(function(){i.dispatch();0<s&&window.clearTimeout(s);var d=m.offset(),f=m.outerWidth(!1);k.bottom?"left"==k.attachment?v.css({position:"absolute",left:d.left+k.offset+"px",bottom:"43px"}):"right"==k.attachment?v.css({position:"absolute",right:window.document.body.clientWidth-(d.left+f+k.offset)+"px",top:d.top+m.outerHeight()+"px"}):"anchorright"==k.attachment?v.css({position:"absolute",right:"0px",top:d.top+m.outerHeight()+"px"}):"anchorright"==k.attachment&&v.css({position:"absolute",
left:"0px",top:d.top+m.outerHeight()+"px"}):"left"==k.attachment?v.css({position:"absolute",left:d.left+k.offset+"px",top:d.top+m.outerHeight()+"px"}):"right"==k.attachment?v.css({position:"absolute",right:window.document.body.clientWidth-(d.left+f+k.offset)+"px",top:d.top+m.outerHeight()+"px"}):"anchorright"==k.attachment?v.css({position:"absolute",right:"0px",top:d.top+m.outerHeight()+"px"}):"anchorleft"==k.attachment&&v.css({position:"absolute",left:"0px",top:d.top+m.outerHeight()+"px"});m.addClass("highlighted");
v.show();k.focus&&l("#"+k.focus)[0].focus()}).mouseout(function(){0<s&&window.clearTimeout(s);s=window.setTimeout(d,k.timeout)});v.mouseover(function(){window.clearTimeout(s)}).mouseout(function(){0<s&&window.clearTimeout(s);s=window.setTimeout(d,k.timeout)});p.attr("href","#")}};f.bindingHandlers.slide={init:function(){},update:function(i,q){var d=f.utils.unwrapObservable(q()),k=f.utils.unwrapObservable(d.value),p=d.callback;l(i)["slide"+(k?"Down":"Up")](function(){if(d.handleSelector)l(d.handleSelector)[(k?
"add":"remove")+"Class"]("expanded");p&&p()})}};f.bindingHandlers.display={update:function(i,l){var d=f.utils.unwrapObservable(l());i.style.display=d?"block":"none"}};f.bindingHandlers.centerWhen={update:function(i,l){f.utils.unwrapObservable(l())&&window.setTimeout(function(){i.style.left=Math.round((document.body.clientWidth-i.clientWidth)/2)+"px";i.style.top=Math.round((document.body.clientHeight-i.clientHeight)/2)+"px"},0)}};f.bindingHandlers.fadeVisible={init:function(i,q){var d=q();l(i).toggle(f.utils.unwrapObservable(d))},
update:function(i,q){var d=q();f.utils.unwrapObservable(d)?l(i).fadeIn(100):l(i).fadeOut(100)}}})(jQuery,ko);String.prototype.startsWith=function(l,f){return f?this.slice(0,l.length).toLowerCase()==l.toLowerCase():this.slice(0,l.length)==l};
(function(l){l("crossroads",function(f){function i(d,f){if(d.indexOf)return d.indexOf(f);for(var k=d.length;k--;)if(d[k]===f)return k;return-1}function n(d,f){return"[object "+f+"]"===Object.prototype.toString.call(d)}function l(d){return null===d||"null"===d?null:"true"===d?!0:"false"===d?!1:d===v||"undefined"===d?v:""===d||isNaN(d)?d:parseFloat(d)}function d(){this._routes=[];this.bypassed=new p.Signal;this.routed=new p.Signal}function k(d,f,k,i){var l=n(d,"RegExp");this._router=i;this._pattern=
d;this._paramsIds=l?null:m.getParamIds(this._pattern);this._optionalParamsIds=l?null:m.getOptionalParamsIds(this._pattern);this._matchRegexp=l?d:m.compilePattern(d);this.matched=new p.Signal;f&&this.matched.add(f);this._priority=k||0}var p=f("signals"),m,v;d.prototype={normalizeFn:null,create:function(){return new d},shouldTypecast:!1,addRoute:function(d,f,i){d=new k(d,f,i,this);this._sortedInsert(d);return d},removeRoute:function(d){var f=i(this._routes,d);-1!==f&&this._routes.splice(f,1);d._destroy()},
removeAllRoutes:function(){for(var d=this.getNumRoutes();d--;)this._routes[d]._destroy();this._routes.length=0},parse:function(d){var d=d||"",f=this._getMatchedRoutes(d),k=0,i=f.length,m;if(i)for(;k<i;)m=f[k],m.route.matched.dispatch.apply(m.route.matched,m.params),m.isFirst=!k,this.routed.dispatch(d,m),k+=1;else this.bypassed.dispatch(d)},getNumRoutes:function(){return this._routes.length},_sortedInsert:function(d){var f=this._routes,k=f.length;do--k;while(f[k]&&d._priority<=f[k]._priority);f.splice(k+
1,0,d)},_getMatchedRoutes:function(d){for(var f=[],k=this._routes,i=k.length,m;m=k[--i];)(!f.length||m.greedy)&&m.match(d)&&f.push({route:m,params:m._getParamsArray(d)});return f},toString:function(){return"[crossroads numRoutes:"+this.getNumRoutes()+"]"}};f=new d;f.VERSION="0.7.1";k.prototype={greedy:!1,rules:void 0,match:function(d){return this._matchRegexp.test(d)&&this._validateParams(d)},_validateParams:function(d){var f=this.rules,k=this._getParamsObject(d),i;for(i in f)if("normalize_"!==i&&
f.hasOwnProperty(i)&&!this._isValidParam(d,i,k))return!1;return!0},_isValidParam:function(d,f,k){var m=this.rules[f],p=k[f],l=!1;null==p&&this._optionalParamsIds&&-1!==i(this._optionalParamsIds,f)?l=!0:n(m,"RegExp")?l=m.test(p):n(m,"Array")?l=-1!==i(m,p):n(m,"Function")&&(l=m(p,d,k));return l},_getParamsObject:function(d){for(var f=this._router.shouldTypecast,k=m.getParamValues(d,this._matchRegexp,f),i={},n=k.length;n--;)i[n]=k[n],this._paramsIds&&(i[this._paramsIds[n]]=k[n]);i.request_=f?l(d):d;
i.vals_=k;return i},_getParamsArray:function(d){var f=this.rules?this.rules.normalize_:null;return(f=f||this._router.normalizeFn)&&n(f,"Function")?f(d,this._getParamsObject(d)):m.getParamValues(d,this._matchRegexp,this._router.shouldTypecast)},dispose:function(){this._router.removeRoute(this)},_destroy:function(){this.matched.dispose();this.matched=this._pattern=this._matchRegexp=null},toString:function(){return'[Route pattern:"'+this._pattern+'", numListeners:'+this.matched.getNumListeners()+"]"}};
m=f.patternLexer=function(){function d(f,k){for(var i=[],m;m=f.exec(k);)i.push(m[1]);return i}var f=/[\\.+*?\^$\[\](){}\/'#]/g,k=/\/$/g,i=/([:}]|\w(?=\/))\/?(:)/g,m=/([:}])\/?(\{)/g,n=/\{([^}]+)\}/g,p=/:([^:]+):/g,v=/(?:\{|:)([^}:]+)(?:\}|:)/g,D=RegExp("__CR_RP__","g"),E=RegExp("__CR_OP__","g"),N=RegExp("__CR_OS__","g"),B=RegExp("__CR_RS__","g");return{getParamIds:function(f){return d(v,f)},getOptionalParamsIds:function(f){return d(p,f)},getParamValues:function(d,f,k){if(d=f.exec(d))if(d.shift(),
k){k=d;d=k.length;for(f=[];d--;)f[d]=l(k[d]);d=f}return d},compilePattern:function(d){if(d=d||"")d=d.replace(k,""),d=d.replace(i,"$1__CR_OS__$2"),d=d.replace(m,"$1__CR_RS__$2"),d=d.replace(p,"__CR_OP__"),d=d.replace(n,"__CR_RP__"),d=d.replace(f,"\\$&"),d=d.replace(N,"\\/?"),d=d.replace(B,"\\/"),d=d.replace(E,"([^\\/]+)?/?"),d=d.replace(D,"([^\\/]+)");return RegExp("^"+d+"/?$")}}}();return f})})("function"===typeof define&&define.amd?define:function(l,f){"undefined"!==typeof module&&module.exports?
module.exports=f(require):window[l]=f(function(f){return window[f]})});
var hasher=function(l){function f(d){return!d?"":d.replace(RegExp("^\\"+m.prependHash+"|\\"+m.appendHash+"$","g"),"")}function i(){var d=A.exec(m.getURL());return d&&d[1]?decodeURIComponent(d[1]):""}function n(){if(u&&v!==(u?u.contentWindow.frameHash:null)){var f=u.contentWindow.document;f.open();f.write("<html><head><title>"+d.title+'</title><script type="text/javascript">var frameHash="'+v+'";<\/script></head><body>&nbsp;</body></html>');f.close()}}function q(d){d=decodeURIComponent(d);if(v!==d){var k=
v;v=d;E&&n();m.changed.dispatch(f(d),f(k))}}var d=l.document,k=l.location,p=signals.Signal,m,v,s,w,u,x,A=/#(.*)$/,y=/(\?.*)|(\#.*)/,F=/^\#/,M=!+"\u000b1",D="onhashchange"in l,E=M&&!D,N="file:"===k.protocol;x=E?function(){var d=i(),k=u?u.contentWindow.frameHash:null;k!==v&&k!==d?m.setHash(f(k)):d!==v&&q(d)}:function(){var d=i();d!==v&&q(d)};return m={VERSION:"1.0.0",appendHash:"",prependHash:"/",separator:"/",changed:new p,stopped:new p,initialized:new p,init:function(){if(!w){v=i();if(D)l.addEventListener?
l.addEventListener("hashchange",x,!1):l.attachEvent&&l.attachEvent("onhashchange",x);else{if(E){if(!u)u=d.createElement("iframe"),u.src="about:blank",u.style.display="none",d.body.appendChild(u);n()}s=setInterval(x,25)}w=!0;m.initialized.dispatch(f(v))}},stop:function(){w&&(D?l.removeEventListener?l.removeEventListener("hashchange",x,!1):l.detachEvent&&l.detachEvent("onhashchange",x):(clearInterval(s),s=null),w=!1,m.stopped.dispatch(f(v)))},isActive:function(){return w},getURL:function(){return k.href},
getBaseURL:function(){return m.getURL().replace(y,"")},setHash:function(d){d=(d=Array.prototype.slice.call(arguments).join(m.separator))?m.prependHash+d.replace(F,"")+m.appendHash:d;if(d!==v)q(d),M&&N&&(d=d.replace(/\?/,"%3F")),k.hash="#"+encodeURI(d)},getHash:function(){return f(v)},getHashAsArray:function(){return m.getHash().split(m.separator)},dispose:function(){m.stop();m.initialized.dispose();m.stopped.dispose();m.changed.dispose();u=m=l.hasher=null},toString:function(){return'[hasher version="'+
m.VERSION+'" hash="'+m.getHash()+'"]'}}}(window),iadb=function(l,f){var i=l.any={"int":function(i,l){return i+f.round((l-i)*f.random())},item:function(f){return f[i["int"](0,f.length-1)]}};return l}(iadb||{},Math),iadb=function(l){(l.CalloutBase=function(f,i){this.fadingTime=1E3;this.element=i;this.parent=parent;this.items=ko.observableArray(f||[]);this.index=ko.observable(-1);this.current=ko.dependentObservable(function(){var f=this.index();return 0>f?null:this.items()[f]},this);this.visible=ko.observable(!1);
this.ordinal=ko.dependentObservable(function(){return this.index()+1},this);this.count=ko.dependentObservable(function(){return this.items().length},this);this.changedSelection=new signals.Signal}).prototype={preProcessItem:function(f){return f},show:function(f){var i=this;this.visible(!1);setTimeout(function(){this.clear();var n=this;Enumerable.From(f).ForEach(function(f){n.add(i.preProcessItem(f))});this.first();this.visible(!0)}.bind(this),100)},fadeOut:function(f){this.element.fadeOut(this.fadingTime,
f)},fadeIn:function(f){this.element.fadeIn(this.fadingTime,f)},clear:function(){this.visible(!1);this.index(-1);this.items.removeAll()},add:function(f){this.items.push(f)},first:function(){this.index(0<this.count()?0:-1)},next:function(){var f=this.index();f++;f>=this.count()&&(f=0);this.index(f);this.changedSelection.dispatch(this.current());return!1},prev:function(){var f=this.index();f--;0>f&&(f=this.count()-1);this.index(f);this.changedSelection.dispatch(this.current());return!1}};l.LayoutCallout=
function(f,i){var n=new l.CalloutBase(f,i);n.preProcessItem=function(f){f.properties=[];for(var d in f)"object"!=typeof f[d]&&f.properties.push({name:d,value:f[d].toString()?f[d].toString():" "});return f};return n};l.Callout=function(f,i){var n=new l.CalloutBase(f,i);n.resultPicked=new signals.Signal;n.relatedOutputs=new signals.Signal;n.showRelatedProject=function(){var f=this.current();null!=f&&this.resultPicked.dispatch(f.outputid);return!1};n.showRelatedOutputs=function(){this.relatedOutputs.dispatch(this.current().outputid)};
return n};(l.ProjectPicker=function(f){this.items=ko.observableArray(f||[]);this.projectPicked=new signals.Signal;this.visible=ko.dependentObservable(function(){return 0<this.items().length},this)}).prototype={pick:function(f){f&&this.projectPicked.dispatch(f.id)},hide:function(){this.items.removeAll()}};return l}(iadb||{}),iadb=function(l,f){function i(d){var f=arguments.callee,i=""+d;f.cache=f.cache||{};if(f.cache[i])return f.cache[i];for(var m=[],n=d*d,l=0;l<=d;l++){var q=Math.round(Math.sqrt(1-
l*l/n)*d);m.push(q)}f.cache[i]=m;console.log(m);return m}function n(d,f,n,m){for(var l=i(f),s=0;s<l.length;s++){var q=f-l[s],u=document.createElement("DIV");u.style.position="absolute";u.style[n]=f-s+"px";u.style.top=q+"px";u.style.bottom="0px";u.style.width="1px";u.style.backgroundColor=m;d.appendChild(u)}}function q(d,f,i){var i=i||arguments.callee.postfixes,m;for(m in f)f.hasOwnProperty(m)&&(d.style[m]="number"===typeof f[m]?f[m]+(i[m]||""):f[m]);return d}i.cache={2:[2,1],3:[3,2,1],4:[4,4,3,2],
5:[5,5,4,3,2]};q.postfixes={width:"px",height:"px",left:"px",right:"px",top:"px",bottom:"px",paddingLeft:"px",paddingRight:"px"};l.corners=function(d,k){for(var i=d.clientWidth,m=document.createElement("div");e=d.firstChild;)m.appendChild(e);d.appendChild(m);q(d,{width:"auto",paddingLeft:k,paddingRight:k});q(m,{width:i-k-k});var l=f(d),i=l.css("background-color");l.css("background-color","Transparent");m.style.backgroundColor=i;m=q(document.createElement("div"),{position:"absolute",width:k,left:0,
top:0,bottom:0});n(m,k,"left",i);d.appendChild(m);m=q(document.createElement("div"),{position:"absolute",width:k,right:0,top:0,bottom:0});n(m,k,"right",i);d.appendChild(m)};return l}(iadb||{},jQuery);
(function(l){function f(f,n,l){return{color:n,filename:f,id:l}}l.globals={url:"http://iadb.geoiq.com",imageurl:"http://iadb.demo.eastbanctech.com",sectors:{"Agriculture and Rural Development":new f("AG",2715176,1),"Capital Markets":new f("CM",10370,2),Education:new f("ED",10555414,3),Energy:new f("EN",16755456,4),"Environment and Natural Disasters":new f("PA",12724480,5),Fishery:new f("PE",4020223,6),Forestry:new f("FO",8881664,7),Health:new f("SA",6291519,8),Industry:new f("IN",7833442,9),"Information Technology and Telecomm":new f("CO",
1725781,10),Microenterprise:new f("ME",6908415,11),Mining:new f("MI",3876608,12),"Multisector Credit & Preinvestment":new f("CR",4823350,13),Other:new f("OT",16761425,14),Preinvestment:new f("PR",12255339,23),"Private Sector Development":new f("PS",13553358,24),"Reform / Modernization of the State":new f("RM",7318986,15),Sanitation:new f("OS",8516544,16),"Science and Technology":new f("CT",33924,17),"Social Investment":new f("IS",16746026,18),Tourism:new f("TU",13487411,19),Trade:new f("CE",2955827,
20),Transportation:new f("TR",7233207,21),"Urban Development and Housing":new f("DU",13464371,22)},outputs:{Other:"1","Energy generation":"1","Energy distribution":"2","Energy transmission":"3","Roads and highways":"5","Urban transport":"6","Rural roads":"7",Bridges:"8","Airports and ports":"9","Drinking water production and storage":"10","Drinking water systems":"12","Water resource management":"13","Wastewater system":"14","Wastewater treatment":"15","Pluvial drainage":"16","Solid waste management":"17",
"Housing and shelters":"18","Neighborhood improvement":"19","Historical, Cultural & Natural Heritage":"20","Trade Facilitation":"21","Credit financing":"22","Direct support to MSME":"23","Agricultural support":"24","Food safety, animal and plant health":"25","Sustainable tourism":"26","Environmental management":"27","Health facilities and equipment":"28","Educational facilities and equipment":"29","Training to direct beneficiaries":"30","Vulnerable people support":"31","Land demarcation and titling":"32",
"Citizen security":"33","Institutional support":"35","NO VISUALIZABLE":"1"},getOutputBySectorIcons:function(){var f={};Enumerable.From(this.outputs).Join(this.sectors,"x=>true","x=>true",function(n,q){f[q.Key+"-"+n.Key]=encodeURI(l.globals.imageurl+"/images/icons/sectors/"+l.globals.sectors[q.Key].filename+"_"+n.Value+".png");return null}).ToArray();return f},getOutputIcons:function(){var f={};Enumerable.From(this.outputs).Select(function(n){f["Other"==n.Key?null:n.Key]=encodeURI("/images/icons/sectors/PS_"+
n.Value+".png");return null}).ToArray();return f}};l.globals.prototype={getSectorIcon:function(){return""},getResultIcon:function(){return""}}})(iadb||{});
iadb=function(l,f){var i=0;l.nextId=function(){return++i};l.lastId=function(){return i};l.type=function(f){if(null==f)return""+f;f=Object.prototype.toString.call(f);return f.substring(8,f.length-1).toLowerCase()};l.createPickedCount=function(f,i){return{read:function(){var d=f();try{return Enumerable.From(d).Where("$.picked()").Count()}catch(k){return 0}},write:function(){},owner:i}};l.createPickableListAllHandle=function(i,l){return{read:function(){for(var d=i(),f=0;f<d.length;f++)if(!d[f].picked())return!1;
return!0},write:function(d){f.setTimeout(function(){for(var f=i(),p=0;p<f.length;p++)f[p].picked(d)},0)},owner:l}};l.contentFitsContainer=function(f){f=document.getElementById(f);console.log(["clientHeight",f.clientHeight,"offsetHeight",f.scrollHeight]);return f.clientHeight>=f.scrollHeight};l.analyzeFeatureSet=function(f){var i=[],d=[],k=[];if("array"===l.type(f)){for(var p=0;p<f.length;p++){var m=f[p];l.isProjectFeature(m)?i.push(m):l.isResultFeature(m)?d.push(m):k.push(m)}return{results:d,projects:i,
layerfeatures:k}}return{results:[],projects:[],layerfeatures:[]}};l.isProjectFeature=function(f){return!f?!1:!!f.pronumber};l.isResultFeature=function(f){return!f?!1:!!f.outputid};return l}(iadb||{},window);
iadb=function(l,f,i,n){var q=l.Main={};q.MapDelay=1E3;q.Vm=function(d,k,i,m,n,l){if(!d)throw"repo is not provided";if(!k)throw"map is not provided";this.lang=l;this.map=k;this.repo=d;this.defaultZoom=k.getZoom();this.defaultCenter=k.getCenter();l=k.getBasemap().uniqueName||"google_road";this.defaultBasemap=k.getMapByUniqueName(l).id;l=k.mapSignals;l.mapZoomed.add(function(){k.getLinesLayer();this.drawLinesLayer()},this);l.featureSelected.add(function(f){if((f=f.features)&&!(1>f.length)){var k=iadb.analyzeFeatureSet(f);
if(0<(f=k.results).length)this.map.setCenter({latitude:f[0].latitude,longitude:f[0].longitude}),this.map.setZoom(17),this.centerMap({latitude:f[0].latitude,longitude:f[0].longitude}),this.pickedBasemap(408),this.callout.show(Enumerable.From(f).Select(function(f){return new q.ResultVm(new iadb.Repo.Result(f,d))}).ToArray()),this.layerCallout.clear(),this.projectPicker.hide();else if(1<(f=k.projects).length)this.projectPicker.items(this.repo.getProject(Enumerable.From(f).Select("$.pronumber").ToArray())),
this.callout.clear(),this.layerCallout.clear();else if(0<k.projects.length)this.pickProject(k.projects[0].pronumber);else if(0<(f=k.layerfeatures).length)this.callout.clear(),this.projectPicker.hide(),this.layerCallout.show(f)}},this);this.mode=f.observable();this.mainSignals={projectPicked:new signals.Signal,projectUnpicked:new signals.Signal,sectorUnpicked:new signals.Signal,outputUnpicked:new signals.Signal,filterResults:new signals.Signal,filterProjects:new signals.Signal,filterSectors:new signals.Signal,
resultPicked:new signals.Signal,goBack:new signals.Signal,pickCountry:new signals.Signal};this.mainSignals.projectPicked.add(function(){this.mode("projects")},this);this.mainSignals.projectUnpicked.add(function(){this.mode("projects")},this);this.mainSignals.sectorUnpicked.add(function(){this.mode("sectors")},this);this.mainSignals.outputUnpicked.add(function(){this.mode("results")},this);this.mainSignals.filterResults.add(function(){this.mode("results")},this);this.mainSignals.filterProjects.add(function(){this.mode("projects")},
this);this.mainSignals.filterSectors.add(function(){this.mode("sectors")},this);this.mainSignals.resultPicked.add(function(){this.mode("results")},this);this.areProjectsActive=f.dependentObservable(function(){return"projects"==this.mode()},this);this.areSectorsActive=f.dependentObservable(function(){return"sectors"==this.mode()},this);this.areResultsActive=f.dependentObservable(function(){return"results"==this.mode()},this);this.loading=f.observable(!1);this.history=f.observableArray([]);this.canGoBack=
f.dependentObservable(function(){return 1<this.history().length},this);this.layerCallout=m;this.callout=i;this.callout.resultPicked.add(function(d){this.resetMapToDefaults();this.pickResult(d)},this);this.callout.relatedOutputs.add(function(d){var f=this.repo.getResult(d);this.resetOutput(!1);this.resetMapToDefaults();Enumerable.From(this.outputs()).ForEach(function(d){d.id==f.category.id&&d.picked(!0)})},this);this.callout.changedSelection.add(function(d){this.centerMap({latitude:d.latitude,longitude:d.longitude})},
this);this.projectPicker=n;this.projectPicker.projectPicked.add(function(d){this.projectPicker.hide();this.pickProject(d)},this);this.projects=f.observableArray([]);this.hasSomeProjects=f.dependentObservable(function(){for(var d=this.projects(),f=0;f<d.length;f++)if(d[f].visible())return!0;return!1},this);this.sectors=f.observableArray([]);this.outputs=f.observableArray([]);this.layers=f.observableArray([]);this.basemaps=f.observableArray([]);this.search=f.observable("").extend({throttle:200});this.search.subscribe(this.searchForProjects,
this);this.pickedProject=f.observable(null);this.pickedProjectDetailsVisible=f.observable(!1);this.pickedBasemap=f.observable(this.defaultBasemap);this.pickedBasemap.subscribe(this.pickBasemap,this);this.bottomPanel=new q.BottomPanelVm(this);this.legendVisible=f.observable(!1);this.popup=new iadb.Popup;this.sectorSetChanged=new signals.Signal;var w=0;this.sectorSetChanged.add(function(){0<w&&(window.clearTimeout(w),w=0);w=window.setTimeout(this.filterSectors.bind(this),100)},this);this.allSectors=
f.dependentObservable(iadb.createPickableListAllHandle(this.sectors,this));this.outputSetChanged=new signals.Signal;var u=0;this.outputSetChanged.add(function(){0<u&&(window.clearTimeout(u),u=0);u=window.setTimeout(this.filterOutputs.bind(this),100)},this);this.allOutputs=f.dependentObservable(iadb.createPickableListAllHandle(this.outputs,this));this.layerSetChanged=new signals.Signal;this.layerSetChanged.add(function(d){k.setVisibility(d,d.picked())},this);this.allLayers=f.dependentObservable(iadb.createPickableListAllHandle(this.layers,
this));this.visibleLayers=f.dependentObservable(iadb.createPickedCount(this.layers,this));this.projectSetChanged=new signals.Signal;var x=0;this.projectSetChanged.add(function(){0<x&&(window.clearTimeout(x),x=0);x=window.setTimeout(this.filterProjects.bind(this),100)},this);this.countries=f.observableArray([])};q.Vm.prototype={initialize:function(){for(var d=this,k=this.repo.getProjects(),i=0;i<k.length;i++){var m=k[i];m.visible=f.observable(!0);m.even=f.observable(0==i%2);this.projects.push(m);m.outputs=
Enumerable.From(this.repo.results).Where(function(d){return d.project==m.id}).GroupBy(function(d){return d.category||""}).Select(function(d){return{result:d.Key(),outputs:d.source}}).ToArray();m.picked=f.observable(!1);m.picked.subscribe(function(){this.projectSetChanged.dispatch()},this)}for(var l=this.repo.getSectors(),i=0;i<l.length;i++)k=new q.SectorVm(l[i],this.sectorSetChanged),this.sectors.push(k);this.bottomPanel.updateSectors();l=this.repo.getOutputs();for(i=0;i<l.length;i++)k=new q.OutputVm(l[i],
this.outputSetChanged),this.outputs.push(k);this.bottomPanel.updateOutputs();k=this.repo.getBasemaps();for(i=0;i<k.length;i++)this.basemaps.push(k[i]);k=this.repo.getCountries();for(i=0;i<k.length;i++)l=k[i],l.even=0==i%2,l.pick=function(){d.mainSignals.pickCountry.dispatch(this.name)},this.countries.push(l);k=this.repo.getLayers();for(i=0;i<k.length;i++)this.layers.push(new q.LayerVm(k[i],this.layerSetChanged));n(document).keydown(function(d){27==d.which&&(this.popup.visible()?this.popup.close():
this.pickedProjectDetailsVisible()?this.pickedProjectDetailsVisible(!1):this.callout.visible()?this.callout.clear():this.layerCallout.visible()?this.layerCallout.clear():this.projectPicker.visible()?this.projectPicker.hide():this.legendVisible()&&this.legendVisible(!1))}.bind(this));this.loading(!1)},resetZoomToDefaults:function(){this.map.setZoom(this.defaultZoom)},resetMapToDefaults:function(){this.resetZoomToDefaults();var d=this.map;d.setCenter(this.defaultCenter);d.mapSignals.mapPanStop.dispatch(this.defaultCenter);
this.pickedBasemap(this.defaultBasemap)},centerMap:function(d){var f=this.map,i=f.getExtent(),i=171/(f.getHeight()/(i.north-i.south)),d={latitude:d.latitude-i/2,longitude:d.longitude};f.setCenter(d);f.mapSignals.mapPanStop.dispatch(d)},showUrlForCurrentProject:function(d){var f=this.pickedProject().id,d=this.projectPopupTypes[d];null!=d&&this.popup.show(d.url.replace("{projectId}",f),d.size,d.scrolling);return!1},showUrlForResult:function(d,f){var i=this.resultPopupTypes[d];null!=i&&this.popup.show(i.url.replace("{id}",
f),i.size,i.scrolling);return!1},popupWithUrl:function(d){d=this.projectPopupTypes[d].url;return(this.popup.url()||"").startsWith(d.substr(0,d.length/2))},readMoreVisible:function(){return 0<(this.pickedProject().description||"").length},searchForProjects:function(d){for(var d=(d||"").toLowerCase(),f=this.projects(),i=0,m=0;m<f.length;m++){var n=f[m],l=0<=(n.name||"").toLowerCase().indexOf(d)||0<=(n.sector||"").toLowerCase().indexOf(d)||0<=(n.id||"").toLowerCase().indexOf(d);l&&n.even(0==i++%2);n.visible(l)}},
filterProjects:function(){this.resetZoomToDefaults();this.callout.clear();this.layerCallout.clear();var d=this.map,f=d.getProjectLayer(),i=d.getResultLayer(),m=d.getLinesLayer();d.setVisibility(m,!1);d.makeSureHidden(i);this.resetOutput(!1);this.resetSector(!0);this.mainSignals.filterProjects.dispatch(Enumerable.From(this.projects()).Where("$.picked()").Select("$.id").ToArray().join(";"));this.pickedProject(null);i=this.buildProjectFilter(this.projects());d.addFilter(f,i);this.bottomPanel.updateProjects();
this.bottomPanel.showSectors()},buildProjectFilter:function(d){for(var f=[],i=0;i<d.length;i++){var m=d[i];m.picked()&&f.push("$[pronumber] == '"+m.id+"'")}return 0<f.length?f.length==m.length?null:f.join(" OR "):null},filterSectors:function(){this.resetZoomToDefaults();this.callout.clear();this.layerCallout.clear();var d=this.map,f=d.getProjectLayer(),i=d.getResultLayer(),m=d.getLinesLayer();d.setVisibility(m,!1);d.makeSureHidden(i);this.resetOutput(!1);this.resetProject();this.pickedProject(null);
i=this.sectors();m=this.buildSectorFilter(i);this.allSectors()?this.mainSignals.sectorUnpicked.dispatch():this.mainSignals.filterSectors.dispatch(Enumerable.From(i).Where("$.picked()").Select("$.id").ToArray().join(";"));d.addFilter(f,m);this.bottomPanel.updateSectors();this.bottomPanel.showSectors()},buildSectorFilter:function(d){for(var f=[],i=0;i<d.length;i++){var m=d[i];m.picked()&&f.push("$[prosectoren] == '"+m.name+"'")}return 0<f.length?f.length==d.length?null:f.join(" OR "):"false"},filterOutputs:function(){this.resetZoomToDefaults();
var d=this.buildOutputFilter(this.outputs()),f=this.map,i=f.getProjectLayer(),m=f.getResultLayer(),n=f.getLinesLayer();f.setVisibility(n,!1);this.pickedProject(null);f.makeSureHidden(i);this.resetSector(!1);this.resetProject();this.allOutputs()?this.mainSignals.outputUnpicked.dispatch():this.mainSignals.filterResults.dispatch(Enumerable.From(this.outputs()).Where("$.picked()").Select("$.id").ToArray().join(";"));f.addFilter(m,d);this.bottomPanel.updateOutputs();this.bottomPanel.showOutputs()},buildOutputFilter:function(d){for(var f=
[],i=0;i<d.length;i++){var m=d[i];m.picked()&&f.push("$[category] == "+("Other"==m.name?"null":"'"+m.name+"'"))}return 0<f.length?f.length==d.length?null:f.join(" OR "):"false"},tryGoBack:function(){this.mainSignals.goBack.dispatch()},pickBasemap:function(d){this.map.setBasemap(d)},pickResult:function(d){this.callout.clear();this.layerCallout.clear();this.selectProject(this.repo.getResult(d).project);this.mainSignals.resultPicked.dispatch(d)},drawLinesLayer:function(){var d=this.pickedProject();if(d){var f=
this.map;console.log(","+(new Date).getTime()+",addFeatures,"+f.getLinesLayer().title);f.addFeatures(f.getLinesLayer().guid,[],!0);this.repo.getResults();var i=Enumerable.From(this.repo.getResults()).Where(function(f){return f.project==d.id}).Select(function(f){return{project:d.id,geometry:{type:"LineString",coordinates:[[f["long"],f.lat],[d["long"],d.lat]]}}}).ToArray(),m=iadb.globals.sectors[d.sector];if(void 0==m)m=iadb.globals.sectors.Other;f.setLayerStyle(f.getLinesLayer().guid,{type:"LINE",
fill:{lineStyle:"thick",color:255,opacity:1},stroke:{color:m.color,alpha:1,weight:2}});console.log(","+(new Date).getTime()+",addFeatures,"+f.getLinesLayer().title);f.addFeatures(f.getLinesLayer().guid,i,!0)}},selectProject:function(d){console.log("selectProject:",d);var f=this.pickedProject(),i=this.map;if(!f||f.id!=d){f=this.repo.getProject(d);this.pickedProject(f);this.bottomPanel.setProject(this.pickedProject());this.drawLinesLayer();this.centerMap({latitude:f.lat,longitude:f["long"]});var f=
i.getProjectLayer(),m=i.getResultLayer(),l=i.getLinesLayer();n.when(i.addFilter(f,"$[pronumber] == '"+d+"'")).then(function(){i.addFilter(m,"$[project number] == '"+d+"'")}.bind(this));i.setVisibility(l,!0)}this.resetSector(!1);this.legendVisible(!1);this.callout.clear();this.layerCallout.clear();this.pickedProjectDetailsVisible(!0);this.bottomPanel.showProject()},pickProject:function(d){console.log("pickProject:",d);this.selectProject(d);this.mainSignals.projectPicked.dispatch(d)},unpickProject:function(){console.log("unpickProject");
this.resetMapToDefaults();this.callout.clear();this.layerCallout.clear();this.search("");var d=this.map,f=d.getProjectLayer(),i=d.getResultLayer(),m=d.getLinesLayer();d.removeFilters(f);d.setVisibility(m,!1);d.setVisibility(f,!0);d.setVisibility(i,!1);this.pickedProjectDetailsVisible(!1);this.resetProject();this.resetSector(!0);this.resetOutput(!1);this.pickedProject(null);this.bottomPanel.updateProjects();this.bottomPanel.showSectors();this.mainSignals.projectUnpicked.dispatch()},resetProject:function(){console.log("resetProject");
this.projectPicker.hide();this.projectSetChanged.active=!1;for(var d=this.projects(),f=0;f<d.length;f++)d[f].picked(!1);this.projectSetChanged.active=!0},unpickSector:function(){console.log("unpickSector");this.resetMapToDefaults();this.callout.clear();this.layerCallout.clear();var d=this.map,f=d.getProjectLayer(),i=d.getResultLayer(),m=d.getLinesLayer();d.setVisibility(f,!0);d.setVisibility(m,!1);d.setVisibility(i,!1);this.pickedProjectDetailsVisible(!1);this.pickedProject(null);this.resetSector(!0);
this.resetOutput(!1);d.removeFilters(f);this.bottomPanel.updateSectors();this.bottomPanel.showSectors();this.mainSignals.sectorUnpicked.dispatch()},resetSector:function(d){console.log("start resetSector");this.projectPicker.hide();this.sectorSetChanged.active=!1;for(var f=this.sectors(),i=0;i<f.length;i++)f[i].picked(d);this.sectorSetChanged.active=!0;console.log("end resetSector")},unpickOutput:function(){console.log("unpickOutput");this.resetMapToDefaults();this.callout.clear();this.layerCallout.clear();
var d=this.map,f=d.getProjectLayer(),i=d.getResultLayer(),m=d.getLinesLayer();d.makeSureHidden(f);d.setVisibility(m,!1);d.makeSureVisible(i);this.pickedProjectDetailsVisible(!1);this.pickedProject(null);d.removeFilters(i);this.resetOutput(!0);this.resetSector(!1);this.bottomPanel.updateOutputs();this.bottomPanel.showOutputs();this.mainSignals.outputUnpicked.dispatch()},resetOutput:function(d){console.log("resetOutput");this.projectPicker.hide();this.map.getResultLayer();this.outputSetChanged.active=
!1;for(var f=this.outputs(),i=0;i<f.length;i++)f[i].picked(d);this.outputSetChanged.active=!0},resultPopupTypes:{photos:{url:"http://www.iadb.org/en/4338.html?outputID={id}",scrolling:"no",size:{width:742,height:575}},news:{url:"http://www.iadb.org/en/4338.html?outputID={id}",scrolling:"auto"},videos:{url:"http://www.iadb.org/en/4338.html?outputID={id}",scrolling:"no",size:{width:896,height:555}},documents:{url:"http://www.iadb.org/en/4338.html?outputID={id}",scrolling:"auto"},info:{url:"http://www.iadb.org/en/4338.html?outputID={id}",
scrolling:"auto"}},projectPopupTypes:{news:{url:"http://www.iadb.org/en/eye-on-development/haiti/project-news-list,3981.html?projectID={projectId}",scrolling:"auto"},videos:{url:"http://www.iadb.org/en/eye-on-development/haiti/project-videos,3978.html?projectid={projectId}",scrolling:"no",size:{width:896,height:555}},documents:{url:"http://www.iadb.org/en/eye-on-development/haiti/document-list,3976.html?projectID={projectId}",scrolling:"auto"},photos:{url:"http://www.iadb.org/en/eye-on-development/haiti/project-photo-gallery,4080.html?projectID={projectId}",
scrolling:"no",size:{width:742,height:575}},info:{url:"http://www.iadb.org/en/eye-on-development/haiti/project-description,4039.html?projectID={projectId}",scrolling:"auto"}},applyFilters:function(d,f){switch(d){case "sectors":var i=Enumerable.From(f.split(";"));Enumerable.From(this.sectors()).ForEach(function(d){d.picked(i.Contains(d.id.toString()))});break;case "results":i=Enumerable.From(f.split(";"));Enumerable.From(this.outputs()).ForEach(function(d){d.picked(i.Contains(d.id.toString()))});break;
case "projects":i=Enumerable.From(f.split(";")),Enumerable.From(this.projects()).ForEach(function(d){d.picked(i.Contains(d.id.toString()))})}},hideLegend:function(){this.legendVisible(!1)}};(q.LayerVm=function(d,i){this.id=l.nextId();this.guid=d.guid;this.order=d.order;this.name=d.title;this.source=d.subtitle;this.imageurl=encodeURI("/images/legend/"+this.name+".png");this.picked=f.observable(d.visible);this.picked.subscribe(function(){i.dispatch(this)},this)}).prototype={};(q.SectorVm=function(d,
i){this.id=d.id;this.name=d.name;this.imageurl=d.imageurl;this.count=d.count;this.picked=f.observable(!0);this.picked.subscribe(function(){i.dispatch()},this)}).prototype={};(q.ResultVm=function(d){this.title=d.title;this.description=d.description;this.imageUrl=d.imageUrl;this.outputid=d.outputid;this.hasdocuments=d.hasdocuments;this.hasnews=d.hasnews;this.hasphotos=d.hasphotos;this.hasvideos=d.hasvideos;this.hasmedia=this.hasphotos||this.hasdocuments||this.hasnews||this.hasvideos;this.latitude=d.lat;
this.longitude=d["long"]}).prototype={};(q.OutputVm=function(d,i){this.id=d.id;this.name=d.name;this.imageurl=d.imageurl;this.count=d.count;this.description=d.description;this.picked=f.observable(!1);this.picked.subscribe(function(){i.dispatch()},this)}).prototype={};(q.BottomPanelResultVm=function(d){this.id=d.id;this.name=d.name;this.count=d.count;this.imageurl=d.imageurl}).prototype={};(q.BottomPanelSectorVm=function(d,f){this.id=d.id;this.name=d.name;this.count=f;this.imageurl=d.imageurl}).prototype=
{};(q.BottomPanelVm=function(d){this.parent=d;this.repo=d.repo;this.mode=f.observable("sectors");this.project=f.observable(null);this.outputs=f.observable([]);this.sectors=f.observable([])}).prototype={showSectors:function(){this.mode("sectors")},showProject:function(){this.mode("projects")},showOutputs:function(){this.mode("results")},setProject:function(d){this.project(d)},updateOutputs:function(){this.outputs(Enumerable.From(this.parent.outputs()).Where("$.picked()").Select(function(d){return new q.BottomPanelResultVm(d)}).ToArray())},
updateSectors:function(){this.sectors(Enumerable.From(this.parent.sectors()).Where("$.picked()&&$.count>0").Select(function(d){return new q.BottomPanelSectorVm(d,d.count)}).Where("$").ToArray())},updateProjects:function(){var d=Enumerable.From(this.parent.projects()).Where("$.picked()").GroupBy("$.sector").ToArray();0==d.length?this.sectors(Enumerable.From(this.parent.sectors()).Where("$.count>0").Select(function(d){return new q.BottomPanelSectorVm(d,d.count)}).ToArray()):this.sectors(Enumerable.From(this.parent.sectors()).Join(d,
"$.name","$.Key()",function(d,f){return new q.BottomPanelSectorVm(d,f.source.length)}).Where("$").ToArray())},getMode:function(){return this.mode()}};return l}(iadb||{},ko,window,jQuery);
iadb=function(l,f){(iadb.Map=function(f,n,l){if(!f)throw"f1 is not provided";if(!n)throw"options are not provided";if(!l)throw"signals are not provided";this.f1=f;this.mapOptions=n;this.mapSignals=l}).prototype={getCenter:function(){var f=this.f1.getCenter();return{latitude:f.lat,longitude:f.lon}},getBasemap:function(){return this.f1.getBasemap()},getLayers:function(){return this.f1.getLayers()},findLayer:function(f){for(var n=this.getLayers(),l=0;l<n.length;l++){var d=n[l];if(f(d))return d}return null},
getHeight:function(){return f("#"+this.f1.options.dom_id).height()},getExtent:function(){return this.f1.getExtent()},setZoom:function(f){return this.f1.setZoom(f)},getZoom:function(){return this.f1.getZoom()},getLayer:function(f){var n=this.findLayer(f);if(!n)throw"unable to find a layer using predicate: "+f.toString();return n},getProjects:function(){return this.f1.getFeatures(this.getProjectLayer().guid)},getProjectLayer:function(){return this.getLayer(this.mapOptions.isProjectLayer)},getResults:function(){return this.f1.getFeatures(this.getResultLayer().guid)},
getResultLayer:function(){return this.getLayer(this.mapOptions.isResultLayer)},getLinesLayer:function(){return this.getLayer(this.mapOptions.isLinesLayer)},highlightResult:function(){var f=this.f1,n=this.findLayer(this.mapOptions.isResultLayer);setTimeout(function(){f.addHighlight(n.guid,"$[category] == 'Households with new or upgraded water supply'")},5E3)},setup:function(f){if(!f)throw"sectors are not provided";var n=this.f1,l={};Enumerable.From(f).ForEach(function(d){l[d.name]=d.imageurl});var f=
this.findLayer(this.mapOptions.isProjectLayer),d=this.findLayer(this.mapOptions.isResultLayer);console.log(","+(new Date).getTime()+",addLayerCategoryFilter,"+d.title);n.addLayerCategoryFilter(d.guid,{attribute:"custom category",categories:iadb.globals.getOutputBySectorIcons()});this.setLayerStyle(d.guid,{icon:{symbol:iadb.globals.imageurl+"/images/icons/output-other.png"}});console.log(","+(new Date).getTime()+",addLayerCategoryFilter,"+f.title);n.addLayerCategoryFilter(f.guid,{attribute:"prosectoren",
categories:l})},setLayerStyle:function(f,n){console.log(","+(new Date).getTime()+",setLayerStyle,"+f.title);console.log(n);this.f1.setLayerStyle(f,n)},replaceFeatures:function(){var f=this.f1,n=this.findLayer(this.mapOptions.isProjectLayer),l=this.findLayer(this.mapOptions.isResultLayer),n=Enumerable.From(f.getFeatures(n.guid)),f=f.getFeatures(l.guid),f=Enumerable.From(f).Join(n,"x=>x['project number']","y=>y.pronumber",function(d,f){d["custom category"]=f.prosectoren+"-"+(d.category||"Other");return d}).ToArray();
console.log(","+(new Date).getTime()+",addFeatures,"+l.title);console.log("outputfeatures:"+(f?"defined":"null or undefined"));this.addFeatures(l.guid,f,!0)},addFeatures:function(f,n){console.log({features:n});this.f1.addFeatures(f,n,!0)},addFilter:function(i,n){var l=new f.Deferred;this.removeFilters(i).pipe(function(){if(null!=n){if(0<=n.indexOf('"'))throw"expression contains a quote sign: "+n;console.log(","+(new Date).getTime()+",addFilter,"+i.title);this.f1.addFilter(i.guid,{expression:n})}this.makeSureVisible(i);
console.log("layer "+i.guid+" got filter: "+n);setTimeout(function(){l.resolve()},iadb.Main.MapDelay/2)}.bind(this));return l.promise()},removeFilter:function(i,n){var l=new f.Deferred;setTimeout(function(){l.resolve()},iadb.Main.MapDelay/2);console.log(","+(new Date).getTime()+",removeFilter,"+i.title);this.f1.removeFilter(i.guid,{expression:n});return l.promise()},removeFilters:function(i){var l=new f.Deferred;setTimeout(function(){l.resolve()},iadb.Main.MapDelay/2);console.log(","+(new Date).getTime()+
",removeFilters,"+i.title);this.f1.clearFilters(i.guid);return l.promise()},setVisibility:function(f,l){console.log(","+(new Date).getTime()+",setVisibility,"+f.title+","+l);this.f1.showLayer(f.guid,l)},makeSureVisible:function(f){f.visible||this.setVisibility(f,!0)},makeSureHidden:function(f){f.visible&&this.setVisibility(f,!1)},setCenter:function(f){console.log(","+(new Date).getTime()+",setCenter,");this.f1.setCenter(f.latitude,f.longitude)},setBasemap:function(f){console.log(","+(new Date).getTime()+
",setBasemap,"+f);this.f1.setBasemap(f)},getMapByUniqueName:function(f){for(var l=0;l<iadb.Map.basemaps.length;l++)if(iadb.Map.basemaps[l].uniqueName==f)return iadb.Map.basemaps[l];return null}};iadb.Map.basemaps=[{id:410,name:"Acetate",uniqueName:"acetate"},{id:421,name:"Acetate Terrain",uniqueName:"acetate_terrain"},{id:408,name:"Google Aerial",uniqueName:"google_aerial"},{id:419,name:"Google Hybrid",uniqueName:"google_hybrid"},{id:412,name:"Google Road",uniqueName:"google_road"},{id:422,name:"Google Terrain",
uniqueName:"google_terrain"},{id:415,name:"MapQuest",uniqueName:"mapquest"},{id:407,name:"Microsoft Aerial",uniqueName:"maerial"},{id:418,name:"Microsoft Hybrid",uniqueName:"mhybrid"},{id:414,name:"Microsoft Road",uniqueName:"microsoft_road"},{id:406,name:"NASA Blue Marble",uniqueName:"nasa_blue_marble"},{id:411,name:"OpenStreetMap Road",uniqueName:"openstreetmap_road"},{id:416,name:"OpenSteetMap GeoCache",uniqueName:"osm_geocache"}];return iadb}(iadb||{},jQuery);
iadb=function(l,f){(l.Nav=function(f,n,q){this.map=q;this.mapSignals=q.mapSignals;this.crossroads=f;this.hasher=n;this.language=l.getCurrentLanguage();this.country=l.getCurrentCountry().name;this.zoom=q.getZoom();f=q.f1.getCenter();this.centerLat=f.lat;this.centerLon=f.lon;this.basemap=(f=this.map.getMapByUniqueName(this.map.getBasemap().uniqueName||"google_road"))?f.id:414;this.hash=""}).prototype={startListening:function(i){this.vm=i;var l=this.crossroads,q=this.hasher;l.addRoute("").matched.add(function(){this.dispatch(this.language,
this.country,this.zoom,this.centerLat,this.centerLon,this.basemap,i.unpickProject,i)},this);l.addRoute("iadb/{language}/{country}/").matched.add(function(d,f){this.dispatch(d,f,this.zoom,this.centerLat,this.centerLon,this.basemap,i.unpickProject,i)},this);l.addRoute("iadb/{language}/{country}/{zoom}/{centerLat}/{centerLon}/{basemap}").matched.add(function(d,f,m,l,n,q){this.dispatch(d,f,m,l,n,q,i.unpickProject,i)},this);l.addRoute("iadb/{language}/{country}/{zoom}/{centerLat}/{centerLon}/{basemap}/project/{projectId}").matched.add(function(d,
f,m,l,n,q,u){this.dispatch(d,f,m,l,n,q,i.pickProject,i,u)},this);l.addRoute("iadb/{language}/{country}/{zoom}/{centerLat}/{centerLon}/{basemap}/result/{resultId}").matched.add(function(d,f,m,l,n,q,u){this.dispatch(d,f,m,l,n,q,i.pickResult,i,u)},this);l.addRoute("iadb/{language}/{country}/{zoom}/{centerLat}/{centerLon}/{basemap}/all-projects").matched.add(function(d,f,m,l,n,q){this.dispatch(d,f,m,l,n,q,i.unpickProject,i)},this);l.addRoute("iadb/{language}/{country}/{zoom}/{centerLat}/{centerLon}/{basemap}/all-sectors").matched.add(function(d,
f,m,l,n,q){this.dispatch(d,f,m,l,n,q,i.unpickSector,i)},this);l.addRoute("iadb/{language}/{country}/{zoom}/{centerLat}/{centerLon}/{basemap}/all-results").matched.add(function(d,f,m,l,n,q){this.dispatch(d,f,m,l,n,q,i.unpickOutput,i)},this);l.addRoute("iadb/{language}/{country}/{zoom}/{centerLat}/{centerLon}/{basemap}/filter/{mode}/{filter}").matched.add(function(d,f,m,l,n,q,u,x){this.dispatch(d,f,m,l,n,q,i.applyFilters,i,u,x)},this);var d=i.mainSignals;d.projectPicked.add(function(d){this.setHash("project/"+
d)},this);d.resultPicked.add(function(d){this.setHash("result/"+d)},this);d.projectUnpicked.add(function(){this.setHash("all-projects")},this);d.sectorUnpicked.add(function(){this.setHash("all-sectors")},this);d.outputUnpicked.add(function(){this.setHash("all-results")},this);d.filterResults.add(function(d){this.setHash("filter/results/"+d)},this);d.filterSectors.add(function(d){this.setHash("filter/sectors/"+d)},this);d.filterProjects.add(function(d){this.setHash("filter/projects/"+d)},this);d.pickCountry.add(function(d){this.country=
d;this.setHash("all-projects");f.location.reload()},this);d.goBack.add(function(){if(this.vm.canGoBack()){this.vm.history().pop();var d=encodeURI(i.history().pop());document.location=document.location.href.substring(0,document.location.href.indexOf("#")+1)+d;l.parse(d)}},this);d=this.mapSignals;d.mapPanStop.add(this.updateCenter,this);d.mapZoomed.add(this.updateZoom,this);d.basemapChanged.add(this.updateBasemap,this);q.initialized.add(l.parse,l);q.changed.add(l.parse,l);q.init()},dispose:function(){this.crossroads.removeAllRoutes();
this.crossroads=null;this.hasher.stop();this.hasher.dispose();this.hasher=null},navigate:function(f){var l=this.hasher;if(l.getHash()===f)return!1;l.setHash(f);return!0},updateCenter:function(f){this.centerLat=f.latitude;this.centerLon=f.longitude;this.refreshHash()},updateZoom:function(f){this.zoom=f;this.refreshHash()},updateBasemap:function(f){this.basemap=(f=this.map.getMapByUniqueName(f.uniqueName))?f.id:414;this.refreshHash()},dispatch:function(i,l,q,d,k,p,m,v,s,w){this.language!=i&&f.location.reload();
this.language=i;i=this.map.getCenter();if(i.latitude!=d||i.longitude!=k)this.centerLat=d,this.centerLon=k,this.map.setCenter({latitude:parseFloat(d),longitude:parseFloat(k)});if(this.map.getZoom()!=q)this.zoom=q,this.map.setZoom(q);if(this.basemap!=p)this.basemap=p,this.vm.pickedBasemap(p);m.call(v,s,w)},refreshHash:function(){this.setHash(this.hash)},setHash:function(f){this.hash=f;f="iadb/"+this.language+"/"+this.country+"/"+this.zoom+"/"+this.centerLat+"/"+this.centerLon+"/"+this.basemap+"/"+f;
this.vm.history.push(f);var l=this.hasher;l.changed.active=!1;l.setHash(f);l.changed.active=!0}};return l}(iadb||{},window);
iadb=function(l,f){(l.Popup=function(){this.visible=f.observable(!1);this.url=f.observable("");this.width=f.observable(100);this.height=f.observable(100);this.scrolling=f.observable("auto")}).prototype={close:function(){this.visible(!1);this.url("");return!1},show:function(f,l,q){l=l||this.defaultSize;this.url(f);this.width(l.width);this.height(l.height);this.visible(!0);this.scrolling(q);return!1},defaultSize:{width:900,height:500}};return l}(iadb||{},ko);
iadb=function(l){l.Repo=function(){this.excludedLayers="outputs lines projects"};l.Repo.prototype={initialize:function(f,i,n){if(!f)throw"map is not provided";var q=f.getProjects(),d=f.getResults(),k=this.projects=Enumerable.From(q).OrderBy("$.pronumber").Select(function(f){return{hasDocuments:"1"==f.hasdocuments,hasNews:"1"==f.hasnews,hasPhotos:"1"==f.hasphotos,hasVideos:"1"==f.hasvideos,pid:l.nextId(),id:f.pronumber,name:f.proname,sector:f.prosectoren,description:f.prodescription,lat:f.latitude,
"long":f.longitude,outputcount:Enumerable.From(d).Where(function(d){return d["project number"]==f.pronumber}).Count()}}).ToArray();this.sectors=Enumerable.From(l.globals.sectors).OrderBy(function(d){return"Other"==d.Key?"zzz":d.Key}).Select(function(d){var f=Enumerable.From(k).Where(function(f){return f.sector==d.Key}).Count();return{name:d.Key,id:d.Value.id,count:f,imageurl:encodeURI(l.globals.imageurl+"/images/icons/sectors/"+d.Value.filename+".png")}}).Where("$.count>0").ToArray();var p=0;this.outputs=
Enumerable.From(d).GroupBy("$['category']").OrderBy(function(d){return null==d.Key()?"zzz":d.Key()}).Select(function(d){return{id:(p++).toString(),name:null==d.Key()?"Other":d.Key(),imageurl:l.globals.getOutputIcons()[d.Key()],count:d.source.length}}).ToArray();this.results=Enumerable.From(d).Select(function(d){return new l.Repo.Result(d,this)}.bind(this)).ToArray();this.basemaps=i;this.countries=n},dispose:function(){this.countries=this.basemaps=this.results=this.outputs=this.sectors=this.projects=
null},getProject:function(f){return"string"==typeof f?Enumerable.From(this.getProjects()).Where(function(i){return i.id==f}).FirstOrDefault(null):Enumerable.From(this.getProjects()).Join(Enumerable.From(f),"$.id","$",function(f){return f}).ToArray()},getProjects:function(){return this.projects||[]},getSector:function(f){return Enumerable.From(this.getSectors()).Where(function(i){return i.name==f}).FirstOrDefault(null)},getSectors:function(){return this.sectors||[]},getOutput:function(f){return Enumerable.From(this.getOutputs()).Where(function(i){return i.name==
f}).FirstOrDefault(null)},getOutputs:function(){return this.outputs||[]},getResult:function(f){return Enumerable.From(this.getResults()).Where(function(i){return i.outputid.toString()==f.toString()}).FirstOrDefault(null)},getResults:function(){return this.results||[]},getBasemaps:function(){return this.basemaps||[]},getCountries:function(){return this.countries||[]},getLayers:function(){var f=map.getLayers(),f=Enumerable.From(f),f=f.OrderBy("$.title"),f=f.Where(function(f){return 0>this.excludedLayers.indexOf(f.title.toLowerCase())}.bind(this));
return f.ToArray()}};(l.Repo.Result=function(f,i){this.hasnews=this.hasdocuments=!1;this.hasphotos=1==f.hasphotos;this.hasvideos=!1;this.outputid=f.outputid;this.project=f["project number"];this.title=f.title;this.description=f.body;this.lat=f.latitude;this["long"]=f.longitude;this.category=i.getOutput(f.category||"Other");this.imageUrl=null==f["photo filename"]?null:encodeURI("http://services.iadb.org/wmsfiles/images/datavis/thumbs/"+f["photo filename"])}).prototype={};return l}(iadb||{});
iadb=function(l,f,i){(l.Ui=function(f){if(!f)debugger;this.map=f}).prototype={initialize:function(){this.initializeZoom();i.browser.msie&&8>=parseInt(i.browser.version,10)&&this.applyCorners()},applyCorners:function(){i(".corners").each(function(){l.corners(this,10)})},initializeZoom:function(){var f=this.map.f1;f.setMapStyle({infowindow:{visible:!1}});f.setMapStyle({zoom:{expanded:!0,horizontal:!1}})}};return l}(iadb||{},window,jQuery);
(function(l,f,i,n,q,d,k){function p(d){var f,k,l=this,m=d.length,n=0,p=l.i=l.j=l.m=0;l.S=[];l.c=[];for(m||(d=[m++]);n<i;)l.S[n]=n++;for(n=0;n<i;n++)f=l.S[n],p=p+f+d[n%m]&i-1,k=l.S[p],l.S[n]=k,l.S[p]=f;l.g=function(d){var f=l.S,k=l.i+1&i-1,m=f[k],n=l.j+m&i-1,p=f[n];f[k]=p;f[n]=m;for(var q=f[m+p&i-1];--d;)k=k+1&i-1,m=f[k],n=n+m&i-1,p=f[n],f[k]=p,f[n]=m,q=q*i+f[m+p&i-1];l.i=k;l.j=n;return q};l.g(i)}function m(d,f,i,k,l){i=[];l=typeof d;if(f&&"object"==l)for(k in d)if(5>k.indexOf("S"))try{i.push(m(d[k],
f-1))}catch(n){}return i.length?i:d+("string"!=l?"\x00":"")}function v(d,f,k,l){d+="";for(l=k=0;l<d.length;l++){var m=f,n=l&i-1,p=(k^=19*f[l&i-1])+d.charCodeAt(l);m[n]=p&i-1}d="";for(l in f)d+=String.fromCharCode(f[l]);return d}f.seedrandom=function(s,w){var u=[],x,s=v(m(w?[s,l]:arguments.length?s:[(new Date).getTime(),l,window],3),u);x=new p(u);v(x.S,l);f.random=function(){for(var f=x.g(n),l=k,m=0;f<q;)f=(f+m)*i,l*=i,m=x.g(1);for(;f>=d;)f/=2,l/=2,m>>>=1;return(f+m)/l};return s};k=f.pow(i,n);q=f.pow(2,
q);d=2*q;v(f.random(),l)})([],Math,256,6,52);
