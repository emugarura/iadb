(function(s){function q(a){throw a;}function x(a,c){a&&"object"==typeof a?c=a:(c=c||{},c.read=a||c.read);"function"!=typeof c.read&&q("Pass a function that returns the value of the dependentObservable");return c}function w(b,c,d){d&&c!==a.h.q(b)&&a.h.S(b,c);c!==a.h.q(b)&&a.a.sa(b,"change")}var l=void 0,i=!0,n=null,r=!1,a=s.ko={};a.b=function(a,c){for(var d=a.split("."),e=s,g=0;g<d.length-1;g++)e=e[d[g]];e[d[d.length-1]]=c};a.l=function(a,c,d){a[c]=d};a.a=new function(){function b(a,f){if("INPUT"!=
a.tagName||!a.type||"click"!=f.toLowerCase())return r;var b=a.type.toLowerCase();return"checkbox"==b||"radio"==b}var c=/^(\s|\u00A0)+|(\s|\u00A0)+$/g,d={},e={};d[/Firefox\/2/i.test(navigator.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"];d.MouseEvents="click,dblclick,mousedown,mouseup,mousemove,mouseover,mouseout,mouseenter,mouseleave".split(",");for(var g in d){var p=d[g];if(p.length)for(var j=0,o=p.length;j<o;j++)e[p[j]]=g}var f=function(){for(var a=3,f=document.createElement("div"),
b=f.getElementsByTagName("i");f.innerHTML="<\!--[if gt IE "+ ++a+"]><i></i><![endif]--\>",b[0];);return 4<a?a:l}();return{Ba:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],n:function(a,f){for(var b=0,e=a.length;b<e;b++)f(a[b])},k:function(a,f){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(a,f);for(var b=0,e=a.length;b<e;b++)if(a[b]===f)return b;return-1},Wa:function(a,f,b){for(var e=0,g=a.length;e<g;e++)if(f.call(b,a[e]))return a[e];return n},ca:function(k,
f){var b=a.a.k(k,f);0<=b&&k.splice(b,1)},ya:function(k){for(var k=k||[],f=[],b=0,e=k.length;b<e;b++)0>a.a.k(f,k[b])&&f.push(k[b]);return f},ba:function(a,f){for(var a=a||[],b=[],e=0,g=a.length;e<g;e++)b.push(f(a[e]));return b},aa:function(a,f){for(var a=a||[],b=[],e=0,g=a.length;e<g;e++)f(a[e])&&b.push(a[e]);return b},J:function(a,f){for(var b=0,e=f.length;b<e;b++)a.push(f[b]);return a},extend:function(a,f){for(var b in f)f.hasOwnProperty(b)&&(a[b]=f[b]);return a},U:function(f){for(;f.firstChild;)a.removeNode(f.firstChild)},
oa:function(f,m){a.a.U(f);m&&a.a.n(m,function(a){f.appendChild(a)})},Ja:function(f,m){var b=f.nodeType?[f]:f;if(0<b.length){for(var e=b[0],g=e.parentNode,c=0,d=m.length;c<d;c++)g.insertBefore(m[c],e);c=0;for(d=b.length;c<d;c++)a.removeNode(b[c])}},La:function(a,f){0<=navigator.userAgent.indexOf("MSIE 6")?a.setAttribute("selected",f):a.selected=f},z:function(a){return(a||"").replace(c,"")},Db:function(f,m){for(var b=[],e=(f||"").split(m),g=0,c=e.length;g<c;g++){var d=a.a.z(e[g]);""!==d&&b.push(d)}return b},
Cb:function(a,f){a=a||"";return f.length>a.length?r:a.substring(0,f.length)===f},hb:function(a){for(var f=Array.prototype.slice.call(arguments,1),b="return ("+a+")",e=0;e<f.length;e++)f[e]&&"object"==typeof f[e]&&(b="with(sc["+e+"]) { "+b+" } ");return(new Function("sc",b))(f)},fb:function(a,f){if(f.compareDocumentPosition)return 16==(f.compareDocumentPosition(a)&16);for(;a!=n;){if(a==f)return i;a=a.parentNode}return r},ga:function(f){return a.a.fb(f,document)},s:function(a,f,e){if("undefined"!=typeof jQuery){if(b(a,
f))var g=e,e=function(a,f){var k=this.checked;if(f)this.checked=f.Ya!==i;g.call(this,a);this.checked=k};jQuery(a).bind(f,e)}else"function"==typeof a.addEventListener?a.addEventListener(f,e,r):"undefined"!=typeof a.attachEvent?a.attachEvent("on"+f,function(f){e.call(a,f)}):q(Error("Browser doesn't support addEventListener or attachEvent"))},sa:function(a,f){(!a||!a.nodeType)&&q(Error("element must be a DOM node when calling triggerEvent"));if("undefined"!=typeof jQuery){var g=[];b(a,f)&&g.push({Ya:a.checked});
jQuery(a).trigger(f,g)}else if("function"==typeof document.createEvent)"function"==typeof a.dispatchEvent?(g=document.createEvent(e[f]||"HTMLEvents"),g.initEvent(f,i,i,s,0,0,0,0,0,r,r,r,r,0,a),a.dispatchEvent(g)):q(Error("The supplied element doesn't support dispatchEvent"));else if("undefined"!=typeof a.fireEvent){if("click"==f&&"INPUT"==a.tagName&&("checkbox"==a.type.toLowerCase()||"radio"==a.type.toLowerCase()))a.checked=a.checked!==i;a.fireEvent("on"+f)}else q(Error("Browser doesn't support triggering events"))},
d:function(f){return a.V(f)?f():f},eb:function(f,b){return 0<=a.a.k((f.className||"").split(/\s+/),b)},Qa:function(f,b,e){var g=a.a.eb(f,b);if(e&&!g)f.className=(f.className||"")+" "+b;else if(g&&!e){for(var e=(f.className||"").split(/\s+/),g="",c=0;c<e.length;c++)e[c]!=b&&(g+=e[c]+" ");f.className=a.a.z(g)}},outerHTML:function(a){if(f===l){var b=a.outerHTML;if("string"==typeof b)return b}b=s.document.createElement("div");b.appendChild(a.cloneNode(i));return b.innerHTML},Ma:function(k,b){var e=a.a.d(b);
if(e===n||e===l)e="";"innerText"in k?k.innerText=e:k.textContent=e;if(9<=f)k.innerHTML=k.innerHTML},yb:function(f,b){for(var f=a.a.d(f),b=a.a.d(b),e=[],g=f;g<=b;g++)e.push(g);return e},X:function(a){for(var f=[],b=0,e=a.length;b<e;b++)f.push(a[b]);return f},ob:6===f,pb:7===f,Ca:function(f,b){for(var e=a.a.X(f.getElementsByTagName("INPUT")).concat(a.a.X(f.getElementsByTagName("TEXTAREA"))),g="string"==typeof b?function(a){return a.name===b}:function(a){return b.test(a.name)},c=[],d=e.length-1;0<=d;d--)g(e[d])&&
c.push(e[d]);return c},vb:function(f){return"string"==typeof f&&(f=a.a.z(f))?s.JSON&&s.JSON.parse?s.JSON.parse(f):(new Function("return "+f))():n},qa:function(f){("undefined"==typeof JSON||"undefined"==typeof JSON.stringify)&&q(Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js"));return JSON.stringify(a.a.d(f))},wb:function(f,b,e){var e=e||{},
g=e.params||{},c=e.includeFields||this.Ba,d=f;if("object"==typeof f&&"FORM"==f.tagName)for(var d=f.action,p=c.length-1;0<=p;p--)for(var j=a.a.Ca(f,c[p]),i=j.length-1;0<=i;i--)g[j[i].name]=j[i].value;var b=a.a.d(b),o=document.createElement("FORM");o.style.display="none";o.action=d;o.method="post";for(var h in b)f=document.createElement("INPUT"),f.name=h,f.value=a.a.qa(a.a.d(b[h])),o.appendChild(f);for(h in g)f=document.createElement("INPUT"),f.name=h,f.value=g[h],o.appendChild(f);document.body.appendChild(o);
e.submitter?e.submitter(o):o.submit();setTimeout(function(){o.parentNode.removeChild(o)},0)}}};a.b("ko.utils",a.a);a.a.n([["arrayForEach",a.a.n],["arrayFirst",a.a.Wa],["arrayFilter",a.a.aa],["arrayGetDistinctValues",a.a.ya],["arrayIndexOf",a.a.k],["arrayMap",a.a.ba],["arrayPushAll",a.a.J],["arrayRemoveItem",a.a.ca],["extend",a.a.extend],["fieldsIncludedWithJsonPost",a.a.Ba],["getFormFields",a.a.Ca],["postJson",a.a.wb],["parseJson",a.a.vb],["registerEventHandler",a.a.s],["stringifyJson",a.a.qa],["range",
a.a.yb],["toggleDomNodeCssClass",a.a.Qa],["triggerEvent",a.a.sa],["unwrapObservable",a.a.d]],function(b){a.b("ko.utils."+b[0],b[1])});Function.prototype.bind||(Function.prototype.bind=function(a){var c=this,d=Array.prototype.slice.call(arguments),a=d.shift();return function(){return c.apply(a,d.concat(Array.prototype.slice.call(arguments)))}});a.a.e=new function(){var b=0,c="__ko__"+(new Date).getTime(),d={};return{get:function(b,g){var c=a.a.e.getAll(b,r);return c===l?l:c[g]},set:function(b,g,c){c===
l&&a.a.e.getAll(b,r)===l||(a.a.e.getAll(b,i)[g]=c)},getAll:function(a,g){var p=a[c];if(!(p&&"null"!==p)){if(!g)return;p=a[c]="ko"+b++;d[p]={}}return d[p]},clear:function(a){var b=a[c];b&&(delete d[b],a[c]=n)}}};a.b("ko.utils.domData",a.a.e);a.b("ko.utils.domData.clear",a.a.e.clear);a.a.A=new function(){function b(b,g){var c=a.a.e.get(b,d);c===l&&g&&(c=[],a.a.e.set(b,d,c));return c}function c(e){var g=b(e,r);if(g)for(var g=g.slice(0),c=0;c<g.length;c++)g[c](e);a.a.e.clear(e);"function"==typeof jQuery&&
"function"==typeof jQuery.cleanData&&jQuery.cleanData([e])}var d="__ko_domNodeDisposal__"+(new Date).getTime();return{va:function(a,g){"function"!=typeof g&&q(Error("Callback must be a function"));b(a,i).push(g)},Ia:function(e,g){var c=b(e,r);c&&(a.a.ca(c,g),0==c.length&&a.a.e.set(e,d,l))},F:function(b){if(!(1!=b.nodeType&&9!=b.nodeType)){c(b);var g=[];a.a.J(g,b.getElementsByTagName("*"));for(var b=0,d=g.length;b<d;b++)c(g[b])}},removeNode:function(b){a.F(b);b.parentNode&&b.parentNode.removeChild(b)}}};
a.F=a.a.A.F;a.removeNode=a.a.A.removeNode;a.b("ko.cleanNode",a.F);a.b("ko.removeNode",a.removeNode);a.b("ko.utils.domNodeDisposal",a.a.A);a.b("ko.utils.domNodeDisposal.addDisposeCallback",a.a.A.va);a.b("ko.utils.domNodeDisposal.removeDisposeCallback",a.a.A.Ia);a.a.ma=function(b){var c;if("undefined"!=typeof jQuery){if((c=jQuery.clean([b]))&&c[0]){for(b=c[0];b.parentNode&&11!==b.parentNode.nodeType;)b=b.parentNode;b.parentNode&&b.parentNode.removeChild(b)}}else{var d=a.a.z(b).toLowerCase();c=document.createElement("div");
d=d.match(/^<(thead|tbody|tfoot)/)&&[1,"<table>","</table>"]||!d.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!d.indexOf("<td")||!d.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||[0,"",""];b="ignored<div>"+d[1]+b+d[2]+"</div>";for("function"==typeof s.innerShiv?c.appendChild(s.innerShiv(b)):c.innerHTML=b;d[0]--;)c=c.lastChild;c=a.a.X(c.lastChild.childNodes)}return c};a.a.Z=function(b,c){a.a.U(b);if(c!==n&&c!==l)if("string"!=typeof c&&(c=c.toString()),"undefined"!=
typeof jQuery)jQuery(b).html(c);else for(var d=a.a.ma(c),e=0;e<d.length;e++)b.appendChild(d[e])};a.b("ko.utils.parseHtmlFragment",a.a.ma);a.b("ko.utils.setHtml",a.a.Z);a.r=function(){function b(){return(4294967296*(1+Math.random())|0).toString(16).substring(1)}function c(b,g){if(b)if(8==b.nodeType){var d=a.r.Ga(b.nodeValue);d!=n&&g.push({cb:b,tb:d})}else if(1==b.nodeType)for(var d=0,j=b.childNodes,o=j.length;d<o;d++)c(j[d],g)}var d={};return{ka:function(a){"function"!=typeof a&&q(Error("You can only pass a function to ko.memoization.memoize()"));
var g=b()+b();d[g]=a;return"<\!--[ko_memo:"+g+"]--\>"},Ra:function(a,b){var c=d[a];c===l&&q(Error("Couldn't find any memo with ID "+a+". Perhaps it's already been unmemoized."));try{return c.apply(n,b||[]),i}finally{delete d[a]}},Sa:function(b,g){var d=[];c(b,d);for(var j=0,o=d.length;j<o;j++){var f=d[j].cb,k=[f];g&&a.a.J(k,g);a.r.Ra(d[j].tb,k);f.nodeValue="";f.parentNode&&f.parentNode.removeChild(f)}},Ga:function(a){return(a=a.match(/^\[ko_memo\:(.*?)\]$/))?a[1]:n}}}();a.b("ko.memoization",a.r);
a.b("ko.memoization.memoize",a.r.ka);a.b("ko.memoization.unmemoize",a.r.Ra);a.b("ko.memoization.parseMemoText",a.r.Ga);a.b("ko.memoization.unmemoizeDomNodeAndDescendants",a.r.Sa);a.Aa={throttle:function(b,c){b.throttleEvaluation=c;var d=n;return a.i({read:b,write:function(a){clearTimeout(d);d=setTimeout(function(){b(a)},c)}})},notify:function(b,c){b.equalityComparer="always"==c?function(){return r}:a.w.fn.equalityComparer;return b}};a.b("ko.extenders",a.Aa);a.Oa=function(b,c){this.da=b;this.bb=c;
a.l(this,"dispose",this.v)};a.Oa.prototype.v=function(){this.nb=i;this.bb()};a.R=function(){this.u={};a.a.extend(this,a.R.fn);a.l(this,"subscribe",this.ra);a.l(this,"extend",this.extend);a.l(this,"getSubscriptionsCount",this.kb)};a.R.fn={ra:function(b,c,d){var d=d||"change",b=c?b.bind(c):b,e=new a.Oa(b,function(){a.a.ca(this.u[d],e)}.bind(this));this.u[d]||(this.u[d]=[]);this.u[d].push(e);return e},notifySubscribers:function(b,c){c=c||"change";this.u[c]&&a.a.n(this.u[c].slice(0),function(a){a&&a.nb!==
i&&a.da(b)})},kb:function(){var a=0,c;for(c in this.u)this.u.hasOwnProperty(c)&&(a+=this.u[c].length);return a},extend:function(b){var c=this;if(b)for(var d in b){var e=a.Aa[d];"function"==typeof e&&(c=e(c,b[d]))}return c}};a.Ea=function(a){return"function"==typeof a.ra&&"function"==typeof a.notifySubscribers};a.b("ko.subscribable",a.R);a.b("ko.isSubscribable",a.Ea);a.T=function(){var b=[];return{Xa:function(a){b.push({da:a,za:[]})},end:function(){b.pop()},Ha:function(c){a.Ea(c)||q("Only subscribable things can act as dependencies");
if(0<b.length){var d=b[b.length-1];0<=a.a.k(d.za,c)||(d.za.push(c),d.da(c))}}}}();var h={undefined:i,"boolean":i,number:i,string:i};a.w=function(b){function c(){if(0<arguments.length){if(!c.equalityComparer||!c.equalityComparer(d,arguments[0]))c.H(),d=arguments[0],c.G();return this}a.T.Ha(c);return d}var d=b;a.R.call(c);c.G=function(){c.notifySubscribers(d)};c.H=function(){c.notifySubscribers(d,"beforeChange")};a.a.extend(c,a.w.fn);a.l(c,"valueHasMutated",c.G);a.l(c,"valueWillMutate",c.H);return c};
a.w.fn={B:a.w,equalityComparer:function(a,c){return a===n||typeof a in h?a===c:r}};a.V=function(b){return b===n||b===l||b.B===l?r:b.B===a.w?i:a.V(b.B)};a.P=function(b){return"function"==typeof b&&b.B===a.w?i:"function"==typeof b&&b.B===a.i&&b.lb?i:r};a.b("ko.observable",a.w);a.b("ko.isObservable",a.V);a.b("ko.isWriteableObservable",a.P);a.Q=function(b){0==arguments.length&&(b=[]);b!==n&&b!==l&&!("length"in b)&&q(Error("The argument passed when initializing an observable array must be an array, or null, or undefined."));
var c=new a.w(b);a.a.extend(c,a.Q.fn);a.l(c,"remove",c.remove);a.l(c,"removeAll",c.zb);a.l(c,"destroy",c.fa);a.l(c,"destroyAll",c.ab);a.l(c,"indexOf",c.indexOf);a.l(c,"replace",c.replace);return c};a.Q.fn={remove:function(a){for(var c=this(),d=[],e="function"==typeof a?a:function(e){return e===a},g=0;g<c.length;g++){var p=c[g];e(p)&&(0===d.length&&this.H(),d.push(p),c.splice(g,1),g--)}d.length&&this.G();return d},zb:function(b){if(b===l){var c=this(),d=c.slice(0);this.H();c.splice(0,c.length);this.G();
return d}return!b?[]:this.remove(function(e){return 0<=a.a.k(b,e)})},fa:function(a){var c=this(),d="function"==typeof a?a:function(e){return e===a};this.H();for(var e=c.length-1;0<=e;e--)d(c[e])&&(c[e]._destroy=i);this.G()},ab:function(b){return b===l?this.fa(function(){return i}):!b?[]:this.fa(function(c){return 0<=a.a.k(b,c)})},indexOf:function(b){var c=this();return a.a.k(c,b)},replace:function(a,c){var d=this.indexOf(a);0<=d&&(this.H(),this()[d]=c,this.G())}};a.a.n("pop,push,reverse,shift,sort,splice,unshift".split(","),
function(b){a.Q.fn[b]=function(){var a=this();this.H();a=a[b].apply(a,arguments);this.G();return a}});a.a.n(["slice"],function(b){a.Q.fn[b]=function(){var a=this();return a[b].apply(a,arguments)}});a.b("ko.observableArray",a.Q);a.i=function(b,c,d){function e(){a.a.n(t,function(a){a.v()});t=[]}function g(){var a=j.throttleEvaluation;a&&0<=a?(clearTimeout(h),h=setTimeout(p,a)):p()}function p(){if(f&&"function"==typeof d.disposeWhen&&d.disposeWhen())j.v();else{try{e();a.T.Xa(function(a){t.push(a.ra(g))});
var b=d.read.call(d.owner||c);j.notifySubscribers(o,"beforeChange");o=b}finally{a.T.end()}j.notifySubscribers(o);f=i}}function j(){if(0<arguments.length)"function"===typeof d.write?d.write.apply(d.owner||c,arguments):q("Cannot write a value to a dependentObservable unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");else return f||p(),a.T.Ha(j),o}var o,f=r,d=x(b,d),k="object"==typeof d.disposeWhenNodeIsRemoved?d.disposeWhenNodeIsRemoved:n,m=n;if(k){m=
function(){j.v()};a.a.A.va(k,m);var u=d.disposeWhen;d.disposeWhen=function(){return!a.a.ga(k)||"function"==typeof u&&u()}}var t=[],h=n;j.jb=function(){return t.length};j.lb="function"===typeof d.write;j.v=function(){k&&a.a.A.Ia(k,m);e()};a.R.call(j);a.a.extend(j,a.i.fn);d.deferEvaluation!==i&&p();a.l(j,"dispose",j.v);a.l(j,"getDependenciesCount",j.jb);return j};a.i.fn={B:a.i};a.i.B=a.w;a.b("ko.dependentObservable",a.i);a.b("ko.computed",a.i);(function(){function b(a,g,p){p=p||new d;a=g(a);if(!("object"==
typeof a&&a!==n&&a!==l&&!(a instanceof Date)))return a;var j=a instanceof Array?[]:{};p.save(a,j);c(a,function(c){var f=g(a[c]);switch(typeof f){case "boolean":case "number":case "string":case "function":j[c]=f;break;case "object":case "undefined":var k=p.get(f);j[c]=k!==l?k:b(f,g,p)}});return j}function c(a,b){if(a instanceof Array)for(var c=0;c<a.length;c++)b(c);else for(c in a)b(c)}function d(){var b=[],c=[];this.save=function(d,j){var o=a.a.k(b,d);0<=o?c[o]=j:(b.push(d),c.push(j))};this.get=function(d){d=
a.a.k(b,d);return 0<=d?c[d]:l}}a.Pa=function(e){0==arguments.length&&q(Error("When calling ko.toJS, pass the object you want to convert."));return b(e,function(b){for(var e=0;a.V(b)&&10>e;e++)b=b();return b})};a.toJSON=function(b){b=a.Pa(b);return a.a.qa(b)}})();a.b("ko.toJS",a.Pa);a.b("ko.toJSON",a.toJSON);a.h={q:function(b){return"OPTION"==b.tagName?b.__ko__hasDomDataOptionValue__===i?a.a.e.get(b,a.c.options.la):b.getAttribute("value"):"SELECT"==b.tagName?0<=b.selectedIndex?a.h.q(b.options[b.selectedIndex]):
l:b.value},S:function(b,c){if("OPTION"==b.tagName)switch(typeof c){case "string":a.a.e.set(b,a.c.options.la,l);"__ko__hasDomDataOptionValue__"in b&&delete b.__ko__hasDomDataOptionValue__;b.value=c;break;default:a.a.e.set(b,a.c.options.la,c),b.__ko__hasDomDataOptionValue__=i,b.value="number"===typeof c?c:""}else if("SELECT"==b.tagName)for(var d=b.options.length-1;0<=d;d--){if(a.h.q(b.options[d])==c){b.selectedIndex=d;break}}else{if(c===n||c===l)c="";b.value=c}}};a.b("ko.selectExtensions",a.h);a.b("ko.selectExtensions.readValue",
a.h.q);a.b("ko.selectExtensions.writeValue",a.h.S);a.j=function(){function b(a,b){for(var e=n;a!=e;)e=a,a=a.replace(c,function(a,f){return b[f]});return a}var c=/\@ko_token_(\d+)\@/g,d=/^[\_$a-z][\_$a-z0-9]*(\[.*?\])*(\.[\_$a-z][\_$a-z0-9]*(\[.*?\])*)*$/i,e=["true","false"];return{D:[],Y:function(e){var c=a.a.z(e);if(3>c.length)return[];"{"===c.charAt(0)&&(c=c.substring(1,c.length-1));for(var e=[],d=n,o,f=0;f<c.length;f++){var k=c.charAt(f);if(d===n)switch(k){case '"':case "'":case "/":d=f,o=k}else if(k==
o&&"\\"!==c.charAt(f-1)){k=c.substring(d,f+1);e.push(k);var m="@ko_token_"+(e.length-1)+"@",c=c.substring(0,d)+m+c.substring(f+1),f=f-(k.length-m.length),d=n}}o=d=n;for(var u=0,t=n,f=0;f<c.length;f++){k=c.charAt(f);if(d===n)switch(k){case "{":d=f;t=k;o="}";break;case "(":d=f;t=k;o=")";break;case "[":d=f,t=k,o="]"}k===t?u++:k===o&&(u--,0===u&&(k=c.substring(d,f+1),e.push(k),m="@ko_token_"+(e.length-1)+"@",c=c.substring(0,d)+m+c.substring(f+1),f-=k.length-m.length,d=n))}o=[];c=c.split(",");d=0;for(f=
c.length;d<f;d++)u=c[d],t=u.indexOf(":"),0<t&&t<u.length-1?(k=u.substring(t+1),o.push({key:b(u.substring(0,t),e),value:b(k,e)})):o.push({unknown:b(u,e)});return o},ia:function(b){for(var c="string"===typeof b?a.j.Y(b):b,j=[],b=[],o,f=0;o=c[f];f++)if(0<j.length&&j.push(","),o.key){var k;a:{k=o.key;var m=a.a.z(k);switch(m.length&&m.charAt(0)){case "'":case '"':break a;default:k="'"+m+"'"}}o=o.value;j.push(k);j.push(":");j.push(o);m=a.a.z(o);if(0<=a.a.k(e,a.a.z(m).toLowerCase())?0:m.match(d)!==n)0<b.length&&
b.push(", "),b.push(k+" : function(__ko_value) { "+o+" = __ko_value; }")}else o.unknown&&j.push(o.unknown);c=j.join("");0<b.length&&(c=c+", '_ko_property_writers' : { "+b.join("")+" } ");return c},rb:function(b,c){for(var e=0;e<b.length;e++)if(a.a.z(b[e].key)==c)return i;return r}}}();a.b("ko.jsonExpressionRewriting",a.j);a.b("ko.jsonExpressionRewriting.bindingRewriteValidators",a.j.D);a.b("ko.jsonExpressionRewriting.parseObjectLiteral",a.j.Y);a.b("ko.jsonExpressionRewriting.insertPropertyAccessorsIntoJson",
a.j.ia);(function(){function b(a){return 8==a.nodeType&&(g?a.text:a.nodeValue).match(p)}function c(a){return 8==a.nodeType&&(g?a.text:a.nodeValue).match(j)}function d(a,k){for(var m=a,e=1,d=[];m=m.nextSibling;){if(c(m)&&(e--,0===e))return d;d.push(m);b(m)&&e++}k||q(Error("Cannot find closing comment tag to match: "+a.nodeValue));return n}function e(a,b){var m=d(a,b);return m?0<m.length?m[m.length-1].nextSibling:a.nextSibling:n}var g="<\!--test--\>"===document.createComment("test").text,p=g?/^<\!--\s*ko\s+(.*\:.*)\s*--\>$/:
/^\s*ko\s+(.*\:.*)\s*$/,j=g?/^<\!--\s*\/ko\s*--\>$/:/^\s*\/ko\s*$/,o={ul:i,ol:i};a.f={C:{},childNodes:function(a){return b(a)?d(a):a.childNodes},ha:function(f){if(b(f))for(var f=a.f.childNodes(f),k=0,m=f.length;k<m;k++)a.removeNode(f[k]);else a.a.U(f)},oa:function(f,k){if(b(f)){a.f.ha(f);for(var m=f.nextSibling,e=0,c=k.length;e<c;e++)m.parentNode.insertBefore(k[e],m)}else a.a.oa(f,k)},xb:function(a,k){b(a)?a.parentNode.insertBefore(k,a.nextSibling):a.firstChild?a.insertBefore(k,a.firstChild):a.appendChild(k)},
mb:function(a,k,m){b(a)?a.parentNode.insertBefore(k,m.nextSibling):m.nextSibling?a.insertBefore(k,m.nextSibling):a.appendChild(k)},nextSibling:function(a){return b(a)?e(a).nextSibling:a.nextSibling&&c(a.nextSibling)?l:a.nextSibling},ta:function(a){return(a=b(a))?a[1]:n},ib:function(f){if(a.f.ta(f)){var b;b=a.f.childNodes(f);for(var m=[],e=0,c=b.length;e<c;e++)a.a.A.F(b[e]),m.push(a.a.outerHTML(b[e]));b=String.prototype.concat.apply("",m);a.f.ha(f);(new a.m.I(f)).text(b)}},Fa:function(a){if(o[a.tagName.toLowerCase()]){var k=
a.firstChild;if(k){do if(1===k.nodeType){var m;m=k.firstChild;var d=n;if(m){do if(d)d.push(m);else if(b(m)){var g=e(m,i);g?m=g:d=[m]}else c(m)&&(d=[m]);while(m=m.nextSibling)}if(m=d){d=k.nextSibling;for(g=0;g<m.length;g++)d?a.insertBefore(m[g],d):a.appendChild(m[g])}}while(k=k.nextSibling)}}}}})();a.L=function(){};a.a.extend(a.L.prototype,{nodeHasBindings:function(b){switch(b.nodeType){case 1:return b.getAttribute("data-bind")!=n;case 8:return a.f.ta(b)!=n;default:return r}},getBindings:function(a,
c){var d=this.getBindingsString(a,c);return d?this.parseBindingsString(d,c):n},getBindingsString:function(b){switch(b.nodeType){case 1:return b.getAttribute("data-bind");case 8:return a.f.ta(b);default:return n}},parseBindingsString:function(b,c){try{var d=c.$data,e=" { "+a.j.ia(b)+" } ";return a.a.hb(e,d===n?s:d,c)}catch(g){q(Error("Unable to parse bindings.\nMessage: "+g+";\nBindings value: "+b))}}});a.L.instance=new a.L;a.b("ko.bindingProvider",a.L);(function(){function b(b,d){for(var p,j=d.childNodes[0];p=
j;)j=a.f.nextSibling(p),c(b,p,r)}function c(e,c,p){var j=i,o=1==c.nodeType;o&&a.f.Fa(c);if(o&&p||a.L.instance.nodeHasBindings(c))j=d(c,n,e,p).Bb;o&&j&&b(e,c)}function d(b,c,d,j){function o(a){return function(){return m[a]}}function f(){return m}var k=0;a.f.ib(b);var m,u;new a.i(function(){var t=d&&d instanceof a.K?d:new a.K(a.a.d(d)),i=t.$data;j&&a.Na(b,t);if(m=("function"==typeof c?c():c)||a.L.instance.getBindings(b,t)){if(0===k){k=1;for(var h in m){var n=a.c[h];n&&8===b.nodeType&&!a.f.C[h]&&q(Error("The binding '"+
h+"' cannot be used with virtual elements"));if(n&&"function"==typeof n.init&&(n=(0,n.init)(b,o(h),f,i,t))&&n.controlsDescendantBindings)u!==l&&q(Error("Multiple bindings ("+u+" and "+h+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.")),u=h}k=2}if(2===k)for(h in m)(n=a.c[h])&&"function"==typeof n.update&&(0,n.update)(b,o(h),f,i,t)}},n,{disposeWhenNodeIsRemoved:b});return{Bb:u===l}}a.c={};a.K=function(a,b){this.$data=a;b?
(this.$parent=b.$data,this.$parents=(b.$parents||[]).slice(0),this.$parents.unshift(this.$parent),this.$root=b.$root):(this.$parents=[],this.$root=a)};a.K.prototype.createChildContext=function(b){return new a.K(b,this)};a.Na=function(b,c){if(2==arguments.length)a.a.e.set(b,"__ko_bindingContext__",c);else return a.a.e.get(b,"__ko_bindingContext__")};a.xa=function(b,c,p){1===b.nodeType&&a.f.Fa(b);return d(b,c,p,i)};a.Ta=function(a,c){1===c.nodeType&&b(a,c)};a.wa=function(a,b){b&&1!==b.nodeType&&8!==
b.nodeType&&q(Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node"));b=b||s.document.body;c(a,b,i)};a.ea=function(b){switch(b.nodeType){case 1:case 8:var c=a.Na(b);if(c)return c;if(b.parentNode)return a.ea(b.parentNode)}};a.$a=function(b){return(b=a.ea(b))?b.$data:l};a.b("ko.bindingHandlers",a.c);a.b("ko.applyBindings",a.wa);a.b("ko.applyBindingsToDescendants",a.Ta);a.b("ko.applyBindingsToNode",a.xa);a.b("ko.contextFor",a.ea);a.b("ko.dataFor",
a.$a)})();a.a.n(["click"],function(b){a.c[b]={init:function(c,d,e,g){return a.c.event.init.call(this,c,function(){var a={};a[b]=d();return a},e,g)}}});a.c.event={init:function(b,c,d,e){var g=c()||{},p;for(p in g)(function(){var g=p;"string"==typeof g&&a.a.s(b,g,function(b){var f,k=c()[g];if(k){var m=d();try{var u=a.a.X(arguments);u.unshift(e);f=k.apply(e,u)}finally{if(f!==i)b.preventDefault?b.preventDefault():b.returnValue=r}if(m[g+"Bubble"]===r)b.cancelBubble=i,b.stopPropagation&&b.stopPropagation()}})})()}};
a.c.submit={init:function(b,c,d,e){"function"!=typeof c()&&q(Error("The value for a submit binding must be a function"));a.a.s(b,"submit",function(a){var d,j=c();try{d=j.call(e,b)}finally{if(d!==i)a.preventDefault?a.preventDefault():a.returnValue=r}})}};a.c.visible={update:function(b,c){var d=a.a.d(c()),e="none"!=b.style.display;if(d&&!e)b.style.display="";else if(!d&&e)b.style.display="none"}};a.c.enable={update:function(b,c){var d=a.a.d(c());if(d&&b.disabled)b.removeAttribute("disabled");else if(!d&&
!b.disabled)b.disabled=i}};a.c.disable={update:function(b,c){a.c.enable.update(b,function(){return!a.a.d(c())})}};a.c.value={init:function(b,c,d){var e=["change"],g=d().valueUpdate;g&&("string"==typeof g&&(g=[g]),a.a.J(e,g),e=a.a.ya(e));a.a.n(e,function(e){var g=r;a.a.Cb(e,"after")&&(g=i,e=e.substring(5));var h=g?function(a){setTimeout(a,0)}:function(a){a()};a.a.s(b,e,function(){h(function(){var f=c(),k=a.h.q(b);a.P(f)?f(k):(f=d(),f._ko_property_writers&&f._ko_property_writers.value&&f._ko_property_writers.value(k))})})})},
update:function(b,c){var d=a.a.d(c()),e=a.h.q(b),g=d!=e;0===d&&0!==e&&"0"!==e&&(g=i);g&&(e=function(){a.h.S(b,d)},e(),"SELECT"==b.tagName&&setTimeout(e,0));"SELECT"==b.tagName&&0<b.length&&w(b,d,r)}};a.c.options={update:function(b,c,d){"SELECT"!=b.tagName&&q(Error("options binding applies only to SELECT elements"));var e=0==b.length,g=a.a.ba(a.a.aa(b.childNodes,function(a){return a.tagName&&"OPTION"==a.tagName&&a.selected}),function(f){return a.h.q(f)||f.innerText||f.textContent}),p=b.scrollTop;b.scrollTop=
0;for(var j=a.a.d(c());0<b.length;)a.F(b.options[0]),b.remove(0);if(j){d=d();"number"!=typeof j.length&&(j=[j]);if(d.optionsCaption){var h=document.createElement("OPTION");a.a.Z(h,d.optionsCaption);a.h.S(h,l);b.appendChild(h)}for(var c=0,f=j.length;c<f;c++){var h=document.createElement("OPTION"),k="string"==typeof d.optionsValue?j[c][d.optionsValue]:j[c],k=a.a.d(k);a.h.S(h,k);var m=d.optionsText,k="function"==typeof m?m(j[c]):"string"==typeof m?j[c][m]:k;if(k===n||k===l)k="";a.a.Ma(h,k);b.appendChild(h)}j=
b.getElementsByTagName("OPTION");c=h=0;for(f=j.length;c<f;c++)0<=a.a.k(g,a.h.q(j[c]))&&(a.a.La(j[c],i),h++);if(p)b.scrollTop=p;e&&"value"in d&&w(b,a.a.d(d.value),i)}}};a.c.options.la="__ko.optionValueDomData__";a.c.selectedOptions={Da:function(b){for(var c=[],b=b.childNodes,d=0,e=b.length;d<e;d++){var g=b[d];"OPTION"==g.tagName&&g.selected&&c.push(a.h.q(g))}return c},init:function(b,c,d){a.a.s(b,"change",function(){var b=c();a.P(b)?b(a.c.selectedOptions.Da(this)):(b=d(),b._ko_property_writers&&b._ko_property_writers.value&&
b._ko_property_writers.value(a.c.selectedOptions.Da(this)))})},update:function(b,c){"SELECT"!=b.tagName&&q(Error("values binding applies only to SELECT elements"));var d=a.a.d(c());if(d&&"number"==typeof d.length)for(var e=b.childNodes,g=0,h=e.length;g<h;g++){var j=e[g];"OPTION"==j.tagName&&a.a.La(j,0<=a.a.k(d,a.h.q(j)))}}};a.c.text={update:function(b,c){a.a.Ma(b,c())}};a.c.html={init:function(){return{controlsDescendantBindings:i}},update:function(b,c){var d=a.a.d(c());a.a.Z(b,d)}};a.c.css={update:function(b,
c){var d=a.a.d(c()||{}),e;for(e in d)if("string"==typeof e){var g=a.a.d(d[e]);a.a.Qa(b,e,g)}}};a.c.style={update:function(b,c){var d=a.a.d(c()||{}),e;for(e in d)if("string"==typeof e){var g=a.a.d(d[e]);b.style[e]=g||""}}};a.c.uniqueName={init:function(b,c){if(c())b.name="ko_unique_"+ ++a.c.uniqueName.Za,(a.a.ob||a.a.pb)&&b.mergeAttributes(document.createElement("<input name='"+b.name+"'/>"),r)}};a.c.uniqueName.Za=0;a.c.checked={init:function(b,c,d){a.a.s(b,"click",function(){var e;if("checkbox"==
b.type)e=b.checked;else if("radio"==b.type&&b.checked)e=b.value;else return;var g=c();"checkbox"==b.type&&a.a.d(g)instanceof Array?(e=a.a.k(a.a.d(g),b.value),b.checked&&0>e?g.push(b.value):!b.checked&&0<=e&&g.splice(e,1)):a.P(g)?g()!==e&&g(e):(g=d(),g._ko_property_writers&&g._ko_property_writers.checked&&g._ko_property_writers.checked(e))});"radio"==b.type&&!b.name&&a.c.uniqueName.init(b,function(){return i})},update:function(b,c){var d=a.a.d(c());if("checkbox"==b.type)b.checked=d instanceof Array?
0<=a.a.k(d,b.value):d;else if("radio"==b.type)b.checked=b.value==d}};a.c.attr={update:function(b,c){var d=a.a.d(c())||{},e;for(e in d)if("string"==typeof e){var g=a.a.d(d[e]);g===r||g===n||g===l?b.removeAttribute(e):b.setAttribute(e,g.toString())}}};a.c.hasfocus={init:function(b,c,d){function e(b){var e=c();b!=a.a.d(e)&&(a.P(e)?e(b):(e=d(),e._ko_property_writers&&e._ko_property_writers.hasfocus&&e._ko_property_writers.hasfocus(b)))}a.a.s(b,"focus",function(){e(i)});a.a.s(b,"focusin",function(){e(i)});
a.a.s(b,"blur",function(){e(r)});a.a.s(b,"focusout",function(){e(r)})},update:function(b,c){var d=a.a.d(c());d?b.focus():b.blur();a.a.sa(b,d?"focusin":"focusout")}};a.c["with"]={o:function(b){return function(){var c=b();return{"if":c,data:c,templateEngine:a.p.M}}},init:function(b,c){return a.c.template.init(b,a.c["with"].o(c))},update:function(b,c,d,e,g){return a.c.template.update(b,a.c["with"].o(c),d,e,g)}};a.j.D["with"]=r;a.f.C["with"]=i;a.c["if"]={o:function(b){return function(){return{"if":b(),
templateEngine:a.p.M}}},init:function(b,c){return a.c.template.init(b,a.c["if"].o(c))},update:function(b,c,d,e,g){return a.c.template.update(b,a.c["if"].o(c),d,e,g)}};a.j.D["if"]=r;a.f.C["if"]=i;a.c.ifnot={o:function(b){return function(){return{ifnot:b(),templateEngine:a.p.M}}},init:function(b,c){return a.c.template.init(b,a.c.ifnot.o(c))},update:function(b,c,d,e,g){return a.c.template.update(b,a.c.ifnot.o(c),d,e,g)}};a.j.D.ifnot=r;a.f.C.ifnot=i;a.c.foreach={o:function(b){return function(){var c=
a.a.d(b());return!c||"number"==typeof c.length?{foreach:c,templateEngine:a.p.M}:{foreach:c.data,includeDestroyed:c.includeDestroyed,afterAdd:c.afterAdd,beforeRemove:c.beforeRemove,afterRender:c.afterRender,templateEngine:a.p.M}}},init:function(b,c){return a.c.template.init(b,a.c.foreach.o(c))},update:function(b,c,d,e,g){return a.c.template.update(b,a.c.foreach.o(c),d,e,g)}};a.j.D.foreach=r;a.f.C.foreach=i;a.b("ko.allowedVirtualElementBindings",a.f.C);a.t=function(){};a.t.prototype.renderTemplateSource=
function(){q("Override renderTemplateSource")};a.t.prototype.createJavaScriptEvaluatorBlock=function(){q("Override createJavaScriptEvaluatorBlock")};a.t.prototype.makeTemplateSource=function(b){if("string"==typeof b){var c=document.getElementById(b);c||q(Error("Cannot find template with ID "+b));return new a.m.g(c)}if(1==b.nodeType||8==b.nodeType)return new a.m.I(b);q(Error("Unknown template type: "+b))};a.t.prototype.renderTemplate=function(a,c,d){return this.renderTemplateSource(this.makeTemplateSource(a),
c,d)};a.t.prototype.isTemplateRewritten=function(a){return this.allowTemplateRewriting===r?i:this.W&&this.W[a]?i:this.makeTemplateSource(a).data("isRewritten")};a.t.prototype.rewriteTemplate=function(a,c){var d=this.makeTemplateSource(a),e=c(d.text());d.text(e);d.data("isRewritten",i);if("string"==typeof a)this.W=this.W||{},this.W[a]=i};a.b("ko.templateEngine",a.t);a.$=function(){function b(b,c,d){for(var b=a.j.Y(b),j=a.j.D,h=0;h<b.length;h++){var f=b[h].key;if(j.hasOwnProperty(f)){var k=j[f];"function"===
typeof k?(f=k(b[h].value))&&q(Error(f)):k||q(Error("This template engine does not support the '"+f+"' binding within its templates"))}}b="ko.templateRewriting.applyMemoizedBindingsToNextSibling(function() {             return (function() { return { "+a.j.ia(b)+" } })()         })";return d.createJavaScriptEvaluatorBlock(b)+c}var c=/(<[a-z]+\d*(\s+(?!data-bind=)[a-z0-9\-]+(=(\"[^\"]*\"|\'[^\']*\'))?)*\s+)data-bind=(["'])([\s\S]*?)\5/gi,d=/<\!--\s*ko\b\s*([\s\S]*?)\s*--\>/g;return{gb:function(b,c){c.isTemplateRewritten(b)||
c.rewriteTemplate(b,function(b){return a.$.ub(b,c)})},ub:function(a,g){return a.replace(c,function(a,c,e,f,k,m,d){return b(d,c,g)}).replace(d,function(a,c){return b(c,"<\!-- ko --\>",g)})},Ua:function(b){return a.r.ka(function(c,d){c.nextSibling&&a.xa(c.nextSibling,b,d)})}}}();a.b("ko.templateRewriting",a.$);a.b("ko.templateRewriting.applyMemoizedBindingsToNextSibling",a.$.Ua);a.m={};a.m.g=function(a){this.g=a};a.m.g.prototype.text=function(){if(0==arguments.length)return"script"==this.g.tagName.toLowerCase()?
this.g.text:this.g.innerHTML;var b=arguments[0];"script"==this.g.tagName.toLowerCase()?this.g.text=b:a.a.Z(this.g,b)};a.m.g.prototype.data=function(b){if(1===arguments.length)return a.a.e.get(this.g,"templateSourceData_"+b);a.a.e.set(this.g,"templateSourceData_"+b,arguments[1])};a.m.I=function(a){this.g=a};a.m.I.prototype=new a.m.g;a.m.I.prototype.text=function(){if(0==arguments.length)return a.a.e.get(this.g,"__ko_anon_template__");a.a.e.set(this.g,"__ko_anon_template__",arguments[0])};a.b("ko.templateSources",
a.m);a.b("ko.templateSources.domElement",a.m.g);a.b("ko.templateSources.anonymousTemplate",a.m.I);(function(){function b(a,b,c){for(var d=0;node=a[d];d++)node.parentNode===b&&(1===node.nodeType||8===node.nodeType)&&c(node)}function c(b,c,h,j,n){var n=n||{},f=n.templateEngine||d;a.$.gb(h,f);h=f.renderTemplate(h,j,n);("number"!=typeof h.length||0<h.length&&"number"!=typeof h[0].nodeType)&&q("Template engine must return an array of DOM nodes");f=r;switch(c){case "replaceChildren":a.f.oa(b,h);f=i;break;
case "replaceNode":a.a.Ja(b,h);f=i;break;case "ignoreTargetNode":break;default:q(Error("Unknown renderMode: "+c))}f&&(a.ua(h,j),n.afterRender&&n.afterRender(h,j.$data));return h}var d;a.pa=function(b){b!=l&&!(b instanceof a.t)&&q("templateEngine must inherit from ko.templateEngine");d=b};a.ua=function(c,d){var h=a.a.J([],c),j=0<c.length?c[0].parentNode:n;b(h,j,function(b){a.wa(d,b)});b(h,j,function(b){a.r.Sa(b,[d])})};a.na=function(b,g,h,j,i){h=h||{};(h.templateEngine||d)==l&&q("Set a template engine before calling renderTemplate");
i=i||"replaceChildren";if(j){var f=j.nodeType?j:0<j.length?j[0]:n;return new a.i(function(){var k=g&&g instanceof a.K?g:new a.K(a.a.d(g)),m="function"==typeof b?b(k.$data):b,k=c(j,i,m,k,h);"replaceNode"==i&&(j=k,f=j.nodeType?j:0<j.length?j[0]:n)},n,{disposeWhen:function(){return!f||!a.a.ga(f)},disposeWhenNodeIsRemoved:f&&"replaceNode"==i?f.parentNode:f})}return a.r.ka(function(f){a.na(b,g,h,f,"replaceNode")})};a.Ab=function(b,d,h,j,i){function f(f,b){var c=i.createChildContext(a.a.d(f));a.ua(b,c);
h.afterRender&&h.afterRender(b,c.$data)}return new a.i(function(){var k=a.a.d(d)||[];"undefined"==typeof k.length&&(k=[k]);k=a.a.aa(k,function(f){return h.includeDestroyed||f===l||f===n||!a.a.d(f._destroy)});a.a.Ka(j,k,function(f){var k="function"==typeof b?b(f):b;return c(n,"ignoreTargetNode",k,i.createChildContext(a.a.d(f)),h)},h,f)},n,{disposeWhenNodeIsRemoved:j})};a.c.template={init:function(b,c){var d=a.a.d(c());"string"!=typeof d&&!d.name&&1==b.nodeType&&((new a.m.I(b)).text(b.innerHTML),a.a.U(b));
return{controlsDescendantBindings:i}},update:function(b,c,d,h,l){c=a.a.d(c());h=i;"string"==typeof c?d=c:(d=c.name,"if"in c&&(h=h&&a.a.d(c["if"])),"ifnot"in c&&(h=h&&!a.a.d(c.ifnot)));var f=n;"object"===typeof c&&"foreach"in c?f=a.Ab(d||b,h&&c.foreach||[],c,b,l):h?(l="object"==typeof c&&"data"in c?l.createChildContext(a.a.d(c.data)):l,f=a.na(d||b,l,c,b)):a.f.ha(b);l=f;(c=a.a.e.get(b,"__ko__templateSubscriptionDomDataKey__"))&&"function"==typeof c.v&&c.v();a.a.e.set(b,"__ko__templateSubscriptionDomDataKey__",
l)}};a.j.D.template=function(b){b=a.j.Y(b);return 1==b.length&&b[0].unknown?n:a.j.rb(b,"name")?n:"This template engine does not support anonymous templates nested within its templates"};a.f.C.template=i})();a.b("ko.setTemplateEngine",a.pa);a.b("ko.renderTemplate",a.na);a.a.N=function(b,c,d){if(d===l)return a.a.N(b,c,1)||a.a.N(b,c,10)||a.a.N(b,c,Number.MAX_VALUE);for(var b=b||[],c=c||[],e=b,g=c,h=[],j=0;j<=g.length;j++)h[j]=[];for(var j=0,i=Math.min(e.length,d);j<=i;j++)h[0][j]=j;j=1;for(i=Math.min(g.length,
d);j<=i;j++)h[j][0]=j;for(var i=e.length,f,k=g.length,j=1;j<=i;j++){f=Math.max(1,j-d);for(var m=Math.min(k,j+d);f<=m;f++)h[f][j]=e[j-1]===g[f-1]?h[f-1][j-1]:Math.min(h[f-1][j]===l?Number.MAX_VALUE:h[f-1][j]+1,h[f][j-1]===l?Number.MAX_VALUE:h[f][j-1]+1)}d=b.length;e=c.length;g=[];j=h[e][d];if(j===l)h=n;else{for(;0<d||0<e;){i=h[e][d];k=0<e?h[e-1][d]:j+1;m=0<d?h[e][d-1]:j+1;f=0<e&&0<d?h[e-1][d-1]:j+1;if(k===l||k<i-1)k=j+1;if(m===l||m<i-1)m=j+1;f<i-1&&(f=j+1);k<=m&&k<f?(g.push({status:"added",value:c[e-
1]}),e--):(m<k&&m<f?g.push({status:"deleted",value:b[d-1]}):(g.push({status:"retained",value:b[d-1]}),e--),d--)}h=g.reverse()}return h};a.b("ko.utils.compareArrays",a.a.N);(function(){function b(a){if(2<a.length){for(var b=a[0],c=a[a.length-1],h=[b];b!==c;){b=b.nextSibling;if(!b)return;h.push(b)}Array.prototype.splice.apply(a,[0,a.length].concat(h))}}function c(c,e,g,h){var j=[],c=a.i(function(){var c=e(g)||[];0<j.length&&(b(j),a.a.Ja(j,c),h&&h(g,c));j.splice(0,j.length);a.a.J(j,c)},n,{disposeWhenNodeIsRemoved:c,
disposeWhen:function(){return 0==j.length||!a.a.ga(j[0])}});return{sb:j,i:c}}a.a.Ka=function(d,e,h,p,j){for(var e=e||[],p=p||{},o=a.a.e.get(d,"setDomNodeChildrenFromArrayMapping_lastMappingResult")===l,f=a.a.e.get(d,"setDomNodeChildrenFromArrayMapping_lastMappingResult")||[],k=a.a.ba(f,function(a){return a.Va}),m=a.a.N(k,e),e=[],u=0,t=[],k=[],y=n,v=0,A=m.length;v<A;v++)switch(m[v].status){case "retained":var q=f[u];e.push(q);0<q.O.length&&(y=q.O[q.O.length-1]);u++;break;case "deleted":f[u].i.v();
b(f[u].O);a.a.n(f[u].O,function(a){t.push({element:a,index:v,value:m[v].value});y=a});u++;break;case "added":var q=m[v].value,s=c(d,h,q,j),w=s.sb;e.push({Va:m[v].value,O:w,i:s.i});for(var s=0,x=w.length;s<x;s++){var z=w[s];k.push({element:z,index:v,value:m[v].value});y==n?a.f.xb(d,z):a.f.mb(d,z,y);y=z}j&&j(q,w)}a.a.n(t,function(f){a.F(f.element)});h=r;if(!o){if(p.afterAdd)for(v=0;v<k.length;v++)p.afterAdd(k[v].element,k[v].index,k[v].value);if(p.beforeRemove){for(v=0;v<t.length;v++)p.beforeRemove(t[v].element,
t[v].index,t[v].value);h=i}}h||a.a.n(t,function(f){a.removeNode(f.element)});a.a.e.set(d,"setDomNodeChildrenFromArrayMapping_lastMappingResult",e)}})();a.b("ko.utils.setDomNodeChildrenFromArrayMapping",a.a.Ka);a.p=function(){this.allowTemplateRewriting=r};a.p.prototype=new a.t;a.p.prototype.renderTemplateSource=function(b){b=b.text();return a.a.ma(b)};a.p.M=new a.p;a.pa(a.p.M);a.b("ko.nativeTemplateEngine",a.p);(function(){a.ja=function(){var a=this.qb=function(){if("undefined"==typeof jQuery||!jQuery.tmpl)return 0;
try{if(0<=jQuery.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(a){}return 1}();this.renderTemplateSource=function(b,e,h){h=h||{};2>a&&q(Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later."));var i=b.data("precompiled");i||(i=b.text()||"",i=jQuery.template(n,"{{ko_with $item.koBindingContext}}"+i+"{{/ko_with}}"),b.data("precompiled",i));b=[e.$data];e=jQuery.extend({koBindingContext:e},h.templateOptions);e=jQuery.tmpl(i,b,e);e.appendTo(document.createElement("div"));
jQuery.fragments={};return e};this.createJavaScriptEvaluatorBlock=function(a){return"{{ko_code ((function() { return "+a+" })()) }}"};this.addTemplate=function(a,b){document.write("<script type='text/html' id='"+a+"'>"+b+"<\/script>")};if(0<a)jQuery.tmpl.tag.ko_code={open:"__.push($1 || '');"},jQuery.tmpl.tag.ko_with={open:"with($1) {",close:"} "}};a.ja.prototype=new a.t;var b=new a.ja;0<b.qb&&a.pa(b);a.b("ko.jqueryTmplTemplateEngine",a.ja)})()})(window);
var iadb=function(s,q,x){function w(i,l){var a=function(){for(var a in i)i.hasOwnProperty(a)&&(this[a]=i[a])};a.prototype=l;return new a}var l,i={en:l={selectCountry:"Select Country",projects:"Projects",sectors:"Sectors",sector:"Sector",results:"Results",dataLayers:"Data Layers",back:"Back",map:"Map",projectGallery:"Project Gallery",share:"Share",partners:"Partners",project:"Project",projectN:"Project #",projectName:"Project Name",selectAll:"Select All",whatsShown:"What's Shown",legend:"Legend",noLayersSelected:"There are no layers selected",
pressEsc:"Press esc to close",projectNumber:"Project number",photos:"Photos",projectInfo:"Project info",readMore:"Read more",readLess:"Read less",showingResults1:"Showing",showingResults2:"of",showingResults3:"results",mediaNotAvaliable:"Photos\u00a0and videos\u00a0are not available",showProjectInfo:"Show project information",shotRelatedOutputs:"Show related outputs",loading:"Loading",videos:"Videos",documents:"Documents",news:"News",noProjectsFound:"There are no projects with the criteria specified",
countries:"Country",HA:"Haiti",GY:"Guyana",NI:"Nicaragua",HO:"Honduras",PA:"Paraguay",BO:"Bolivia",UR:"Uruguay",selectProject:"Select a project in this location"},es:w({selectCountry:"Seleccione el pa\u00eds",projects:"Proyectos",sectors:"Sectores",sector:"Sector",results:"Resultados",dataLayers:"Capas de datos",back:"Volver",map:"Mapa",projectGallery:"Galer\u00eda de Proyectos",share:"Compartir",partners:"Socios",project:"Proyecto",projectN:"N\u00fam. del Proyecto",projectName:"Nombre del proyecto",
selectAll:"Seleccionar todos",whatsShown:"Lo que se muestra",legend:"Leyenda",noLayersSelected:"No hay\u00a0capas seleccionadas",pressEsc:"Presione ESC para cerrar",projectNumber:"N\u00famero del proyecto",photos:"Fotos",projectInfo:"Informaci\u00f3n del Proyecto",readMore:"Lea m\u00e1s",readLess:"Lea menos",showingResults1:"Mostrando",showingResults2:"de",showingResults3:"resultados",mediaNotAvaliable:"Fotos y videos no disponibles",showProjectInfo:"Muestra\u00a0informaci\u00f3n del proyecto",shotRelatedOutputs:"Muestra\u00a0resultados\u00a0relacionados",
loading:"Cargando,\u00a0por favor espere",videos:"Videos",documents:"Documentos",news:"Noticias",noProjectsFound:"No hay proyectos con los criterios especificados",countries:"Pa\u00edses",HA:"Hait\u00ed",GY:"Guyana",NI:"Nicaragua",HO:"Honduras",PA:"Paraguay",BO:"Bolivia",UR:"Uruguay",selectProject:"Seleccione un proyecto en\u00a0esta ubicaci\u00f3n"},l),fr:w({selectCountry:"Choisir le pays",projects:"Projets",sectors:"Secteurs",sector:"Secteur",results:"R\u00e9sultats",dataLayers:"Couches de donn\u00e9es",
back:"Retour",map:"Carte",projectGallery:"Galerie de projets",share:"Partager",partners:"Partenaires",project:"Projet",projectN:"No. du projet",projectName:"Nom du projet",selectAll:"S\u00e9lectionner tout",whatsShown:"Ce qui est affich\u00e9",legend:"L\u00e9gende",noLayersSelected:"Il\u00a0n'ya pas de couches\u00a0s\u00e9lectionn\u00e9es",pressEsc:"Appuyez sur \u00c9chap",projectNumber:"Num\u00e9ro de projet",photos:"Photos",projectInfo:"Informations sur le projet",readMore:"Lire plus",readLess:"Lire moins",
showingResults1:"Affichage",showingResults2:"de",showingResults3:"r\u00e9sultats",mediaNotAvaliable:"Photos et\u00a0vid\u00e9os\u00a0ne sont pas disponibles",showProjectInfo:"Affiche des informations\u00a0de projet",shotRelatedOutputs:"Afficher les r\u00e9sultats\u00a0li\u00e9s",loading:"Chargement, s'il vous pla\u00eet\u00a0attendre",videos:"V\u00eddeos",documents:"Documents",news:"Nouvelles",noProjectsFound:"Il n'y a pas de projets avec les crit\u00e8res sp\u00e9cifi\u00e9s",countries:"Pays",HA:"Ha\u00efti",
GY:"Guyana",NI:"Nicaragua",HO:"Honduras",PA:"Paraguay",BO:"Bolivie",UR:"Uruguay",selectProject:"Selecione um projeto\u00a0neste local"},l),pt:w({selectCountry:"Selecione um pa\u00eds",projects:"Projetos",sectors:"Setores",sector:"Setor",results:"Resultados",dataLayers:"Camada de dados",back:"Voltar",map:"Mapa",projectGallery:"Galeria de projetos",share:"Compartilhar",partners:"Parceiros",project:"Projeto",projectN:"N\u00fam. de Projeto",projectName:"Nome do projeto",selectAll:"selecione Todos os",
whatsShown:"O que \u00e9 mostrado",legend:"Lenda",noLayersSelected:"N\u00e3o h\u00e1\u00a0camadas selecionadas",pressEsc:"Pressione Esc\u00a0para fechar",projectNumber:"N\u00famero do projeto",photos:"Fotos",projectInfo:"Informa\u00e7\u00f5es do Projeto",readMore:"Leia mais",readLess:"Leia menos",showingResults1:"Mostrando",showingResults2:"de",showingResults3:"resultados",mediaNotAvaliable:"Fotos e v\u00eddeos\u00a0n\u00e3o est\u00e3o dispon\u00edveis",showProjectInfo:"Exibe\u00a0informa\u00e7\u00f5es sobre o projeto",
shotRelatedOutputs:"Mostrar\u00a0resultados\u00a0relacionados",loading:"Carregando,\u00a0por favor aguarde",videos:"Vid\u00e9os",documents:"Documentos",news:"Not\u00edcia",noProjectsFound:"N\u00e3o h\u00e1 projetos com os crit\u00e9rios especificados",countries:"Pa\u00edses",HA:"Haiti",GY:"Guiana",NI:"Nicar\u00e1gua",HO:"Honduras",PA:"Paraguai",BO:"Bol\u00edvia",UR:"Uruguai",selectProject:"S\u00e9lectionnez un projet dans\u00a0ce lieu"},l)};s.getCurrentLanguage=function(){var i=(x.location.hash||
"").match(/#\/iadb\/(en|es|fr|pt)/);return i&&i[1]?i[1]:"en"};s.getCurrentCountry=function(){var i=(x.location.hash||"").match(/#\/iadb\/(en|es|fr|pt)\/(.*?)\//),l="haiti";i&&i[2]&&(l=i[2]);return q.utils.arrayFirst(s.Country.countries,function(a){return a.name.toLowerCase()==l.toLowerCase()})};s.write=function(i,l){document.write((0,i[l])())};s.Lang=function(n){this.language=q.observable(n||"en");for(var l in i.en)i.en.hasOwnProperty(l)&&(this[l]=q.dependentObservable(function(){return i[this.language()][l]},
this))};s.Lang.prototype={dispose:function(){for(var i in this)if(this.hasOwnProperty(i)){var l=this[i];l&&l.dispose&&l.dispose();this[i]=null;delete this[i]}}};s.getProjectGalleryLink=function(){var i=s.getCurrentCountry(),l=s.getCurrentLanguage();return"http://www.iadb.org/mapamericas/projectgallery/?country="+i.abbr+"&lang="+l};s.getPartnersLink=function(){return"http://www.iadb.org/mapamericas/partners/?lang="+s.getCurrentLanguage()};s.getShareLink=function(){var i=s.getCurrentCountry(),l=s.getCurrentLanguage(),
a=x.location.hash;return null!=a&&a.length?(a=a.substr(1),"http://www.iadb.org/"+l+"/mapamericas/"+i.name+"/?projectID="+a):"http://www.iadb.org/"+l+"/mapamericas/"+i.name+"/"};s.Country={countries:[{name:"Haiti",abbr:"HA",maps:{en:37,es:81,pt:83,fr:82}},{name:"Bolivia",abbr:"BO",maps:{en:103,es:104,pt:116,fr:115}},{name:"Guyana",abbr:"GY",maps:{en:102,es:101,pt:123,fr:119}},{name:"Honduras",abbr:"HO",maps:{en:100,es:99,pt:125,fr:124}},{name:"Nicaragua",abbr:"NI",maps:{en:98,es:97,pt:127,fr:126}},
{name:"Uruguay",abbr:"UR",maps:{en:131,es:132,pt:134,fr:133}}],getMapId:function(){var i=s.getCurrentCountry().name.toLowerCase(),l=q.utils.arrayFirst(s.Country.countries,function(a){return a.name.toLowerCase()==i});return l?l.maps[iadb.getCurrentLanguage()]:37}};return s}(iadb||{},ko,window);
(function(s){var q,x,w,l,i,n,r,a=function(a){this.GetEnumerator=a};s.Enumerable=a;a.Choice=function(){var f=arguments[0]instanceof Array?arguments[0]:arguments;return new a(function(){return new b(i,function(){return this.Yield(f[Math.floor(Math.random()*f.length)])},i)})};a.Cycle=function(){var f=arguments[0]instanceof Array?arguments[0]:arguments;return new a(function(){var a=0;return new b(i,function(){a>=f.length&&(a=0);return this.Yield(f[a++])},i)})};a.Empty=function(){return new a(function(){return new b(i,
function(){return!1},i)})};a.From=function(f){if(null==f)return a.Empty();if(f instanceof a)return f;if(typeof f==q||typeof f==x)return a.Repeat(f,1);if(typeof f==w)return new a(function(){var a=0;return new b(i,function(){return a<f.length?this.Yield(f.charAt(a++)):!1},i)});if(typeof f!=l){if(typeof f.length==q)return new g(f);if(!(f instanceof Object)&&h.IsIEnumerable(f))return new a(function(){var a=!0,c;return new b(function(){c=new Enumerator(f)},function(){a?a=!1:c.moveNext();return c.atEnd()?
!1:this.Yield(c.item())},i)})}return new a(function(){var a=[],c=0;return new b(function(){for(var b in f)f[b]instanceof Function||a.push({Key:b,Value:f[b]})},function(){return c<a.length?this.Yield(a[c++]):!1},i)})};a.Return=function(b){return a.Repeat(b,1)};a.Matches=function(f,k,c){null==c&&(c="");if(k instanceof RegExp)c+=k.ignoreCase?"i":"",c+=k.multiline?"m":"",k=k.source;-1===c.indexOf("g")&&(c+="g");return new a(function(){var a;return new b(function(){a=RegExp(k,c)},function(){var b=a.exec(f);
return b?this.Yield(b):!1},i)})};a.Range=function(b,k,c){null==c&&(c=1);return a.ToInfinity(b,c).Take(k)};a.RangeDown=function(b,c,m){null==m&&(m=1);return a.ToNegativeInfinity(b,m).Take(c)};a.RangeTo=function(b,c,m){null==m&&(m=1);return b<c?a.ToInfinity(b,m).TakeWhile(function(a){return a<=c}):a.ToNegativeInfinity(b,m).TakeWhile(function(a){return a>=c})};a.Repeat=function(f,c){return null!=c?a.Repeat(f).Take(c):new a(function(){return new b(i,function(){return this.Yield(f)},i)})};a.RepeatWithFinalize=
function(f,c){f=h.CreateLambda(f);c=h.CreateLambda(c);return new a(function(){var a;return new b(function(){a=f()},function(){return this.Yield(a)},function(){null!=a&&(c(a),a=null)})})};a.Generate=function(f,c){if(null!=c)return a.Generate(f).Take(c);f=h.CreateLambda(f);return new a(function(){return new b(i,function(){return this.Yield(f())},i)})};a.ToInfinity=function(f,c){null==f&&(f=0);null==c&&(c=1);return new a(function(){var a;return new b(function(){a=f-c},function(){return this.Yield(a+=
c)},i)})};a.ToNegativeInfinity=function(f,c){null==f&&(f=0);null==c&&(c=1);return new a(function(){var a;return new b(function(){a=f+c},function(){return this.Yield(a-=c)},i)})};a.Unfold=function(f,c){c=h.CreateLambda(c);return new a(function(){var a=!0,d;return new b(i,function(){if(a)return a=!1,d=f,this.Yield(d);d=c(d);return this.Yield(d)},i)})};a.prototype={CascadeBreadthFirst:function(f,c){var m=this,f=h.CreateLambda(f),c=h.CreateLambda(c);return new a(function(){var d,e=0,g=[];return new b(function(){d=
m.GetEnumerator()},function(){for(;;){if(d.MoveNext())return g.push(d.Current()),this.Yield(c(d.Current(),e));var b=a.From(g).SelectMany(function(a){return f(a)});if(b.Any())e++,g=[],h.Dispose(d),d=b.GetEnumerator();else return!1}},function(){h.Dispose(d)})})},CascadeDepthFirst:function(f,c){var m=this,f=h.CreateLambda(f),c=h.CreateLambda(c);return new a(function(){var d=[],e;return new b(function(){e=m.GetEnumerator()},function(){for(;;){if(e.MoveNext()){var b=c(e.Current(),d.length);d.push(e);e=
a.From(f(e.Current())).GetEnumerator();return this.Yield(b)}if(0>=d.length)return!1;h.Dispose(e);e=d.pop()}},function(){try{h.Dispose(e)}finally{a.From(d).ForEach(function(a){a.Dispose()})}})})},Flatten:function(){var f=this;return new a(function(){var c,m=null;return new b(function(){c=f.GetEnumerator()},function(){for(;;){if(null!=m){if(m.MoveNext())return this.Yield(m.Current());m=null}if(c.MoveNext())if(c.Current()instanceof Array){h.Dispose(m);m=a.From(c.Current()).SelectMany(n).Flatten().GetEnumerator();
continue}else return this.Yield(c.Current());return!1}},function(){try{h.Dispose(c)}finally{h.Dispose(m)}})})},Pairwise:function(f){var c=this,f=h.CreateLambda(f);return new a(function(){var a;return new b(function(){a=c.GetEnumerator();a.MoveNext()},function(){var b=a.Current();return a.MoveNext()?this.Yield(f(b,a.Current())):!1},function(){h.Dispose(a)})})},Scan:function(f,c,m){if(null!=m)return this.Scan(f,c).Select(m);var d;null==c?(c=h.CreateLambda(f),d=!1):(c=h.CreateLambda(c),d=!0);var e=this;
return new a(function(){var a,m,g=!0;return new b(function(){a=e.GetEnumerator()},function(){if(g){g=!1;if(d)return this.Yield(m=f);if(a.MoveNext())return this.Yield(m=a.Current())}return a.MoveNext()?this.Yield(m=c(m,a.Current())):!1},function(){h.Dispose(a)})})},Select:function(f){var c=this,f=h.CreateLambda(f);return new a(function(){var a,d=0;return new b(function(){a=c.GetEnumerator()},function(){return a.MoveNext()?this.Yield(f(a.Current(),d++)):!1},function(){h.Dispose(a)})})},SelectMany:function(f,
c){var m=this,f=h.CreateLambda(f);null==c&&(c=function(a,b){return b});c=h.CreateLambda(c);return new a(function(){var d,e=void 0,g=0;return new b(function(){d=m.GetEnumerator()},function(){if(void 0===e&&!d.MoveNext())return!1;do{if(null==e){var b=f(d.Current(),g++);e=a.From(b).GetEnumerator()}if(e.MoveNext())return this.Yield(c(d.Current(),e.Current()));h.Dispose(e);e=null}while(d.MoveNext());return!1},function(){try{h.Dispose(d)}finally{h.Dispose(e)}})})},Where:function(f){var f=h.CreateLambda(f),
c=this;return new a(function(){var a,d=0;return new b(function(){a=c.GetEnumerator()},function(){for(;a.MoveNext();)if(f(a.Current(),d++))return this.Yield(a.Current());return!1},function(){h.Dispose(a)})})},OfType:function(a){var b;switch(a){case Number:b=q;break;case String:b=w;break;case Boolean:b=x;break;case Function:b=l;break;default:b=null}return null===b?this.Where(function(b){return b instanceof a}):this.Where(function(a){return typeof a===b})},Zip:function(f,c){var c=h.CreateLambda(c),d=
this;return new a(function(){var e,g,i=0;return new b(function(){e=d.GetEnumerator();g=a.From(f).GetEnumerator()},function(){return e.MoveNext()&&g.MoveNext()?this.Yield(c(e.Current(),g.Current(),i++)):!1},function(){try{h.Dispose(e)}finally{h.Dispose(g)}})})},Join:function(f,c,d,e,g){var c=h.CreateLambda(c),d=h.CreateLambda(d),e=h.CreateLambda(e),g=h.CreateLambda(g),i=this;return new a(function(){var j,l,o=null,p=0;return new b(function(){j=i.GetEnumerator();l=a.From(f).ToLookup(d,n,g)},function(){for(;;){if(null!=
o){var a=o[p++];if(void 0!==a)return this.Yield(e(j.Current(),a));p=0}if(j.MoveNext())a=c(j.Current()),o=l.Get(a).ToArray();else return!1}},function(){h.Dispose(j)})})},GroupJoin:function(f,c,d,e,g){var c=h.CreateLambda(c),d=h.CreateLambda(d),e=h.CreateLambda(e),g=h.CreateLambda(g),i=this;return new a(function(){var j=i.GetEnumerator(),l=null;return new b(function(){j=i.GetEnumerator();l=a.From(f).ToLookup(d,n,g)},function(){if(j.MoveNext()){var a=l.Get(c(j.Current()));return this.Yield(e(j.Current(),
a))}return!1},function(){h.Dispose(j)})})},All:function(a){var a=h.CreateLambda(a),b=!0;this.ForEach(function(c){if(!a(c))return b=!1});return b},Any:function(a){var a=h.CreateLambda(a),b=this.GetEnumerator();try{if(0==arguments.length)return b.MoveNext();for(;b.MoveNext();)if(a(b.Current()))return!0;return!1}finally{h.Dispose(b)}},Concat:function(f){var c=this;return new a(function(){var d,e;return new b(function(){d=c.GetEnumerator()},function(){if(null==e){if(d.MoveNext())return this.Yield(d.Current());
e=a.From(f).GetEnumerator()}return e.MoveNext()?this.Yield(e.Current()):!1},function(){try{h.Dispose(d)}finally{h.Dispose(e)}})})},Insert:function(f,c){var d=this;return new a(function(){var e,g,i=0,j=!1;return new b(function(){e=d.GetEnumerator();g=a.From(c).GetEnumerator()},function(){if(i==f&&g.MoveNext())return j=!0,this.Yield(g.Current());return e.MoveNext()?(i++,this.Yield(e.Current())):!j&&g.MoveNext()?this.Yield(g.Current()):!1},function(){try{h.Dispose(e)}finally{h.Dispose(g)}})})},Alternate:function(b){b=
a.Return(b);return this.SelectMany(function(c){return a.Return(c).Concat(b)}).TakeExceptLast()},Contains:function(a,b){var b=h.CreateLambda(b),c=this.GetEnumerator();try{for(;c.MoveNext();)if(b(c.Current())===a)return!0;return!1}finally{h.Dispose(c)}},DefaultIfEmpty:function(f){var c=this;return new a(function(){var a,d=!0;return new b(function(){a=c.GetEnumerator()},function(){if(a.MoveNext())return d=!1,this.Yield(a.Current());return d?(d=!1,this.Yield(f)):!1},function(){h.Dispose(a)})})},Distinct:function(b){return this.Except(a.Empty(),
b)},Except:function(f,c){var c=h.CreateLambda(c),d=this;return new a(function(){var e,g;return new b(function(){e=d.GetEnumerator();g=new p(c);a.From(f).ForEach(function(a){g.Add(a)})},function(){for(;e.MoveNext();){var a=e.Current();if(!g.Contains(a))return g.Add(a),this.Yield(a)}return!1},function(){h.Dispose(e)})})},Intersect:function(f,c){var c=h.CreateLambda(c),d=this;return new a(function(){var e,g,i;return new b(function(){e=d.GetEnumerator();g=new p(c);a.From(f).ForEach(function(a){g.Add(a)});
i=new p(c)},function(){for(;e.MoveNext();){var a=e.Current();if(!i.Contains(a)&&g.Contains(a))return i.Add(a),this.Yield(a)}return!1},function(){h.Dispose(e)})})},SequenceEqual:function(b,c){var c=h.CreateLambda(c),d=this.GetEnumerator();try{var e=a.From(b).GetEnumerator();try{for(;d.MoveNext();)if(!e.MoveNext()||c(d.Current())!==c(e.Current()))return!1;return e.MoveNext()?!1:!0}finally{h.Dispose(e)}}finally{h.Dispose(d)}},Union:function(f,c){var c=h.CreateLambda(c),d=this;return new a(function(){var e,
g,i;return new b(function(){e=d.GetEnumerator();i=new p(c)},function(){var b;if(void 0===g){for(;e.MoveNext();)if(b=e.Current(),!i.Contains(b))return i.Add(b),this.Yield(b);g=a.From(f).GetEnumerator()}for(;g.MoveNext();)if(b=g.Current(),!i.Contains(b))return i.Add(b),this.Yield(b);return!1},function(){try{h.Dispose(e)}finally{h.Dispose(g)}})})},OrderBy:function(a){return new d(this,a,!1)},OrderByDescending:function(a){return new d(this,a,!0)},Reverse:function(){var f=this;return new a(function(){var a,
c;return new b(function(){a=f.ToArray();c=a.length},function(){return 0<c?this.Yield(a[--c]):!1},i)})},Shuffle:function(){var f=this;return new a(function(){var a;return new b(function(){a=f.ToArray()},function(){if(0<a.length){var b=Math.floor(Math.random()*a.length);return this.Yield(a.splice(b,1)[0])}return!1},i)})},GroupBy:function(f,c,d,e){var g=this,f=h.CreateLambda(f),c=h.CreateLambda(c);null!=d&&(d=h.CreateLambda(d));e=h.CreateLambda(e);return new a(function(){var a;return new b(function(){a=
g.ToLookup(f,c,e).ToEnumerable().GetEnumerator()},function(){for(;a.MoveNext();)return null==d?this.Yield(a.Current()):this.Yield(d(a.Current().Key(),a.Current()));return!1},function(){h.Dispose(a)})})},PartitionBy:function(f,c,d,e){var g=this,f=h.CreateLambda(f),c=h.CreateLambda(c),e=h.CreateLambda(e),i;null==d?(i=!1,d=function(a,b){return new o(a,b)}):(i=!0,d=h.CreateLambda(d));return new a(function(){var j,l,n,o=[];return new b(function(){j=g.GetEnumerator();j.MoveNext()&&(l=f(j.Current()),n=e(l),
o.push(c(j.Current())))},function(){for(var b;!0==(b=j.MoveNext());)if(n===e(f(j.Current())))o.push(c(j.Current()));else break;if(0<o.length){var g=i?d(l,a.From(o)):d(l,o);b?(l=f(j.Current()),n=e(l),o=[c(j.Current())]):o=[];return this.Yield(g)}return!1},function(){h.Dispose(j)})})},BufferWithCount:function(f){var c=this;return new a(function(){var a;return new b(function(){a=c.GetEnumerator()},function(){for(var b=[],c=0;a.MoveNext();)if(b.push(a.Current()),++c>=f)return this.Yield(b);return 0<b.length?
this.Yield(b):!1},function(){h.Dispose(a)})})},Aggregate:function(a,b,c){return this.Scan(a,b,c).Last()},Average:function(a){var a=h.CreateLambda(a),b=0,c=0;this.ForEach(function(d){b+=a(d);++c});return b/c},Count:function(a){var a=null==a?r:h.CreateLambda(a),b=0;this.ForEach(function(c,d){a(c,d)&&++b});return b},Max:function(a){null==a&&(a=n);return this.Select(a).Aggregate(function(a,b){return a>b?a:b})},Min:function(a){null==a&&(a=n);return this.Select(a).Aggregate(function(a,b){return a<b?a:b})},
MaxBy:function(a){a=h.CreateLambda(a);return this.Aggregate(function(b,c){return a(b)>a(c)?b:c})},MinBy:function(a){a=h.CreateLambda(a);return this.Aggregate(function(b,c){return a(b)<a(c)?b:c})},Sum:function(a){null==a&&(a=n);return this.Select(a).Aggregate(0,function(a,b){return a+b})},ElementAt:function(a){var b,c=!1;this.ForEach(function(d,e){if(e==a)return b=d,c=!0,!1});if(!c)throw Error("index is less than 0 or greater than or equal to the number of elements in source.");return b},ElementAtOrDefault:function(a,
b){var c,d=!1;this.ForEach(function(b,e){if(e==a)return c=b,d=!0,!1});return!d?b:c},First:function(a){if(null!=a)return this.Where(a).First();var b,c=!1;this.ForEach(function(a){b=a;c=!0;return!1});if(!c)throw Error("First:No element satisfies the condition.");return b},FirstOrDefault:function(a,b){if(null!=b)return this.Where(b).FirstOrDefault(a);var c,d=!1;this.ForEach(function(a){c=a;d=!0;return!1});return!d?a:c},Last:function(a){if(null!=a)return this.Where(a).Last();var b,c=!1;this.ForEach(function(a){c=
!0;b=a});if(!c)throw Error("Last:No element satisfies the condition.");return b},LastOrDefault:function(a,b){if(null!=b)return this.Where(b).LastOrDefault(a);var c,d=!1;this.ForEach(function(a){d=!0;c=a});return!d?a:c},Single:function(a){if(null!=a)return this.Where(a).Single();var b,c=!1;this.ForEach(function(a){if(c)throw Error("Single:sequence contains more than one element.");c=!0;b=a});if(!c)throw Error("Single:No element satisfies the condition.");return b},SingleOrDefault:function(a,b){if(null!=
b)return this.Where(b).SingleOrDefault(a);var c,d=!1;this.ForEach(function(a){if(d)throw Error("Single:sequence contains more than one element.");d=!0;c=a});return!d?a:c},Skip:function(c){var d=this;return new a(function(){var a,e=0;return new b(function(){for(a=d.GetEnumerator();e++<c&&a.MoveNext(););},function(){return a.MoveNext()?this.Yield(a.Current()):!1},function(){h.Dispose(a)})})},SkipWhile:function(c){var c=h.CreateLambda(c),d=this;return new a(function(){var a,e=0,g=!1;return new b(function(){a=
d.GetEnumerator()},function(){for(;!g;)if(a.MoveNext()){if(!c(a.Current(),e++))return g=!0,this.Yield(a.Current())}else return!1;return a.MoveNext()?this.Yield(a.Current()):!1},function(){h.Dispose(a)})})},Take:function(c){var d=this;return new a(function(){var a,e=0;return new b(function(){a=d.GetEnumerator()},function(){return e++<c&&a.MoveNext()?this.Yield(a.Current()):!1},function(){h.Dispose(a)})})},TakeWhile:function(c){var c=h.CreateLambda(c),d=this;return new a(function(){var a,e=0;return new b(function(){a=
d.GetEnumerator()},function(){return a.MoveNext()&&c(a.Current(),e++)?this.Yield(a.Current()):!1},function(){h.Dispose(a)})})},TakeExceptLast:function(c){null==c&&(c=1);var d=this;return new a(function(){if(0>=c)return d.GetEnumerator();var a,e=[];return new b(function(){a=d.GetEnumerator()},function(){for(;a.MoveNext();){if(e.length==c)return e.push(a.Current()),this.Yield(e.shift());e.push(a.Current())}return!1},function(){h.Dispose(a)})})},TakeFromLast:function(c){if(0>=c||null==c)return a.Empty();
var d=this;return new a(function(){var e,g,i=[];return new b(function(){e=d.GetEnumerator()},function(){for(;e.MoveNext();)i.length==c&&i.shift(),i.push(e.Current());null==g&&(g=a.From(i).GetEnumerator());return g.MoveNext()?this.Yield(g.Current()):!1},function(){h.Dispose(g)})})},IndexOf:function(a){var b=null;this.ForEach(function(c,d){if(c===a)return b=d,!0});return null!==b?b:-1},LastIndexOf:function(a){var b=-1;this.ForEach(function(c,d){c===a&&(b=d)});return b},ToArray:function(){var a=[];this.ForEach(function(b){a.push(b||
null)});return a},ToLookup:function(a,b,c){var a=h.CreateLambda(a),b=h.CreateLambda(b),c=h.CreateLambda(c),d=new p(c);this.ForEach(function(c){var e=a(c),c=b(c),g=d.Get(e);void 0!==g?g.push(c):d.Add(e,[c])});return new j(d)},ToObject:function(a,b){var a=h.CreateLambda(a),b=h.CreateLambda(b),c={};this.ForEach(function(d){c[a(d)]=b(d)});return c},ToDictionary:function(a,b,c){var a=h.CreateLambda(a),b=h.CreateLambda(b),c=h.CreateLambda(c),d=new p(c);this.ForEach(function(c){d.Add(a(c),b(c))});return d},
ToJSON:function(a,b){return JSON.stringify(this.ToArray(),a,b)},ToString:function(a,b){null==a&&(a="");null==b&&(b=n);return this.Select(b).ToArray().join(a)},Do:function(c){var d=this,c=h.CreateLambda(c);return new a(function(){var a,e=0;return new b(function(){a=d.GetEnumerator()},function(){return a.MoveNext()?(c(a.Current(),e++),this.Yield(a.Current())):!1},function(){h.Dispose(a)})})},ForEach:function(a){var a=h.CreateLambda(a),b=0,c=this.GetEnumerator();try{for(;c.MoveNext()&&!(!1===a(c.Current(),
b++)););}finally{h.Dispose(c)}},Write:function(a,b){null==a&&(a="");var b=h.CreateLambda(b),c=!0;this.ForEach(function(d){c?c=!1:document.write(a);document.write(b(d))})},WriteLine:function(a){a=h.CreateLambda(a);this.ForEach(function(b){document.write(a(b));document.write("<br />")})},Force:function(){var a=this.GetEnumerator();try{for(;a.MoveNext(););}finally{h.Dispose(a)}},Let:function(c){var c=h.CreateLambda(c),d=this;return new a(function(){var e;return new b(function(){e=a.From(c(d)).GetEnumerator()},
function(){return e.MoveNext()?this.Yield(e.Current()):!1},function(){h.Dispose(e)})})},Share:function(){var c=this,d;return new a(function(){return new b(function(){null==d&&(d=c.GetEnumerator())},function(){return d.MoveNext()?this.Yield(d.Current()):!1},i)})},MemoizeAll:function(){var c=this,d,e;return new a(function(){var a=-1;return new b(function(){null==e&&(e=c.GetEnumerator(),d=[])},function(){a++;return d.length<=a?e.MoveNext()?this.Yield(d[a]=e.Current()):!1:this.Yield(d[a])},i)})},Catch:function(c){var c=
h.CreateLambda(c),d=this;return new a(function(){var a;return new b(function(){a=d.GetEnumerator()},function(){try{return a.MoveNext()?this.Yield(a.Current()):!1}catch(b){return c(b),!1}},function(){h.Dispose(a)})})},Finally:function(c){var c=h.CreateLambda(c),d=this;return new a(function(){var a;return new b(function(){a=d.GetEnumerator()},function(){return a.MoveNext()?this.Yield(a.Current()):!1},function(){try{h.Dispose(a)}finally{c()}})})},Trace:function(a,b){null==a&&(a="Trace");b=h.CreateLambda(b);
return this.Do(function(c){console.log(a,":",b(c))})}};n=function(a){return a};r=function(){return!0};i=function(){};x="boolean";q="number";w="string";l="function";var h={CreateLambda:function(a){if(null==a)return n;if(typeof a==w){if(""==a)return n;if(-1==a.indexOf("=>"))return new Function("$,$$,$$$,$$$$","return "+a);a=a.match(/^[(\s]*([^()]*?)[)\s]*=>(.*)/);return new Function(a[1],"return "+a[2])}return a},IsIEnumerable:function(a){if("undefined"!=typeof Enumerator)try{return new Enumerator(a),
!0}catch(b){}return!1},Compare:function(a,b){return a===b?0:a>b?1:-1},Dispose:function(a){null!=a&&a.Dispose()}},b=function(a,b,d){var e=new c,g=0;this.Current=e.Current;this.MoveNext=function(){try{switch(g){case 0:g=1,a();case 1:if(b.apply(e))return!0;this.Dispose();return!1;case 2:return!1}}catch(c){throw this.Dispose(),c;}};this.Dispose=function(){if(1==g)try{d()}finally{g=2}}},c=function(){var a=null;this.Current=function(){return a};this.Yield=function(b){a=b;return!0}},d=function(a,b,c,d){this.source=
a;this.keySelector=h.CreateLambda(b);this.descending=c;this.parent=d};d.prototype=new a;d.prototype.CreateOrderedEnumerable=function(a,b){return new d(this.source,a,b,this)};d.prototype.ThenBy=function(a){return this.CreateOrderedEnumerable(a,!1)};d.prototype.ThenByDescending=function(a){return this.CreateOrderedEnumerable(a,!0)};d.prototype.GetEnumerator=function(){var a=this,c,d,g=0;return new b(function(){c=[];d=[];a.source.ForEach(function(a,b){c.push(a);d.push(b)});var b=e.Create(a,null);b.GenerateKeys(c);
d.sort(function(a,c){return b.Compare(a,c)})},function(){return g<d.length?this.Yield(c[d[g++]]):!1},i)};var e=function(a,b,c){this.keySelector=a;this.descending=b;this.child=c;this.keys=null};e.Create=function(a,b){var c=new e(a.keySelector,a.descending,b);return null!=a.parent?e.Create(a.parent,c):c};e.prototype.GenerateKeys=function(a){for(var b=a.length,c=this.keySelector,d=Array(b),e=0;e<b;e++)d[e]=c(a[e]);this.keys=d;null!=this.child&&this.child.GenerateKeys(a)};e.prototype.Compare=function(a,
b){var c=h.Compare(this.keys[a],this.keys[b]);if(0==c){if(null!=this.child)return this.child.Compare(a,b);c=h.Compare(a,b)}return this.descending?-c:c};var g=function(a){this.source=a};g.prototype=new a;g.prototype.Any=function(b){return null==b?0<this.source.length:a.prototype.Any.apply(this,arguments)};g.prototype.Count=function(b){return null==b?this.source.length:a.prototype.Count.apply(this,arguments)};g.prototype.ElementAt=function(b){return 0<=b&&b<this.source.length?this.source[b]:a.prototype.ElementAt.apply(this,
arguments)};g.prototype.ElementAtOrDefault=function(a,b){return 0<=a&&a<this.source.length?this.source[a]:b};g.prototype.First=function(b){return null==b&&0<this.source.length?this.source[0]:a.prototype.First.apply(this,arguments)};g.prototype.FirstOrDefault=function(b,c){return null!=c?a.prototype.FirstOrDefault.apply(this,arguments):0<this.source.length?this.source[0]:b};g.prototype.Last=function(b){return null==b&&0<this.source.length?this.source[this.source.length-1]:a.prototype.Last.apply(this,
arguments)};g.prototype.LastOrDefault=function(b,c){return null!=c?a.prototype.LastOrDefault.apply(this,arguments):0<this.source.length?this.source[this.source.length-1]:b};g.prototype.Skip=function(c){var d=this.source;return new a(function(){var a;return new b(function(){a=0>c?0:c},function(){return a<d.length?this.Yield(d[a++]):!1},i)})};g.prototype.TakeExceptLast=function(a){null==a&&(a=1);return this.Take(this.source.length-a)};g.prototype.TakeFromLast=function(a){return this.Skip(this.source.length-
a)};g.prototype.Reverse=function(){var c=this.source;return new a(function(){var a;return new b(function(){a=c.length},function(){return 0<a?this.Yield(c[--a]):!1},i)})};g.prototype.SequenceEqual=function(b,c){return(b instanceof g||b instanceof Array)&&null==c&&a.From(b).Count()!=this.Count()?!1:a.prototype.SequenceEqual.apply(this,arguments)};g.prototype.ToString=function(b,c){if(null!=c||!(this.source instanceof Array))return a.prototype.ToString.apply(this,arguments);null==b&&(b="");return this.source.join(b)};
g.prototype.GetEnumerator=function(){var a=this.source,c=0;return new b(i,function(){return c<a.length?this.Yield(a[c++]):!1},i)};var p=function(){var c=function(a){return null===a?"null":void 0===a?"undefined":typeof a.toString===l?a.toString():Object.prototype.toString.call(a)},d=function(a,b){this.Key=a;this.Value=b;this.Next=this.Prev=null},e=function(){this.Last=this.First=null};e.prototype={AddLast:function(a){null!=this.Last?(this.Last.Next=a,a.Prev=this.Last,this.Last=a):this.First=this.Last=
a},Replace:function(a,b){null!=a.Prev?(a.Prev.Next=b,b.Prev=a.Prev):this.First=b;null!=a.Next?(a.Next.Prev=b,b.Next=a.Next):this.Last=b},Remove:function(a){null!=a.Prev?a.Prev.Next=a.Next:this.First=a.Next;null!=a.Next?a.Next.Prev=a.Prev:this.Last=a.Prev}};var g=function(a){this.count=0;this.entryList=new e;this.buckets={};this.compareSelector=null==a?n:a};g.prototype={Add:function(a,b){var e=this.compareSelector(a),g=c(e),h=new d(a,b);if(Object.prototype.hasOwnProperty.call(this.buckets,g)){for(var g=
this.buckets[g],i=0;i<g.length;i++)if(this.compareSelector(g[i].Key)===e){this.entryList.Replace(g[i],h);g[i]=h;return}g.push(h)}else this.buckets[g]=[h];this.count++;this.entryList.AddLast(h)},Get:function(a){var a=this.compareSelector(a),b=c(a);if(Object.prototype.hasOwnProperty.call(this.buckets,b))for(var b=this.buckets[b],d=0;d<b.length;d++){var e=b[d];if(this.compareSelector(e.Key)===a)return e.Value}},Set:function(a,b){var e=this.compareSelector(a),g=c(e);if(Object.prototype.hasOwnProperty.call(this.buckets,
g))for(var g=this.buckets[g],h=0;h<g.length;h++)if(this.compareSelector(g[h].Key)===e)return e=new d(a,b),this.entryList.Replace(g[h],e),g[h]=e,!0;return!1},Contains:function(a){var a=this.compareSelector(a),b=c(a);if(!Object.prototype.hasOwnProperty.call(this.buckets,b))return!1;for(var b=this.buckets[b],d=0;d<b.length;d++)if(this.compareSelector(b[d].Key)===a)return!0;return!1},Clear:function(){this.count=0;this.buckets={};this.entryList=new e},Remove:function(a){var a=this.compareSelector(a),b=
c(a);if(Object.prototype.hasOwnProperty.call(this.buckets,b))for(var d=this.buckets[b],e=0;e<d.length;e++)if(this.compareSelector(d[e].Key)===a){this.entryList.Remove(d[e]);d.splice(e,1);0==d.length&&delete this.buckets[b];this.count--;break}},Count:function(){return this.count},ToEnumerable:function(){var c=this;return new a(function(){var a;return new b(function(){a=c.entryList.First},function(){if(null!=a){var b={Key:a.Key,Value:a.Value};a=a.Next;return this.Yield(b)}return!1},i)})}};return g}(),
j=function(b){this.Count=function(){return b.Count()};this.Get=function(c){return a.From(b.Get(c))};this.Contains=function(a){return b.Contains(a)};this.ToEnumerable=function(){return b.ToEnumerable().Select(function(a){return new o(a.Key,a.Value)})}},o=function(a,b){this.Key=function(){return a};this.source=b};o.prototype=new g})(window);
(function(s){function q(l,i,n,q,a){this._listener=i;this._isOnce=n;this.context=q;this._signal=l;this._priority=a||0}function x(l,i){if("function"!==typeof l)throw Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",i));}var w={VERSION:"0.6.3"};q.prototype={active:!0,params:null,execute:function(l){var i;this.active&&this._listener&&(l=this.params?this.params.concat(l):l,i=this._listener.apply(this.context,l),this._isOnce&&this.detach());return i},detach:function(){return this.isBound()?
this._signal.remove(this._listener):null},isBound:function(){return!!this._signal&&!!this._listener},getListener:function(){return this._listener},_destroy:function(){delete this._signal;delete this._listener;delete this.context},isOnce:function(){return this._isOnce},toString:function(){return"[SignalBinding isOnce: "+this._isOnce+", isBound: "+this.isBound()+", active: "+this.active+"]"}};w.Signal=function(){this._bindings=[]};w.Signal.prototype={_shouldPropagate:!0,active:!0,_registerListener:function(l,
i,n,r){var a=this._indexOfListener(l);if(-1!==a){if(l=this._bindings[a],l.isOnce()!==i)throw Error("You cannot add"+(i?"":"Once")+"() then add"+(!i?"":"Once")+"() the same listener without removing the relationship first.");}else l=new q(this,l,i,n,r),this._addBinding(l);return l},_addBinding:function(l){var i=this._bindings.length;do--i;while(this._bindings[i]&&l._priority<=this._bindings[i]._priority);this._bindings.splice(i+1,0,l)},_indexOfListener:function(l){for(var i=this._bindings.length;i--;)if(this._bindings[i]._listener===
l)return i;return-1},add:function(l,i,n){x(l,"add");return this._registerListener(l,!1,i,n)},addOnce:function(l,i,n){x(l,"addOnce");return this._registerListener(l,!0,i,n)},remove:function(l){x(l,"remove");var i=this._indexOfListener(l);-1!==i&&(this._bindings[i]._destroy(),this._bindings.splice(i,1));return l},removeAll:function(){for(var l=this._bindings.length;l--;)this._bindings[l]._destroy();this._bindings.length=0},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=
!1},dispatch:function(l){if(this.active){var i=Array.prototype.slice.call(arguments),n=this._bindings.slice(),q=this._bindings.length;this._shouldPropagate=!0;do q--;while(n[q]&&this._shouldPropagate&&!1!==n[q].execute(i))}},dispose:function(){this.removeAll();delete this._bindings},toString:function(){return"[Signal active: "+this.active+" numListeners: "+this.getNumListeners()+"]"}};s.signals=w})(window||this);
